"use strict";var sX=Object.defineProperty,oX=Object.defineProperties,aX=Object.getOwnPropertyDescriptors,sF=Object.getOwnPropertySymbols,uX=Object.prototype.hasOwnProperty,cX=Object.prototype.propertyIsEnumerable,oF=(te,nt,kt)=>nt in te?sX(te,nt,{enumerable:!0,configurable:!0,writable:!0,value:kt}):te[nt]=kt,_f=(te,nt)=>{for(var kt in nt||(nt={}))uX.call(nt,kt)&&oF(te,kt,nt[kt]);if(sF)for(var kt of sF(nt))cX.call(nt,kt)&&oF(te,kt,nt[kt]);return te},wf=(te,nt)=>oX(te,aX(nt));(self.webpackChunkcontas=self.webpackChunkcontas||[]).push([[179],{317:()=>{function te(t){return"function"==typeof t}function nt(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const kt=nt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ca(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class hn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof kt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{JD(s)}catch(o){e=null!=e?e:[],o instanceof kt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JD(e);else{if(e instanceof hn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ca(n,e)}remove(e){const{_finalizers:n}=this;n&&Ca(n,e),e instanceof hn&&e._removeParent(this)}}hn.EMPTY=(()=>{const t=new hn;return t.closed=!0,t})();const ZD=hn.EMPTY;function XD(t){return t instanceof hn||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function JD(t){te(t)?t():t.unsubscribe()}const Ai={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zc={setTimeout(t,e,...n){const{delegate:r}=zc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=zc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function eb(t){zc.setTimeout(()=>{const{onUnhandledError:e}=Ai;if(!e)throw t;e(t)})}function tb(){}const aF=Df("C",void 0,void 0);function Df(t,e,n){return{kind:t,value:e,error:n}}let Mi=null;function Gc(t){if(Ai.useDeprecatedSynchronousErrorHandling){const e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Mi;if(Mi=null,n)throw r}}else t()}class bf extends hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,XD(e)&&e.add(this)):this.destination=pF}static create(e,n,r){return new Ia(e,n,r)}next(e){this.isStopped?Cf(function cF(t){return Df("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cf(function uF(t){return Df("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cf(aF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dF=Function.prototype.bind;function Ef(t,e){return dF.call(t,e)}class hF{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wc(r)}else Wc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wc(n)}}}class Ia extends bf{constructor(e,n,r){let i;if(super(),te(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&Ai.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ef(e.next,s),error:e.error&&Ef(e.error,s),complete:e.complete&&Ef(e.complete,s)}):i=e}this.destination=new hF(i)}}function Wc(t){Ai.useDeprecatedSynchronousErrorHandling?function lF(t){Ai.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}(t):eb(t)}function Cf(t,e){const{onStoppedNotification:n}=Ai;n&&zc.setTimeout(()=>n(t,e))}const pF={closed:!0,next:tb,error:function fF(t){throw t},complete:tb},If="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ni(t){return t}let Re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function mF(t){return t&&t instanceof bf||function gF(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}(t)&&XD(t)}(n)?n:new Ia(n,r,i);return Gc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=rb(r))((i,s)=>{const o=new Ia({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[If](){return this}pipe(...n){return function nb(t){return 0===t.length?Ni:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=rb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function rb(t){var e;return null!==(e=null!=t?t:Ai.Promise)&&void 0!==e?e:Promise}const yF=nt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let mr=(()=>{class t extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ib(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yF}next(n){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ZD:(this.currentObservers=null,s.push(n),new hn(()=>{this.currentObservers=null,Ca(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Re;return n.source=this,n}}return t.create=(e,n)=>new ib(e,n),t})();class ib extends mr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ZD}}function sb(t){return te(null==t?void 0:t.lift)}function dt(t){return e=>{if(sb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,e,n,r,i){return new vF(t,e,n,r,i)}class vF extends bf{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(t,e){return dt((n,r)=>{let i=0;n.subscribe(ht(r,s=>{r.next(t.call(e,s,i++))}))})}function zr(t){return this instanceof zr?(this.v=t,this):new zr(t)}function ub(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof zr?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function cb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Af(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const lb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function db(t){return te(null==t?void 0:t.then)}function hb(t){return te(t[If])}function fb(t){return Symbol.asyncIterator&&te(null==t?void 0:t[Symbol.asyncIterator])}function pb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gb=function jF(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mb(t){return te(null==t?void 0:t[gb])}function yb(t){return ub(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield zr(n.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function vb(t){return te(null==t?void 0:t.getReader)}function zn(t){if(t instanceof Re)return t;if(null!=t){if(hb(t))return function UF(t){return new Re(e=>{const n=t[If]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(lb(t))return function $F(t){return new Re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(db(t))return function HF(t){return new Re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,eb)})}(t);if(fb(t))return _b(t);if(mb(t))return function qF(t){return new Re(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(vb(t))return function zF(t){return _b(yb(t))}(t)}throw pb(t)}function _b(t){return new Re(e=>{(function GF(t,e){var n,r,i,s;return function ob(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=cb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function yr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function rt(t,e,n=1/0){return te(e)?rt((r,i)=>ye((s,o)=>e(r,s,i,o))(zn(t(r,i))),n):("number"==typeof e&&(n=e),dt((r,i)=>function WF(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;zn(n(g,l++)).subscribe(ht(e,_=>{null==i||i(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const _=u.shift();o?yr(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Ta(t=1/0){return rt(Ni,t)}const vr=new Re(t=>t.complete());function Mf(t){return t[t.length-1]}function Sa(t){return function QF(t){return t&&te(t.schedule)}(Mf(t))?t.pop():void 0}function Kc(t,e=0){return dt((n,r)=>{n.subscribe(ht(r,i=>yr(r,t,()=>r.next(i),e),()=>yr(r,t,()=>r.complete(),e),i=>yr(r,t,()=>r.error(i),e)))})}function Qc(t,e=0){return dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function wb(t,e){if(!t)throw new Error("Iterable cannot be null");return new Re(n=>{yr(n,e,()=>{const r=t[Symbol.asyncIterator]();yr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Et(t,e){return e?function rP(t,e){if(null!=t){if(hb(t))return function XF(t,e){return zn(t).pipe(Qc(e),Kc(e))}(t,e);if(lb(t))return function eP(t,e){return new Re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(db(t))return function JF(t,e){return zn(t).pipe(Qc(e),Kc(e))}(t,e);if(fb(t))return wb(t,e);if(mb(t))return function tP(t,e){return new Re(n=>{let r;return yr(n,e,()=>{r=t[gb](),yr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>te(null==r?void 0:r.return)&&r.return()})}(t,e);if(vb(t))return function nP(t,e){return wb(yb(t),e)}(t,e)}throw pb(t)}(t,e):zn(t)}function Nf(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ia({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function he(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Of(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const oP=ve({__forward_ref__:ve});function kf(t){return t.__forward_ref__=kf,t.toString=function(){return he(this())},t}function K(t){return function Db(t){return"function"==typeof t&&t.hasOwnProperty(oP)&&t.__forward_ref__===kf}(t)?t():t}class de extends Error{constructor(e,n){super(function Ff(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function H(t){return"string"==typeof t?t:null==t?"":String(t)}function ft(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():H(t)}function Yc(t,e){const n=e?` in ${e}`:"";throw new de(-201,`No provider for ${ft(t)} found${n}`)}function Jt(t,e){null==t&&function fe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pf(t){return bb(t,Zc)||bb(t,Cb)}function bb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Eb(t){return t&&(t.hasOwnProperty(Lf)||t.hasOwnProperty(fP))?t[Lf]:null}const Zc=ve({\u0275prov:ve}),Lf=ve({\u0275inj:ve}),Cb=ve({ngInjectableDef:ve}),fP=ve({ngInjectorDef:ve});var U=(()=>((U=U||{})[U.Default=0]="Default",U[U.Host=1]="Host",U[U.Self=2]="Self",U[U.SkipSelf=4]="SkipSelf",U[U.Optional=8]="Optional",U))();let Vf;function Wr(t){const e=Vf;return Vf=t,e}function Ib(t,e,n){const r=Pf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&U.Optional?null:void 0!==e?e:void Yc(he(t),"Injector")}function Kr(t){return{toString:t}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),Gn=(()=>{return(t=Gn||(Gn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Gn;var t})();const gP="undefined"!=typeof globalThis&&globalThis,mP="undefined"!=typeof window&&window,yP="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,me=gP||"undefined"!=typeof global&&global||mP||yP,ks={},_e=[],Xc=ve({\u0275cmp:ve}),Bf=ve({\u0275dir:ve}),jf=ve({\u0275pipe:ve}),Tb=ve({\u0275mod:ve}),wr=ve({\u0275fac:ve}),xa=ve({__NG_ELEMENT_ID__:ve});let vP=0;function Wn(t){return Kr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Gn.Emulated,id:"c",styles:t.styles||_e,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=vP++,r.inputs=Mb(t.inputs,n),r.outputs=Mb(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Sb):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(xb):null,r})}function Sb(t){return pt(t)||function Qr(t){return t[Bf]||null}(t)}function xb(t){return function Oi(t){return t[jf]||null}(t)}const Ab={};function Ri(t){return Kr(()=>{const e={type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ab[t.id]=t.type),e})}function Mb(t,e){if(null==t)return ks;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Ct=Wn;function pt(t){return t[Xc]||null}function fn(t,e){const n=t[Tb]||null;if(!n&&!0===e)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return n}const G=11;function Kn(t){return Array.isArray(t)&&"object"==typeof t[1]}function xn(t){return Array.isArray(t)&&!0===t[1]}function Hf(t){return 0!=(8&t.flags)}function nl(t){return 2==(2&t.flags)}function rl(t){return 1==(1&t.flags)}function An(t){return null!==t.template}function CP(t){return 0!=(512&t[2])}function Li(t,e){return t.hasOwnProperty(wr)?t[wr]:null}class SP{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rb(t){return t.type.prototype.ngOnChanges&&(t.setInput=AP),xP}function xP(){const t=kb(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ks)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function AP(t,e,n,r){const i=kb(t)||function MP(t,e){return t[Ob]=e}(t,{previous:ks,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new SP(u&&u.currentValue,e,o===ks),t[r]=e}const Ob="__ngSimpleChanges__";function kb(t){return t[Ob]||null}let Kf;function Qf(){return void 0!==Kf?Kf:"undefined"!=typeof document?document:void 0}function ke(t){return!!t.listen}const Fb={createRenderer:(t,e)=>Qf()};function qe(t){for(;Array.isArray(t);)t=t[0];return t}function tn(t,e){return qe(e[t.index])}function Yf(t,e){return t.data[e]}function nn(t,e){const n=e[t];return Kn(n)?n:n[0]}function Zf(t){return 128==(128&t[2])}function Yr(t,e){return null==e?null:t[e]}function Lb(t){t[18]=0}function Xf(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const q={lFrame:Gb(null),bindingsEnabled:!0};function Bb(){return q.bindingsEnabled}function E(){return q.lFrame.lView}function ae(){return q.lFrame.tView}function Jf(t){return q.lFrame.contextLView=t,t[8]}function Ye(){let t=jb();for(;null!==t&&64===t.type;)t=t.parent;return t}function jb(){return q.lFrame.currentTNode}function Qn(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function ep(){return q.lFrame.isParent}function js(){return q.lFrame.bindingIndex++}function WP(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,np(e)}function np(t){q.lFrame.currentDirectiveIndex=t}function ip(t){q.lFrame.currentQueryIndex=t}function QP(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function qb(t,e,n){if(n&U.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&U.Host||(i=QP(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=zb();return r.currentTNode=e,r.lView=t,!0}function ol(t){const e=zb(),n=t[1];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zb(){const t=q.lFrame,e=null===t?null:t.child;return null===e?Gb(t):e}function Gb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Wb(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Kb=Wb;function al(){const t=Wb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lt(){return q.lFrame.selectedIndex}function Zr(t){q.lFrame.selectedIndex=t}function Ae(){const t=q.lFrame;return Yf(t.tView,t.selectedIndex)}function ul(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function cl(t,e,n){Qb(t,e,3,n)}function ll(t,e,n,r){(3&t[2])===n&&Qb(t,e,n,r)}function sp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Qb(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(iL(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function iL(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Oa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function dl(t,e,n){const r=ke(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];ap(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Yb(t){return 3===t||4===t||6===t}function ap(t){return 64===t.charCodeAt(0)}function hl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Zb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Zb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Xb(t){return-1!==t}function Us(t){return 32767&t}function $s(t,e){let n=function cL(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let up=!0;function fl(t){const e=up;return up=t,e}let lL=0;function Fa(t,e){const n=lp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,cp(r.data,t),cp(e,null),cp(r.blueprint,null));const i=pl(t,e),s=t.injectorIndex;if(Xb(i)){const o=Us(i),a=$s(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function cp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function gl(t,e,n){!function dL(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xa)&&(r=n[xa]),null==r&&(r=n[xa]=lL++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function tE(t,e,n){if(n&U.Optional)return t;Yc(e,"NodeInjector")}function nE(t,e,n,r){if(n&U.Optional&&void 0===r&&(r=null),0==(n&(U.Self|U.Host))){const i=t[9],s=Wr(void 0);try{return i?i.get(e,r,n&U.Optional):Ib(e,r,n&U.Optional)}finally{Wr(s)}}return tE(r,e,n)}function rE(t,e,n,r=U.Default,i){if(null!==t){const s=function gL(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(xa)?t[xa]:void 0;return"number"==typeof e?e>=0?255&e:fL:e}(n);if("function"==typeof s){if(!qb(e,t,r))return r&U.Host?tE(i,n,r):nE(e,n,r,i);try{const o=s(r);if(null!=o||r&U.Optional)return o;Yc(n)}finally{Kb()}}else if("number"==typeof s){let o=null,a=lp(t,e),u=-1,c=r&U.Host?e[16][6]:null;for((-1===a||r&U.SkipSelf)&&(u=-1===a?pl(t,e):e[a+8],-1!==u&&oE(r,!1)?(o=e[1],a=Us(u),e=$s(u,e)):a=-1);-1!==a;){const l=e[1];if(sE(s,a,l.data)){const d=pL(a,e,n,o,r,c);if(d!==iE)return d}u=e[a+8],-1!==u&&oE(r,e[1].data[a+8]===c)&&sE(s,a,e)?(o=l,a=Us(u),e=$s(u,e)):a=-1}}}return nE(e,n,r,i)}const iE={};function fL(){return new Hs(Ye(),E())}function pL(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function ml(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&An(f)&&f.type===n)return u}return null}(a,o,n,null==r?nl(a)&&up:r!=o&&0!=(3&a.type),i&U.Host&&s===a);return null!==l?Pa(e,o,l,a):iE}function Pa(t,e,n,r){let i=t[n];const s=e.data;if(function sL(t){return t instanceof Oa}(i)){const o=i;o.resolving&&function aP(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new de(-200,`Circular dependency in DI detected for ${t}${n}`)}(ft(s[n]));const a=fl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Wr(o.injectImpl):null;qb(t,r,U.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function rL(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Rb(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Wr(u),fl(a),o.resolving=!1,Kb()}}return i}function sE(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function oE(t,e){return!(t&U.Self||t&U.Host&&e)}class Hs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rE(this._tNode,this._lView,e,r,n)}}const zs="__parameters__";function Ws(t,e,n){return Kr(()=>{const r=function hp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(zs)?u[zs]:Object.defineProperty(u,zs,{value:[]})[zs];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class se{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vL=new se("AnalyzeForEntryComponents");function Yn(t,e){t.forEach(n=>Array.isArray(n)?Yn(n,e):e(n))}function uE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Ua={},mp="__NG_DI_FLAG__",_l="ngTempTokenPath",xL=/\n/gm,fE="__source",ML=ve({provide:String,useValue:ve});let $a;function pE(t){const e=$a;return $a=t,e}function NL(t,e=U.Default){if(void 0===$a)throw new de(203,"");return null===$a?Ib(t,void 0,e):$a.get(t,e&U.Optional?null:void 0,e)}function V(t,e=U.Default){return(function pP(){return Vf}()||NL)(K(t),e)}const RL=V;function yp(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new de(900,"");let i,s=U.Default;for(let o=0;o<r.length;o++){const a=r[o],u=OL(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(V(i,s))}else e.push(V(r))}return e}function Ha(t,e){return t[mp]=e,t.prototype[mp]=e,t}function OL(t){return t[mp]}const wl=Ha(Ws("Inject",t=>({token:t})),-1),yn=Ha(Ws("Optional"),8),qa=Ha(Ws("SkipSelf"),4);var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();const bE="__ngContext__";function Tt(t,e){t[bE]=e}function wp(t){const e=function Ga(t){return t[bE]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function bp(t,e){return undefined(t,e)}function Wa(t){const e=t[3];return xn(e)?e[3]:e}function Ep(t){return AE(t[13])}function Cp(t){return AE(t[4])}function AE(t){for(;null!==t&&!xn(t);)t=t[4];return t}function Ys(t,e,n,r,i){if(null!=r){let s,o=!1;xn(r)?s=r:Kn(r)&&(o=!0,r=r[0]);const a=qe(r);0===t&&null!==n?null==i?FE(e,n,a):Bi(e,n,a,i||null,!0):1===t&&null!==n?Bi(e,n,a,i||null,!0):2===t?function Np(t,e,n){const r=bl(t,e);r&&function l2(t,e,n,r){ke(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function f2(t,e,n,r,i){const s=n[7];s!==qe(n)&&Ys(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Ka(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Tp(t,e,n){if(ke(t))return t.createElement(e,n);{const r=null!==n?function kP(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function NE(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xf(i,-1)),n.splice(r,1)}function Sp(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&NE(i,r),e>0&&(t[n-1][4]=r[4]);const s=yl(t,10+e);!function n2(t,e){Ka(t,e,e[G],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function RE(t,e){if(!(256&e[2])){const n=e[G];ke(n)&&n.destroyNode&&Ka(t,e,n,3,null,null),function s2(t){let e=t[13];if(!e)return xp(t[1],t);for(;e;){let n=null;if(Kn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Kn(e)&&xp(e[1],e),e=e[3];null===e&&(e=t),Kn(e)&&xp(e[1],e),n=e&&e[4]}e=n}}(e)}}function xp(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function c2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Oa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function u2(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):qe(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&ke(e[G])&&e[G].destroy();const n=e[17];if(null!==n&&xn(e[3])){n!==e[3]&&NE(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function OE(t,e,n){return function kE(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Gn.None||i===Gn.Emulated)return null}return tn(r,n)}(t,e.parent,n)}function Bi(t,e,n,r,i){ke(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function FE(t,e,n){ke(t)?t.appendChild(e,n):e.appendChild(n)}function PE(t,e,n,r,i){null!==r?Bi(t,e,n,r,i):FE(t,e,n)}function bl(t,e){return ke(t)?t.parentNode(e):e.parentNode}let Il,Tl,BE=function VE(t,e,n){return 40&t.type?tn(t,n):null};function El(t,e,n,r){const i=OE(t,r,e),s=e[G],a=function LE(t,e,n){return BE(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)PE(s,i,n[u],a,!1);else PE(s,i,n,a,!1)}function Cl(t,e){if(null!==e){const n=e.type;if(3&n)return tn(e,t);if(4&n)return Mp(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Cl(t,r);{const i=t[e.index];return xn(i)?Mp(-1,i):qe(i)}}if(32&n)return bp(e,t)()||qe(t[e.index]);{const r=UE(t,e);return null!==r?Array.isArray(r)?r[0]:Cl(Wa(t[16]),r):Cl(t,e.next)}}return null}function UE(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Mp(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Cl(r,i)}return e[7]}function Rp(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Tt(qe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Rp(t,e,n.child,r,i,s,!1),Ys(e,t,i,a,s);else if(32&u){const c=bp(n,r);let l;for(;l=c();)Ys(e,t,i,l,s);Ys(e,t,i,a,s)}else 16&u?$E(t,e,r,n,i,s):Ys(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ka(t,e,n,r,i,s){Rp(n,r,t.firstChild,e,i,s,!1)}function $E(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ys(e,t,i,u[c],s);else Rp(t,e,u,o[3],i,s,!0)}function HE(t,e,n){ke(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Op(t,e,n){ke(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ji(t){var e;return(null===(e=function kp(){if(void 0===Il&&(Il=null,me.trustedTypes))try{Il=me.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Il}())||void 0===e?void 0:e.createHTML(t))||t}function qE(t){var e;return(null===(e=function Fp(){if(void 0===Tl&&(Tl=null,me.trustedTypes))try{Tl=me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Tl}())||void 0===e?void 0:e.createHTML(t))||t}class WE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class C2{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ji(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class I2{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(e){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=ji(e),n;const r=this.inertDocument.createElement("body");return r.innerHTML=ji(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const n=e.attributes;for(let i=n.length-1;0<i;i--){const o=n.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const S2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,x2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sl(t){return(t=String(t)).match(S2)||t.match(x2)?t:"unsafe:"+t}function QE(t){return(t=String(t)).split(",").map(e=>Sl(e.trim())).join(", ")}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ya(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const YE=Zn("area,br,col,hr,img,wbr"),ZE=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XE=Zn("rp,rt"),Pp=Ya(YE,Ya(ZE,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ya(XE,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ya(XE,ZE)),Lp=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vp=Zn("srcset"),JE=Ya(Lp,Vp,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A2=Zn("script,style,template");class M2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Pp.hasOwnProperty(n))return this.sanitizedSomething=!0,!A2.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!JE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Lp[a]&&(u=Sl(u)),Vp[a]&&(u=QE(u)),this.buf.push(" ",o,'="',eC(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Pp.hasOwnProperty(n)&&!YE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(eC(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const N2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,R2=/([^\#-~ |!])/g;function eC(t){return t.replace(/&/g,"&amp;").replace(N2,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(R2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xl;function Bp(t){return"content"in t&&function k2(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ze=(()=>((ze=ze||{})[ze.NONE=0]="NONE",ze[ze.HTML=1]="HTML",ze[ze.STYLE=2]="STYLE",ze[ze.SCRIPT=3]="SCRIPT",ze[ze.URL=4]="URL",ze[ze.RESOURCE_URL=5]="RESOURCE_URL",ze))();function tC(t){const e=function Za(){const t=E();return t&&t[12]}();return e?qE(e.sanitize(ze.HTML,t)||""):function Qa(t,e){const n=function E2(t){return t instanceof WE&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"HTML")?qE(function Jr(t){return t instanceof WE?t.changingThisBreaksApplicationSecurity:t}(t)):function O2(t,e){let n=null;try{xl=xl||function KE(t){const e=new I2(t);return function T2(){try{return!!(new window.DOMParser).parseFromString(ji(""),"text/html")}catch(t){return!1}}()?new C2(e):e}(t);let r=e?String(e):"";n=xl.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=xl.getInertBodyElement(r)}while(r!==s);return ji((new M2).sanitizeChildren(Bp(n)||n))}finally{if(n){const r=Bp(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Qf(),H(t))}function $p(t){return t.ngOriginalError}function q2(t,...e){t.error(...e)}class Xa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function H2(t){return t&&t.ngErrorLogger||q2}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$p(e);for(;n&&$p(n);)n=$p(n);return n||null}}const Z2=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(me))();function Xn(t){return t instanceof Function?t():t}function iC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const sC="ng-template";function tV(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==iC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oC(t){return 4===t.type&&t.value!==sC}function nV(t,e,n){return e===(4!==t.type||n?t.value:sC)}function rV(t,e,n){let r=4;const i=t.attrs||[],s=function oV(t){for(let e=0;e<t.length;e++)if(Yb(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!nV(t,u,n)||""===u&&1===e.length){if(Mn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!tV(t.attrs,c,n)){if(Mn(r))return!1;o=!0}continue}const d=iV(8&r?"class":u,i,oC(t),n);if(-1===d){if(Mn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==iC(f,c,0)||2&r&&c!==h){if(Mn(r))return!1;o=!0}}}}else{if(!o&&!Mn(r)&&!Mn(u))return!1;if(o&&Mn(u))continue;o=!1,r=u|1&r}}return Mn(r)||o}function Mn(t){return 0==(1&t)}function iV(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function aV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function aC(t,e,n=!1){for(let r=0;r<e.length;r++)if(rV(t,e[r],n))return!0;return!1}function uC(t,e){return t?":not("+e.trim()+")":e}function cV(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Mn(o)&&(e+=uC(s,i),i=""),r=o,s=s||!Mn(r);n++}return""!==i&&(e+=uC(s,i)),e}const z={};function Xs(t){cC(ae(),E(),Lt()+t,!1)}function cC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&cl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ll(e,s,0,n)}Zr(n)}function wC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];ip(i),o.contentQueries(2,e[s],s)}}}function Ja(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lb(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[G]=a||t&&t[G],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Js(t,e,n,r,i){let s=t.data[e];if(null===s)s=function eg(t,e,n,r,i){const s=jb(),o=ep(),u=t.data[e]=function SV(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function GP(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ra(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Qn(s,!0),s}function eo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eu(t,e,n){ol(e);try{const r=t.viewQuery;null!==r&&cg(1,r,n);const i=t.template;null!==i&&DC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wC(t,e),t.staticViewQueries&&cg(2,t.viewQuery,n);const s=t.components;null!==s&&function CV(t,e){for(let n=0;n<e.length;n++)zV(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,al()}}function to(t,e,n,r){const i=e[2];if(256!=(256&i)){ol(e);try{Lb(e),function Ub(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&DC(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&cl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ll(e,c,0,null),sp(e,0)}if(function HV(t){for(let e=Ep(t);null!==e;e=Cp(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Xf(s,1),i[2]|=1024}}}(e),function $V(t){for(let e=Ep(t);null!==e;e=Cp(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Zf(r)&&to(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&wC(t,e),o){const c=t.contentCheckHooks;null!==c&&cl(e,c)}else{const c=t.contentHooks;null!==c&&ll(e,c,1),sp(e,1)}!function bV(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Zr(~i);else{const s=i,o=n[++r],a=n[++r];WP(o,s),a(2,e[s])}}}finally{Zr(-1)}}(t,e);const a=t.components;null!==a&&function EV(t,e){for(let n=0;n<e.length;n++)qV(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&cg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&cl(e,c)}else{const c=t.viewHooks;null!==c&&ll(e,c,2),sp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Xf(e[3],-1))}finally{al()}}}function IV(t,e,n,r){const i=e[10],o=function Pb(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&eu(t,e,r),to(t,e,n,r)}finally{!o&&i.end&&i.end()}}function DC(t,e,n,r,i){const s=Lt(),o=2&r;try{Zr(-1),o&&e.length>20&&cC(t,e,20,!1),n(r,i)}finally{Zr(s)}}function tg(t,e,n){!Bb()||(function kV(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Fa(n,e),Tt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=An(u);c&&BV(e,n,u);const l=Pa(e,t,a,n);Tt(l,e),null!==o&&jV(0,a-i,l,u,0,o),c&&(nn(n.index,e)[8]=l)}}(t,e,n,tn(n,e)),128==(128&n.flags)&&function FV(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function KP(){return q.lFrame.currentDirectiveIndex}();try{Zr(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];np(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&MC(c,l)}}finally{Zr(-1),np(a)}}(t,e,n))}function ng(t,e,n=tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function EC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Rl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Rl(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function TV(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:z);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function SC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function on(t,e,n,r,i,s,o,a){const u=tn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(jC(t,n,l,r,i),nl(e)&&function MV(t,e){const n=nn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function AV(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,ke(s)?s.setProperty(u,r,i):ap(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function rg(t,e,n,r){let i=!1;if(Bb()){const s=function PV(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];aC(n,o.selectors,!1)&&(i||(i=[]),gl(Fa(n,e),t,o.type),An(o)?(NC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,RC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=eo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=hl(n.mergedAttrs,d.hostAttrs),OC(t,n,e,c,d),VV(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function xV(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||oC(e)?null:UV(d,s);o.push(h),a=SC(d,c,a),u=SC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function LV(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new de(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=hl(n.mergedAttrs,n.attrs),i}function AC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function OV(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function MC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function NC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function VV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;An(e)&&(n[""]=t)}}function RC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function OC(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Li(i.type)),o=new Oa(s,An(i),null);t.blueprint[r]=o,n[r]=o,AC(t,e,0,r,eo(t,n,i.hostVars,z),i)}function BV(t,e,n){const r=tn(e,t),i=EC(n),s=t[10],o=Ol(t,Ja(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function jV(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function UV(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function kC(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qV(t,e){const n=nn(e,t);if(Zf(n)){const r=n[1];80&n[2]?to(r,n,r.template,n[8]):n[5]>0&&sg(n)}}function sg(t){for(let r=Ep(t);null!==r;r=Cp(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];to(o,s,o.template,s[8])}else s[5]>0&&sg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=nn(n[r],t);Zf(i)&&i[5]>0&&sg(i)}}function zV(t,e){const n=nn(e,t),r=n[1];(function GV(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),eu(r,n,n[8])}function Ol(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function og(t){for(;t;){t[2]|=64;const e=Wa(t);if(CP(t)&&!e)return t;t=e}return null}function FC(t){!function ag(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=wp(n),i=r[1];IV(i,r,i.template,n)}}(t[8])}function cg(t,e,n){ip(0),e(t,n)}const KV=(()=>Promise.resolve(null))();function PC(t){return t[7]||(t[7]=[])}function LC(t){return t.cleanup||(t.cleanup=[])}function BC(t,e){const n=t[9],r=n?n.get(Xa,null):null;r&&r.handleError(e)}function jC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Cr(t,e,n){const r=function il(t,e){return qe(e[t])}(e,t);!function ME(t,e,n){ke(t)?t.setValue(e,n):e.textContent=n}(t[G],r,n)}function kl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Of(i,a):2==s&&(r=Of(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const lg=new se("INJECTOR",-1);class UC{get(e,n=Ua){if(n===Ua){const r=new Error(`NullInjectorError: No provider for ${he(e)}!`);throw r.name="NullInjectorError",r}return n}}const dg=new se("Set Injector scope."),tu={},ZV={};let hg;function $C(){return void 0===hg&&(hg=new UC),hg}function HC(t,e=null,n=null,r){const i=qC(t,e,n,r);return i._resolveInjectorDefTypes(),i}function qC(t,e=null,n=null,r){return new XV(t,n,e||$C(),r)}class XV{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Yn(n,a=>this.processProvider(a,e,n)),Yn([e],a=>this.processInjectorType(a,[],s)),this.records.set(lg,no(void 0,this));const o=this.records.get(dg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:he(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Ua,r=U.Default){this.assertNotDestroyed();const i=pE(this),s=Wr(void 0);try{if(!(r&U.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function oB(t){return"function"==typeof t||"object"==typeof t&&t instanceof se}(e)&&Pf(e);a=u&&this.injectableDefInScope(u)?no(fg(e),tu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&U.Self?$C():this.parent).get(e,n=r&U.Optional&&n===Ua?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[_l]=o[_l]||[]).unshift(he(e)),i)throw o;return function kL(t,e,n,r){const i=t[_l];throw e[fE]&&i.unshift(e[fE]),t.message=function FL(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=he(e);if(Array.isArray(e))i=e.map(he).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):he(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xL,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[_l]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Wr(s),pE(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(he(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processInjectorType(e,n,r){if(!(e=K(e)))return!1;let i=Eb(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Eb(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Yn(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Yn(f,p=>this.processProvider(p,h,f||_e))}}this.injectorDefTypes.add(o);const u=Li(o)||(()=>new o);this.records.set(o,no(u,tu));const c=i.providers;if(null!=c&&!a){const l=e;Yn(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=ro(e=K(e))?e:K(e&&e.provide);const s=function eB(t,e,n){return GC(t)?no(void 0,t.useValue):no(function zC(t,e,n){let r;if(ro(t)){const i=K(t);return Li(i)||fg(i)}if(GC(t))r=()=>K(t.useValue);else if(function nB(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...yp(t.deps||[]));else if(function tB(t){return!(!t||!t.useExisting)}(t))r=()=>V(K(t.useExisting));else{const i=K(t&&(t.useClass||t.provide));if(!function iB(t){return!!t.deps}(t))return Li(i)||fg(i);r=()=>new i(...yp(t.deps))}return r}(t),tu)}(e);if(ro(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=no(void 0,tu,!0),o.factory=()=>yp(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===tu&&(n.value=ZV,n.value=n.factory()),"object"==typeof n.value&&n.value&&function sB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=K(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function fg(t){const e=Pf(t),n=null!==e?e.factory:Li(t);if(null!==n)return n;if(t instanceof se)throw new de(204,!1);if(t instanceof Function)return function JV(t){const e=t.length;if(e>0)throw function ja(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new de(204,!1);const n=function dP(t){const e=t&&(t[Zc]||t[Cb]);if(e){const n=function hP(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new de(204,!1)}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function GC(t){return null!==t&&"object"==typeof t&&ML in t}function ro(t){return"function"==typeof t}let an=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return HC({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return HC({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Ua,t.NULL=new UC,t.\u0275prov=ie({token:t,providedIn:"any",factory:()=>V(lg)}),t.__NG_ELEMENT_ID__=-1,t})();function pB(t,e){ul(wp(t)[1],Ye())}let Fl=null;function io(){if(!Fl){const t=me.Symbol;if(t&&t.iterator)Fl=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Fl=r)}}}return Fl}function nu(t){return!!yg(t)&&(Array.isArray(t)||!(t instanceof Map)&&io()in t)}function yg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function St(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function oo(t,e,n,r){return St(t,js(),n)?e+H(n)+r:z}function Ll(t,e,n,r,i,s,o,a){const u=E(),c=ae(),l=t+20,d=c.firstCreatePass?function IB(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Js(e,t,4,o||null,Yr(c,a));rg(e,n,l,Yr(c,u)),ul(e,l);const d=l.tViews=Rl(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Qn(d,!1);const h=u[G].createComment("");El(c,u,h,d),Tt(h,u),Ol(u,u[l]=kC(h,u,h,d)),rl(d)&&tg(c,u,d),null!=o&&ng(u,d,a)}function F(t,e=U.Default){const n=E();return null===n?V(t,e):rE(Ye(),n,K(t),e)}function Eg(){throw new Error("invalid")}function mo(t,e,n){const r=E();return St(r,js(),e)&&on(ae(),Ae(),r,t,e,r[G],n,!1),mo}function Cg(t,e,n,r,i){const o=i?"class":"style";jC(t,n,e.inputs[o],o,r)}function un(t,e,n,r){const i=E(),s=ae(),o=20+t,a=i[G],u=i[o]=Tp(a,e,function nL(){return q.lFrame.currentNamespace}()),c=s.firstCreatePass?function WB(t,e,n,r,i,s,o){const a=e.consts,c=Js(e,t,2,i,Yr(a,s));return rg(e,n,c,Yr(a,o)),null!==c.attrs&&kl(c,c.attrs,!1),null!==c.mergedAttrs&&kl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Qn(c,!0);const l=c.mergedAttrs;null!==l&&dl(a,u,l);const d=c.classes;null!==d&&Op(a,u,d);const h=c.styles;return null!==h&&HE(a,u,h),64!=(64&c.flags)&&El(s,i,u,c),0===function jP(){return q.lFrame.elementDepthCount}()&&Tt(u,i),function UP(){q.lFrame.elementDepthCount++}(),rl(c)&&(tg(s,i,c),function bC(t,e,n){if(Hf(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&ng(i,c),un}function _n(){let t=Ye();ep()?function tp(){q.lFrame.isParent=!1}():(t=t.parent,Qn(t,!1));const e=t;!function $P(){q.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(ul(n,t),Hf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function aL(t){return 0!=(16&t.flags)}(e)&&Cg(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uL(t){return 0!=(32&t.flags)}(e)&&Cg(n,e,E(),e.stylesWithoutHost,!1),_n}function $i(t,e,n,r){return un(t,e,n,r),_n(),$i}function Sg(){return E()}function Bl(t){return!!t&&"function"==typeof t.then}const SI=function TI(t){return!!t&&"function"==typeof t.subscribe};function Hi(t,e,n,r){const i=E(),s=ae(),o=Ye();return function AI(t,e,n,r,i,s,o,a){const u=rl(r),l=t.firstCreatePass&&LC(t),d=e[8],h=PC(e);let f=!0;if(3&r.type||a){const m=tn(r,e),_=a?a(m):m,y=h.length,C=a?R=>a(qe(R[r.index])):r.index;if(ke(n)){let R=null;if(!a&&u&&(R=function QB(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,f=!1;else{s=xg(r,e,d,s,!1);const P=n.listen(_,i,s);h.push(s,P),l&&l.push(i,C,y,y+1)}}else s=xg(r,e,d,s,!0),_.addEventListener(i,s,o),h.push(s),l&&l.push(i,C,y,o)}else s=xg(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const Z=e[g[_]][g[_+1]].subscribe(s),Ve=h.length;h.push(s,Z),l&&l.push(i,r.index,Ve,-(Ve+1))}}}(s,i,i[G],o,t,e,!!n,r),Hi}function MI(t,e,n,r){try{return!1!==n(r)}catch(i){return BC(t,i),!1}}function xg(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?nn(t.index,e):e;0==(32&e[2])&&og(a);let u=MI(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=MI(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ir(t=1){return function YP(t){return(q.lFrame.contextLView=function ZP(t,e){for(;t>0;)e=e[15],t--;return e}(t,q.lFrame.contextLView))[8]}(t)}function Ag(t,e,n){return Mg(t,"",e,"",n),Ag}function Mg(t,e,n,r,i){const s=E(),o=oo(s,e,n,r);return o!==z&&on(ae(),Ae(),s,t,o,s[G],i,!1),Mg}function vo(t,e=""){const n=E(),r=ae(),i=t+20,s=r.firstCreatePass?Js(r,i,1,e,null):r.data[i],o=n[i]=function Ip(t,e){return ke(t)?t.createText(e):t.createTextNode(e)}(n[G],e);El(r,n,o,s),Qn(s,!1)}function Rg(t){return Og("",t,""),Rg}function Og(t,e,n){const r=E(),i=oo(r,t,e,n);return i!==z&&Cr(r,Lt(),i),Og}const Ul="en-US";let DT=Ul;class GT{}class BU{resolveComponentFactory(e){throw function VU(t){const e=Error(`No component factory found for ${he(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let cu=(()=>{class t{}return t.NULL=new BU,t})();function jU(){return Do(Ye(),E())}function Do(t,e){return new ni(tn(t,e))}let ni=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=jU,t})();class KT{}let Gl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function HU(){const t=E(),n=nn(Ye().index,t);return function $U(t){return t[G]}(Kn(n)?n:t)}(),t})(),qU=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>null}),t})();class lu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zU=new lu("13.3.12"),jg={};function Wl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(qe(s)),xn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Wl(u[1],u,c,r)}const o=n.type;if(8&o)Wl(t,e,n.child,r);else if(32&o){const a=bp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=UE(e,n);if(Array.isArray(a))r.push(...a);else{const u=Wa(e[16]);Wl(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class du{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Wl(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(xn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Sp(e,r),yl(n,r))}this._attachedToViewContainer=!1}RE(this._lView[1],this._lView)}onDestroy(e){!function TC(t,e,n,r){const i=PC(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&LC(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){og(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function ug(t,e,n){const r=e[10];r.begin&&r.begin();try{to(t,e,t.template,n)}catch(i){throw BC(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i2(t,e){Ka(t,e,e[G],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new de(902,"");this._appRef=e}}class GU extends du{constructor(e){super(e),this._view=e}detectChanges(){FC(this._view)}checkNoChanges(){}get context(){return null}}class QT extends cu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pt(e);return new Ug(n,this.ngModule)}}function YT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Ug extends GT{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function lV(t){return t.map(cV).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return YT(this.componentDef.inputs)}get outputs(){return YT(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function KU(t,e){return{get:(n,r,i)=>{const s=t.get(n,jg,i);return s!==jg||r===jg?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(KT,Fb),a=s.get(qU,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function IC(t,e,n){if(ke(t))return t.selectRootElement(e,n===Gn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Tp(o.createRenderer(null,this.componentDef),c,function WU(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function rI(t,e){return{components:[],scheduler:t||Z2,clean:KV,playerHandler:e||null,flags:0}}(),f=Rl(0,null,null,1,0,null,null,null,null,null),p=Ja(null,f,h,d,null,null,o,u,a,s);let g,m;ol(p);try{const _=function tI(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Js(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(kl(u,c,!0),null!==t&&(dl(i,t,c),null!==u.classes&&Op(i,t,u.classes),null!==u.styles&&HE(i,t,u.styles)));const l=r.createRenderer(t,e),d=Ja(n,EC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(gl(Fa(u,n),o,e.type),NC(o,u),RC(u,n.length,1)),Ol(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)dl(u,l,["ng-version",zU.full]);else{const{attrs:y,classes:C}=function dV(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Mn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&dl(u,l,y),C&&C.length>0&&Op(u,l,C.join(" "))}if(m=Yf(f,20),void 0!==n){const y=m.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const R=n[C];y.push(null!=R?Array.from(R):null)}}g=function nI(t,e,n,r,i){const s=n[1],o=function RV(t,e,n){const r=Ye();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),OC(t,r,e,eo(t,e,1,null),n));const i=Pa(e,t,r.directiveStart,r);Tt(i,e);const s=tn(r,e);return s&&Tt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Ye();e.contentQueries(1,o,u.directiveStart)}const a=Ye();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Zr(a.index),AC(n[1],a,0,a.directiveStart,a.directiveEnd,e),MC(e,o)),o}(_,this.componentDef,p,h,[pB]),eu(f,p,null)}finally{al()}return new YU(this.componentType,g,Do(m,p),p,m)}}class YU extends class LU{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new GU(i),this.componentType=e}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Tr{}class ZT{}const bo=new Map;class eS extends Tr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new QT(this);const r=fn(e);this._bootstrapComponents=Xn(r.bootstrap),this._r3Injector=qC(e,n,[{provide:Tr,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],he(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=an.THROW_IF_NOT_FOUND,r=U.Default){return e===an||e===Tr||e===lg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $g extends ZT{constructor(e){super(),this.moduleType=e,null!==fn(e)&&function XU(t){const e=new Set;!function n(r){const i=fn(r,!0),s=i.id;null!==s&&(function XT(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${he(e)} vs ${he(e.name)}`)}(s,bo.get(s),r),bo.set(s,r));const o=Xn(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new eS(this.moduleType,e)}}function Hg(t){return e=>{setTimeout(t,void 0,e)}}const jt=class m$ extends mr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Hg(u),a&&(a=Hg(a)),c&&(c=Hg(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof hn&&e.add(l),l}};Symbol;let Sr=(()=>{class t{}return t.__NG_ELEMENT_ID__=w$,t})();const v$=Sr,_$=class extends v${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Ja(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),eu(n,r,e),new du(r)}};function w$(){return function Kl(t,e){return 4&t.type?new _$(e,t,Do(t,e)):null}(Ye(),E())}let Fn=(()=>{class t{}return t.__NG_ELEMENT_ID__=D$,t})();function D$(){return function uS(t,e){let n;const r=e[t.index];if(xn(r))n=r;else{let i;if(8&t.type)i=qe(r);else{const s=e[G];i=s.createComment("");const o=tn(t,e);Bi(s,bl(s,o),i,function d2(t,e){return ke(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=kC(r,e,i,t),Ol(e,n)}return new oS(n,t,e)}(Ye(),E())}const b$=Fn,oS=class extends b${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Do(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const e=pl(this._hostTNode,this._hostLView);if(Xb(e)){const n=$s(e,this._hostLView),r=Us(e);return new Hs(n[1].data[r+8],n)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=aS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function Ba(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Ug(pt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Tr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function BP(t){return xn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new oS(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function o2(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],uE(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function a2(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Mp(s,o),u=r[G],c=bl(u,o[7]);return null!==c&&function r2(t,e,n,r,i,s){r[0]=i,r[6]=e,Ka(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),uE(zg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=aS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Sp(this._lContainer,n);r&&(yl(zg(this._lContainer),n),RE(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Sp(this._lContainer,n);return r&&null!=yl(zg(this._lContainer),n)?new du(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function aS(t){return t[8]}function zg(t){return t[8]||(t[8]=[])}function Zl(...t){}const sm=new se("Application Initializer");let om=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Zl,this.reject=Zl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Bl(s))n.push(s);else if(SI(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(V(sm,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gu=new se("AppId",{providedIn:"root",factory:function MS(){return`${am()}${am()}${am()}`}});function am(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NS=new se("Platform Initializer"),RS=new se("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OS=new se("appBootstrapListener");let Q$=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ri=new se("LocaleId",{providedIn:"root",factory:()=>RL(ri,U.Optional|U.SkipSelf)||function Y$(){return"undefined"!=typeof $localize&&$localize.locale||Ul}()});class X${constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let kS=(()=>{class t{compileModuleSync(n){return new $g(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Xn(fn(n).declarations).reduce((o,a)=>{const u=pt(a);return u&&o.push(new Ug(u)),o},[]);return new X$(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const e4=(()=>Promise.resolve(0))();function um(t){"undefined"==typeof Zone?e4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jt(!1),this.onMicrotaskEmpty=new jt(!1),this.onStable=new jt(!1),this.onError=new jt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function t4(){let t=me.requestAnimationFrame,e=me.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function i4(t){const e=()=>{!function r4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(me,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,lm(t),t.isCheckStableRunning=!0,cm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),lm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return FS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),PS(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return FS(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),PS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,lm(t),cm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,n4,Zl,Zl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const n4={};function cm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function FS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PS(t){t._nesting--,cm(t)}class s4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jt,this.onMicrotaskEmpty=new jt,this.onStable=new jt,this.onError=new jt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let dm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gt.assertNotInAngularZone(),um(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())um(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(V(gt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),o4=(()=>{class t{constructor(){this._applications=new Map,hm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return hm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class a4{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let hm=new a4,zi=null;const LS=new se("AllowMultipleToken"),VS=new se("PlatformOnDestroy");class BS{constructor(e,n){this.name=e,this.token=n}}function jS(t,e,n=[]){const r=`Platform: ${e}`,i=new se(r);return(s=[])=>{let o=fm();if(!o||o.injector.get(LS,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function d4(t){if(zi&&!zi.get(LS,!1))throw new de(400,"");zi=t;const e=t.get(US),n=t.get(NS,null);n&&n.forEach(r=>r())}(function f4(t=[],e){return an.create({name:e,providers:[{provide:dg,useValue:"platform"},{provide:VS,useValue:()=>zi=null},...t]})}(a,r))}return function h4(t){const e=fm();if(!e)throw new de(401,"");return e}()}}function fm(){var t;return null!==(t=null==zi?void 0:zi.get(US))&&void 0!==t?t:null}let US=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function p4(t,e){let n;return n="noop"===t?new s4:("zone.js"===t?void 0:t)||new gt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:gt,useValue:a}];return a.run(()=>{const c=an.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Xa,null);if(!d)throw new de(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{gm(this._modules,l),h.unsubscribe()})}),function g4(t,e,n){try{const r=n();return Bl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(om);return h.runInitializers(),h.donePromise.then(()=>(function Uj(t){Jt(t,"Expected localeId to be defined"),"string"==typeof t&&(DT=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(ri,Ul)||Ul),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=$S({},r);return function c4(t,e,n){const r=new $g(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(pm);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new de(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(VS,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(V(an))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function $S(t,e){return Array.isArray(e)?e.reduce($S,t):Object.assign(Object.assign({},t),e)}let pm=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Re(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Re(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{gt.assertNotInAngularZone(),um(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{gt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function iP(...t){const e=Sa(t),n=function ZF(t,e){return"number"==typeof Mf(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?zn(r[0]):Ta(n)(Et(r,e)):vr}(o,a.pipe(function sP(t={}){const{connector:e=(()=>new mr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return dt((g,m)=>{c++,!d&&!l&&h();const _=u=null!=u?u:e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Nf(p,i))}),_.subscribe(m),!o&&c>0&&(o=new Ia({next:y=>_.next(y),error:y=>{d=!0,h(),a=Nf(f,n,y),_.error(y)},complete:()=>{l=!0,h(),a=Nf(f,r),_.complete()}}),zn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new de(405,"");let i;i=n instanceof GT?n:this._injector.get(cu).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function l4(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Tr),a=i.create(an.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(dm,null),l=c&&a.injector.get(o4);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),gm(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new de(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;gm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(OS,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(V(gt),V(an),V(Xa),V(om))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let qS=!0,mm=(()=>{class t{}return t.__NG_ELEMENT_ID__=v4,t})();function v4(t){return function _4(t,e,n){if(nl(t)&&!n){const r=nn(t.index,e);return new du(r,r)}return 47&t.type?new du(e[16],e):null}(Ye(),E(),16==(16&t))}class QS{constructor(){}supports(e){return nu(e)}create(e){return new I4(e)}}const C4=(t,e)=>e;class I4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||C4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<ZS(r,i,s)?n:r,a=ZS(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!nu(e))throw new de(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function CB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[io()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new T4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new YS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class T4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class YS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new S4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZS(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class XS{constructor(){}supports(e){return e instanceof Map||yg(e)}create(){return new x4}}class x4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||yg(e)))throw new de(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new A4(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class A4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JS(){return new ed([new QS])}let ed=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||JS()),deps:[[t,new qa,new yn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new de(901,"")}}return t.\u0275prov=ie({token:t,providedIn:"root",factory:JS}),t})();function ex(){return new mu([new XS])}let mu=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ex()),deps:[[t,new qa,new yn]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new de(901,"")}}return t.\u0275prov=ie({token:t,providedIn:"root",factory:ex}),t})();const R4=jS(null,"core",[]);let O4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(V(pm))},t.\u0275mod=Ri({type:t}),t.\u0275inj=Gr({}),t})(),td=null;function ii(){return td}const wn=new se("DocumentToken");let Wi=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:function(){return function L4(){return V(tx)}()},providedIn:"platform"}),t})();const V4=new se("Location Initialized");let tx=(()=>{class t extends Wi{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ii().getBaseHref(this._doc)}onPopState(n){const r=ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){nx()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){nx()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(V(wn))},t.\u0275prov=ie({token:t,factory:function(){return function B4(){return new tx(V(wn))}()},providedIn:"platform"}),t})();function nx(){return!!window.history.pushState}function Dm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function rx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function xr(t){return t&&"?"!==t[0]?"?"+t:t}let Co=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:function(){return function j4(t){const e=V(wn).location;return new ix(V(Wi),e&&e.origin||"")}()},providedIn:"root"}),t})();const bm=new se("appBaseHref");let ix=(()=>{class t extends Co{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+xr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+xr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(V(Wi),V(bm,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),U4=(()=>{class t extends Co{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Dm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+xr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+xr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(V(Wi),V(bm,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),Em=(()=>{class t{constructor(n,r){this._subject=new jt,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=rx(sx(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xr(r))}normalize(n){return t.stripTrailingSlash(function H4(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,sx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=xr,t.joinWithSlash=Dm,t.stripTrailingSlash=rx,t.\u0275fac=function(n){return new(n||t)(V(Co),V(Wi))},t.\u0275prov=ie({token:t,factory:function(){return function $4(){return new Em(V(Co),V(Wi))}()},providedIn:"root"}),t})();function sx(t){return t.replace(/\/index.html$/,"")}let px=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(nu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${he(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(F(ed),F(mu),F(ni),F(Gl))},t.\u0275dir=Ct({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class xH{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gx=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new xH(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),mx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{mx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(F(Fn),F(Sr),F(ed))},t.\u0275dir=Ct({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function mx(t,e){t.context.$implicit=e.item}let yx=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new AH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(F(Fn),F(Sr))},t.\u0275dir=Ct({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class AH{constructor(){this.$implicit=null,this.ngIf=null}}function vx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${he(e)}'.`)}let Dx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ri({type:t}),t.\u0275inj=Gr({}),t})();let s3=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>new o3(V(wn),window)}),t})();class o3{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function a3(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ex(this.window.history)||Ex(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ex(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Lm extends class c3 extends class P4{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function F4(t){td||(td=t)}(new Lm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function l3(){return _u=_u||document.querySelector("base"),_u?_u.getAttribute("href"):null}();return null==n?null:function d3(t){dd=dd||document.createElement("a"),dd.setAttribute("href",t);const e=dd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){_u=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function TH(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let dd,_u=null;const Cx=new se("TRANSITION_ID"),f3=[{provide:sm,useFactory:function h3(t,e,n){return()=>{n.get(om).donePromise.then(()=>{const r=ii(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Cx,wn,an],multi:!0}];class Vm{static init(){!function u4(t){hm=t}(new Vm)}addToWindow(e){me.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},me.getAllAngularTestabilities=()=>e.getAllTestabilities(),me.getAllAngularRootElements=()=>e.getAllRootElements(),me.frameworkStabilizers||(me.frameworkStabilizers=[]),me.frameworkStabilizers.push(r=>{const i=me.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?ii().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let p3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const hd=new se("EventManagerPlugins");let fd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(V(hd),V(gt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class Ix{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ii().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Tx=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),wu=(()=>{class t extends Tx{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Sx),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Sx))}}return t.\u0275fac=function(n){return new(n||t)(V(wn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function Sx(t){ii().remove(t)}const Bm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jm=/%COMP%/g;function pd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pd(t,i,n):(i=i.replace(jm,t),n.push(i))}return n}function Mx(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Um=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $m(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Gn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new w3(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Gn.ShadowDom:return new D3(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=pd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(V(fd),V(wu),V(gu))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class $m{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Bm[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Bm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Bm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sn.DashCase|sn.Important)?e.style.setProperty(n,r,i&sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Mx(r)):this.eventManager.addEventListener(e,n,Mx(r))}}class w3 extends $m{constructor(e,n,r,i){super(e),this.component=r;const s=pd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function y3(t){return"_ngcontent-%COMP%".replace(jm,t)}(i+"-"+r.id),this.hostAttr=function v3(t){return"_nghost-%COMP%".replace(jm,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class D3 extends $m{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=pd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let b3=(()=>{class t extends Ix{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(V(wn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const Rx=["alt","control","meta","shift"],C3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ox={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let T3=(()=>{class t extends Ix{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ii().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Rx.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function S3(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ox.hasOwnProperty(e)&&(e=Ox[e]))}return C3[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Rx.forEach(s=>{s!=i&&I3[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(V(wn))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const N3=jS(R4,"browser",[{provide:RS,useValue:"browser"},{provide:NS,useValue:function x3(){Lm.makeCurrent(),Vm.init()},multi:!0},{provide:wn,useFactory:function M3(){return function FP(t){Kf=t}(document),document},deps:[]}]),R3=[{provide:dg,useValue:"root"},{provide:Xa,useFactory:function A3(){return new Xa},deps:[]},{provide:hd,useClass:b3,multi:!0,deps:[wn,gt,RS]},{provide:hd,useClass:T3,multi:!0,deps:[wn]},{provide:Um,useClass:Um,deps:[fd,wu,gu]},{provide:KT,useExisting:Um},{provide:Tx,useExisting:wu},{provide:wu,useClass:wu,deps:[wn]},{provide:dm,useClass:dm,deps:[gt]},{provide:fd,useClass:fd,deps:[hd,gt]},{provide:class u3{},useClass:p3,deps:[]}];let O3=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:gu,useValue:n.appId},{provide:Cx,useExisting:gu},f3]}}}return t.\u0275fac=function(n){return new(n||t)(V(t,12))},t.\u0275mod=Ri({type:t}),t.\u0275inj=Gr({providers:R3,imports:[Dx,O4]}),t})();function Y(...t){return Et(t,Sa(t))}"undefined"!=typeof window&&window;class Vn extends mr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:q3}=Array,{getPrototypeOf:z3,prototype:G3,keys:W3}=Object;const{isArray:Y3}=Array;function e9(...t){const e=Sa(t),n=function YF(t){return te(Mf(t))?t.pop():void 0}(t),{args:r,keys:i}=function K3(t){if(1===t.length){const e=t[0];if(q3(e))return{args:e,keys:null};if(function Q3(t){return t&&"object"==typeof t&&z3(t)===G3}(e)){const n=W3(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Et([],e);const s=new Re(function t9(t,e,n=Ni){return r=>{Px(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Px(e,()=>{const c=Et(t[u],e);let l=!1;c.subscribe(ht(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function J3(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Ni));return n?s.pipe(function X3(t){return ye(e=>function Z3(t,e){return Y3(e)?t(...e):t(e)}(t,e))}(n)):s}function Px(t,e,n){t?yr(n,t,e):e()}function gd(t,e){const n=te(t)?t:()=>t,r=i=>i.error(n());return new Re(e?i=>e.schedule(r,0,i):r)}const md=nt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qm(...t){return function n9(){return Ta(1)}()(Et(t,Sa(t)))}function Lx(t){return new Re(e=>{zn(t()).subscribe(e)})}function Vx(){return dt((t,e)=>{let n=null;t._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class r9 extends Re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hn;const n=this.getSubject();e.add(this.source.subscribe(ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hn.EMPTY)}return e}refCount(){return Vx()(this)}}function Ki(t,e){return dt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ht(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;zn(t(u,l)).subscribe(i=ht(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function zm(t){return t<=0?()=>vr:dt((e,n)=>{let r=0;e.subscribe(ht(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function s9(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ht(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Bx(t,e){return dt(s9(t,e,arguments.length>=2,!0))}function Io(t,e){return dt((n,r)=>{let i=0;n.subscribe(ht(r,s=>t.call(e,s,i++)&&r.next(s)))})}function oi(t){return dt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ht(n,void 0,void 0,o=>{s=zn(t(o,oi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Du(t,e){return te(e)?rt(t,e,1):rt(t,1)}function Gm(t){return t<=0?()=>vr:dt((e,n)=>{let r=[];e.subscribe(ht(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function jx(t=o9){return dt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function o9(){return new md}function Ux(t){return dt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function To(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Io((i,s)=>t(i,s,r)):Ni,zm(1),n?Ux(e):jx(()=>new md))}function Wt(t,e,n){const r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ni}class Mr{constructor(e,n){this.id=e,this.url=n}}class Wm extends Mr{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bu extends Mr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $x extends Mr{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class c9 extends Mr{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class l9 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d9 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h9 extends Mr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f9 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p9 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qx{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class g9{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m9{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y9{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v9{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zx{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const J="primary";class _9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function So(t){return new _9(t)}const Gx="ngNavigationCancelingError";function Km(t){const e=Error("NavigationCancelingError: "+t);return e[Gx]=!0,e}function D9(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Wx(t[i],e[i]))return!1;return!0}function Wx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function Kx(t){return Array.prototype.concat.apply([],t)}function Qx(t){return t.length>0?t[t.length-1]:null}function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ir(t){return SI(t)?t:Bl(t)?Et(Promise.resolve(t)):Y(t)}const C9={exact:function Xx(t,e,n){if(!Yi(t.segments,e.segments)||!yd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Xx(t.children[r],e.children[r],n))return!1;return!0},subset:Jx},Yx={exact:function I9(t,e){return rr(t,e)},subset:function T9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Wx(t[n],e[n]))},ignored:()=>!0};function Zx(t,e,n){return C9[n.paths](t.root,e.root,n.matrixParams)&&Yx[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Jx(t,e,n){return eA(t,e,e.segments,n)}function eA(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Yi(i,n)||e.hasChildren()||!yd(i,n,r))}if(t.segments.length===n.length){if(!Yi(t.segments,n)||!yd(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Jx(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Yi(t.segments,i)&&yd(t.segments,i,r)&&t.children[J])&&eA(t.children[J],e,s,r)}}function yd(t,e,n){return e.every((r,i)=>Yx[n](t[i].parameters,r.parameters))}class Qi{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return A9.serialize(this)}}class ne{constructor(e,n){this.segments=e,this.children=n,this.parent=null,mt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vd(this)}}class Eu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=So(this.parameters)),this._parameterMap}toString(){return sA(this)}}function Yi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class tA{}class nA{parse(e){const n=new V9(e);return new Qi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Cu(e.root,!0)}`,r=function R9(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${_d(n)}=${_d(i)}`).join("&"):`${_d(n)}=${_d(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function M9(t){return encodeURI(t)}(e.fragment)}`:""}`}}const A9=new nA;function vd(t){return t.segments.map(e=>sA(e)).join("/")}function Cu(t,e){if(!t.hasChildren())return vd(t);if(e){const n=t.children[J]?Cu(t.children[J],!1):"",r=[];return mt(t.children,(i,s)=>{s!==J&&r.push(`${s}:${Cu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function x9(t,e){let n=[];return mt(t.children,(r,i)=>{i===J&&(n=n.concat(e(r,i)))}),mt(t.children,(r,i)=>{i!==J&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===J?[Cu(t.children[J],!1)]:[`${i}:${Cu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[J]?`${vd(t)}/${n[0]}`:`${vd(t)}/(${n.join("//")})`}}function rA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _d(t){return rA(t).replace(/%3B/gi,";")}function Qm(t){return rA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wd(t){return decodeURIComponent(t)}function iA(t){return wd(t.replace(/\+/g,"%20"))}function sA(t){return`${Qm(t.path)}${function N9(t){return Object.keys(t).map(e=>`;${Qm(e)}=${Qm(t[e])}`).join("")}(t.parameters)}`}const O9=/^[^\/()?;=#]+/;function Dd(t){const e=t.match(O9);return e?e[0]:""}const k9=/^[^=?&#]+/,P9=/^[^&#]+/;class V9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new ne(e,n)),r}parseSegment(){const e=Dd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Eu(wd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Dd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Dd(this.remaining);i&&(r=i,this.capture(r))}e[wd(n)]=wd(r)}parseQueryParam(e){const n=function F9(t){const e=t.match(k9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function L9(t){const e=t.match(P9);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=iA(n),s=iA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[J]:new ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class oA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Ym(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Ym(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Zm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zm(e,this._root).map(n=>n.value)}}function Ym(t,e){if(t===e.value)return e;for(const n of e.children){const r=Ym(t,n);if(r)return r}return null}function Zm(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zm(t,n);if(r.length)return r.unshift(e),r}return[]}class Nr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function xo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class aA extends oA{constructor(e,n){super(e),this.snapshot=n,Xm(this,e)}toString(){return this.snapshot.toString()}}function uA(t,e){const n=function B9(t,e){const o=new bd([],{},{},"",{},J,e,null,t.root,-1,{});return new lA("",new Nr(o,[]))}(t,e),r=new Vn([new Eu("",{})]),i=new Vn({}),s=new Vn({}),o=new Vn({}),a=new Vn(""),u=new Ao(r,i,o,a,s,J,e,n.root);return u.snapshot=n.root,new aA(new Nr(u,[]),n)}class Ao{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>So(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>So(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cA(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function j9(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class bd{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=So(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lA extends oA{constructor(e,n){super(n),this.url=e,Xm(this,n)}toString(){return dA(this._root)}}function Xm(t,e){e.value._routerState=t,e.children.forEach(n=>Xm(t,n))}function dA(t){const e=t.children.length>0?` { ${t.children.map(dA).join(", ")} } `:"";return`${t.value}${e}`}function Jm(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),rr(e.params,n.params)||t.params.next(n.params),function b9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),rr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ey(t,e){const n=rr(t.params,e.params)&&function S9(t,e){return Yi(t,e)&&t.every((n,r)=>rr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ey(t.parent,e.parent))}function Iu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function $9(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Iu(t,r,i);return Iu(t,r)})}(t,e,n);return new Nr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Iu(t,a)),o}}const r=function H9(t){return new Ao(new Vn(t.url),new Vn(t.params),new Vn(t.queryParams),new Vn(t.fragment),new Vn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Iu(t,s));return new Nr(r,i)}}function Ed(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Tu(t){return"object"==typeof t&&null!=t&&t.outlets}function ty(t,e,n,r,i){let s={};if(r&&mt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),t===e)return new Qi(n,s,i);const o=hA(t,e,n);return new Qi(o,s,i)}function hA(t,e,n){const r={};return mt(t.children,(i,s)=>{r[s]=i===e?n:hA(i,e,n)}),new ne(t.segments,r)}class fA{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ed(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Tu);if(i&&i!==Qx(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ny{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function pA(t,e,n){if(t||(t=new ne([],{})),0===t.segments.length&&t.hasChildren())return Cd(t,e,n);const r=function Q9(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Tu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!mA(u,c,o))return s;r+=2}else{if(!mA(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ne(t.segments.slice(0,r.pathIndex),{});return s.children[J]=new ne(t.segments.slice(r.pathIndex),t.children),Cd(s,0,i)}return r.match&&0===i.length?new ne(t.segments,{}):r.match&&!t.hasChildren()?ry(t,e,n):r.match?Cd(t,0,i):ry(t,e,n)}function Cd(t,e,n){if(0===n.length)return new ne(t.segments,{});{const r=function K9(t){return Tu(t[0])?t[0].outlets:{[J]:t}}(n),i={};return mt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=pA(t.children[o],e,s))}),mt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ne(t.segments,i)}}function ry(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Tu(s)){const u=Y9(s.outlets);return new ne(r,u)}if(0===i&&Ed(n[0])){r.push(new Eu(t.segments[e].path,gA(n[0]))),i++;continue}const o=Tu(s)?s.outlets[J]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ed(a)?(r.push(new Eu(o,gA(a))),i+=2):(r.push(new Eu(o,{})),i++)}return new ne(r,{})}function Y9(t){const e={};return mt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=ry(new ne([],{}),0,n))}),e}function gA(t){const e={};return mt(t,(n,r)=>e[r]=`${n}`),e}function mA(t,e,n){return t==n.path&&rr(e,n.parameters)}class X9{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=xo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),mt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=xo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new v9(s.value.snapshot))}),e.children.length&&this.forwardEvent(new m9(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Jm(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Jm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function J9(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class iy{constructor(e,n){this.routes=e,this.module=n}}function ai(t){return"function"==typeof t}function Zi(t){return t instanceof Qi}const Su=Symbol("INITIAL_VALUE");function xu(){return Ki(t=>e9(t.map(e=>e.pipe(zm(1),function i9(...t){const e=Sa(t);return dt((n,r)=>{(e?qm(t,n,e):qm(t,n)).subscribe(r)})}(Su)))).pipe(Bx((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Su?i:(s===Su&&(r=!0),r||!1!==s&&o!==n.length-1&&!Zi(s)?i:s),e)},Su),Io(e=>e!==Su),ye(e=>Zi(e)?e:!0===e),zm(1)))}class sq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Au,this.attachRef=null}}class Au{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new sq,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let sy=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new jt,this.deactivateEvents=new jt,this.attachEvents=new jt,this.detachEvents=new jt,this.name=s||J,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new oq(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(F(Au),F(Fn),F(cu),function La(t){return function hL(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Yb(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ye(),t)}("name"),F(mm))},t.\u0275dir=Ct({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class oq{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ao?this.route:e===Au?this.childContexts:this.parent.get(e,n)}}let yA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&$i(0,"router-outlet")},directives:[sy],encapsulation:2}),t})();function vA(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];aq(r,uq(e,r))}}function aq(t,e){t.children&&vA(t.children,e)}function uq(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function oy(t){const e=t.children&&t.children.map(oy),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=yA),n}function En(t){return t.outlet||J}function _A(t,e){const n=t.filter(r=>En(r)===e);return n.push(...t.filter(r=>En(r)!==e)),n}const wA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Id(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},wA):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||D9)(n,t,e);if(!s)return Object.assign({},wA);const o={};mt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Td(t,e,n,r,i="corrected"){if(n.length>0&&function dq(t,e,n){return n.some(r=>Sd(t,e,r)&&En(r)!==J)}(t,n,r)){const o=new ne(e,function lq(t,e,n,r){const i={};i[J]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&En(s)!==J){const o=new ne([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[En(s)]=o}return i}(t,e,r,new ne(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function hq(t,e,n){return n.some(r=>Sd(t,e,r))}(t,n,r)){const o=new ne(t.segments,function cq(t,e,n,r,i,s){const o={};for(const a of r)if(Sd(t,n,a)&&!i[En(a)]){const u=new ne([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[En(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ne(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Sd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function DA(t,e,n,r){return!!(En(t)===r||r!==J&&Sd(e,n,t))&&("**"===t.path||Id(e,t,n).matched)}function bA(t,e,n){return 0===e.length&&!t.children[n]}class xd{constructor(e){this.segmentGroup=e||null}}class EA{constructor(e){this.urlTree=e}}function Mu(t){return gd(new xd(t))}function CA(t){return gd(new EA(t))}class mq{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Tr)}apply(){const e=Td(this.urlTree.root,[],[],this.config).segmentGroup,n=new ne(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,J).pipe(ye(s=>this.createUrlTree(ay(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oi(s=>{if(s instanceof EA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof xd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,J).pipe(ye(i=>this.createUrlTree(ay(i),e.queryParams,e.fragment))).pipe(oi(i=>{throw i instanceof xd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ne([],{[J]:e}):e;return new Qi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ye(s=>new ne([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Et(i).pipe(Du(s=>{const o=r.children[s],a=_A(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(u=>({segment:u,outlet:s})))}),Bx((s,o)=>(s[o.outlet]=o.segment,s),{}),function a9(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Io((i,s)=>t(i,s,r)):Ni,Gm(1),n?Ux(e):jx(()=>new md))}())}expandSegment(e,n,r,i,s,o){return Et(r).pipe(Du(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(oi(c=>{if(c instanceof xd)return Y(null);throw c}))),To(a=>!!a),oi((a,u)=>{if(a instanceof md||"EmptyError"===a.name)return bA(n,i,s)?Y(new ne([],{})):Mu(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return DA(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Mu(n):Mu(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?CA(s):this.lineralizeSegments(r,s).pipe(rt(o=>{const a=new ne(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Id(n,i,s);if(!a)return Mu(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?CA(d):this.lineralizeSegments(i,d).pipe(rt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Y(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(d=>(r._loadedConfig=d,new ne(i,{})))):Y(new ne(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Id(n,r,i);return o?this.getChildConfig(e,r,i).pipe(rt(l=>{const d=l.module,h=l.routes,{segmentGroup:f,slicedSegments:p}=Td(n,a,u,h),g=new ne(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ye(C=>new ne(a,C)));if(0===h.length&&0===p.length)return Y(new ne(a,{}));const m=En(r)===s;return this.expandSegment(d,g,h,p,m?J:s,!0).pipe(ye(y=>new ne(a.concat(y.segments),y.children)))})):Mu(n)}getChildConfig(e,n,r){return n.children?Y(new iy(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Y(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(rt(i=>i?this.configLoader.load(e.injector,n).pipe(ye(s=>(n._loadedConfig=s,s))):function pq(t){return gd(Km(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):Y(new iy([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?Y(i.map(o=>{const a=e.get(o);let u;if(function tq(t){return t&&ai(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!ai(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return ir(u)})).pipe(xu(),Wt(o=>{if(!Zi(o))return;const a=Km(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ye(o=>!0===o)):Y(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[J])return gd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[J]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Qi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return mt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return mt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function ay(t){const e={};for(const r of Object.keys(t.children)){const s=ay(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function yq(t){if(1===t.numberOfChildren&&t.children[J]){const e=t.children[J];return new ne(t.segments.concat(e.segments),e.children)}return t}(new ne(t.segments,e))}class IA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ad{constructor(e,n){this.component=e,this.route=n}}function _q(t,e,n){const r=t._root;return Nu(r,e?e._root:null,n,[r.value])}function Md(t,e,n){const r=function Dq(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Nu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xo(e);return t.children.forEach(o=>{(function bq(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Eq(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Yi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yi(t.url,e.url)||!rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ey(t,e)||!rr(t.queryParams,e.queryParams);default:return!ey(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new IA(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nu(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ad(a.outlet.component,o))}else o&&Ru(e,a,i),i.canActivateChecks.push(new IA(r)),Nu(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),mt(s,(o,a)=>Ru(o,n.getContext(a),i)),i}function Ru(t,e,n){const r=xo(t),i=t.value;mt(r,(s,o)=>{Ru(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Ad(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Rq{}function TA(t){return new Re(e=>e.error(t))}class kq{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Td(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,J);if(null===n)return null;const r=new bd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},J,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Nr(r,n),s=new lA(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=cA(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=_A(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=SA(r);return function Fq(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return bA(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!DA(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?Qx(r).parameters:{};s=new bd(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,MA(e),En(e),e.component,e,xA(n),AA(n)+r.length,NA(e))}else{const f=Id(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new bd(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,MA(e),En(e),e.component,e,xA(n),AA(n)+o.length,NA(e))}const u=function Pq(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Td(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Nr(s,f)]}if(0===u.length&&0===l.length)return[new Nr(s,[])];const d=En(e)===i,h=this.processSegment(u,c,l,d?J:i);return null===h?null:[new Nr(s,h)]}}function Lq(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function SA(t){const e=[],n=new Set;for(const r of t){if(!Lq(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=SA(r.children);e.push(new Nr(r.value,i))}return e.filter(r=>!n.has(r))}function xA(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function AA(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function MA(t){return t.data||{}}function NA(t){return t.resolve||{}}function RA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function uy(t){return Ki(e=>{const n=t(e);return n?Et(n).pipe(ye(()=>e)):Y(e)})}class zq extends class qq{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const cy=new se("ROUTES");class OA{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new iy(Kx(o.injector.get(cy,void 0,U.Self|U.Optional)).map(oy),o)}),oi(s=>{throw n._loader$=void 0,s}));return n._loader$=new r9(i,()=>new mr).pipe(Vx()),n._loader$}loadModuleFactory(e){return ir(e()).pipe(rt(n=>n instanceof ZT?Y(n):Et(this.compiler.compileModuleAsync(n))))}}class Wq{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Kq(t){throw t}function Qq(t,e,n){return e.parse("/")}function kA(t,e){return Y(null)}const Yq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mr,this.errorHandler=Kq,this.malformedUriErrorHandler=Qq,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kA,afterPreactivation:kA},this.urlHandlingStrategy=new Wq,this.routeReuseStrategy=new zq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Tr),this.console=o.get(Q$);const d=o.get(gt);this.isNgZoneEnabled=d instanceof gt&&gt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function E9(){return new Qi(new ne([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new OA(o,a,h=>this.triggerEvent(new Hx(h)),h=>this.triggerEvent(new qx(h))),this.routerState=uA(this.currentUrlTree,this.rootComponentType),this.transitions=new Vn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Io(i=>0!==i.id),ye(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ki(i=>{let s=!1,o=!1;return Y(i).pipe(Wt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ki(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return FA(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(Ki(d=>{const h=this.transitions.getValue();return r.next(new Wm(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?vr:Promise.resolve(d)}),function vq(t,e,n,r){return Ki(i=>function gq(t,e,n,r,i){return new mq(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ye(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Wt(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function Vq(t,e,n,r,i){return rt(s=>function Oq(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new kq(t,e,n,r,i,s).recognize();return null===o?TA(new Rq):Y(o)}catch(o){return TA(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ye(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Wt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new l9(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,_=new Wm(h,this.serializeUrl(f),p,g);r.next(_);const y=uA(f,this.rootComponentType).snapshot;return Y(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),vr}),uy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Wt(a=>{const u=new d9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ye(a=>Object.assign(Object.assign({},a),{guards:_q(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Cq(t,e){return rt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y(Object.assign(Object.assign({},n),{guardsResult:!0})):function Iq(t,e,n,r){return Et(t).pipe(rt(i=>function Nq(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=Md(a,e,i);let c;if(function iq(t){return t&&ai(t.canDeactivate)}(u))c=ir(u.canDeactivate(t,e,n,r));else{if(!ai(u))throw new Error("Invalid CanDeactivate guard");c=ir(u(t,e,n,r))}return c.pipe(To())})).pipe(xu()):Y(!0)}(i.component,i.route,n,e,r)),To(i=>!0!==i,!0))}(o,r,i,t).pipe(rt(a=>a&&function eq(t){return"boolean"==typeof t}(a)?function Tq(t,e,n,r){return Et(e).pipe(Du(i=>qm(function xq(t,e){return null!==t&&e&&e(new g9(t)),Y(!0)}(i.route.parent,r),function Sq(t,e){return null!==t&&e&&e(new y9(t)),Y(!0)}(i.route,r),function Mq(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function wq(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Lx(()=>Y(o.guards.map(u=>{const c=Md(u,o.node,n);let l;if(function rq(t){return t&&ai(t.canActivateChild)}(c))l=ir(c.canActivateChild(r,t));else{if(!ai(c))throw new Error("Invalid CanActivateChild guard");l=ir(c(r,t))}return l.pipe(To())})).pipe(xu())));return Y(s).pipe(xu())}(t,i.path,n),function Aq(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>Lx(()=>{const o=Md(s,e,n);let a;if(function nq(t){return t&&ai(t.canActivate)}(o))a=ir(o.canActivate(e,t));else{if(!ai(o))throw new Error("Invalid CanActivate guard");a=ir(o(e,t))}return a.pipe(To())}));return Y(i).pipe(xu())}(t,i.route,n))),To(i=>!0!==i,!0))}(r,s,t,e):Y(a)),ye(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Wt(a=>{if(Zi(a.guardsResult)){const c=Km(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new h9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Io(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),uy(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(Wt(u=>{const c=new f9(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Ki(u=>{let c=!1;return Y(u).pipe(function Bq(t,e){return rt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return Et(i).pipe(Du(o=>function jq(t,e,n,r){return function Uq(t,e,n,r){const i=RA(t);if(0===i.length)return Y({});const s={};return Et(i).pipe(rt(o=>function $q(t,e,n,r){const i=Md(t,e,r);return ir(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Wt(a=>{s[o]=a}))),Gm(1),rt(()=>RA(s).length===i.length?Y(s):vr))}(t._resolve,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),cA(t,n).resolve),null)))}(o.route,r,t,e)),Wt(()=>s++),Gm(1),rt(o=>s===i.length?Y(n):vr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Wt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Wt(u=>{const c=new p9(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),uy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ye(a=>{const u=function U9(t,e,n){const r=Iu(t,e._root,n?n._root:void 0);return new aA(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Wt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ye(r=>(new X9(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Wt({next(){s=!0},complete(){s=!0}}),function u9(t){return dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),oi(a=>{if(o=!0,function w9(t){return t&&t[Gx]}(a)){const u=Zi(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new $x(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FA(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new c9(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return vr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){vA(n),this.config=n.map(oy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function q9(t,e,n,r,i){if(0===n.length)return ty(e.root,e.root,e.root,r,i);const s=function z9(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fA(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return mt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fA(n,e,r)}(n);if(s.toRoot())return ty(e.root,e.root,new ne([],{}),r,i);const o=function G9(t,e,n){if(t.isAbsolute)return new ny(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new ny(s,s===e.root,0)}const r=Ed(t.commands[0])?0:1;return function W9(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ny(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Cd(o.segmentGroup,o.index,s.commands):pA(o.segmentGroup,o.index,s.commands);return ty(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Zi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function Xq(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Yq):!1===r?Object.assign({},Zq):r,Zi(n))return Zx(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Zx(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new bu(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,g)=>{c=p,l=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new $x(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Eg()},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function FA(t){return"imperative"!==t}class PA{}class LA{preload(e,n){return Y(null)}}let VA=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new OA(i,r,u=>n.triggerEvent(new Hx(u)),u=>n.triggerEvent(new qx(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Io(n=>n instanceof bu),Du(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Tr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Et(i).pipe(Ta(),ye(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Y(r._loadedConfig):this.loader.load(n.injector,r)).pipe(rt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(V(Kt),V(kS),V(an),V(PA))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),hy=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Wm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bu&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof zx&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new zx(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Eg()},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const Xi=new se("ROUTER_CONFIGURATION"),BA=new se("ROUTER_FORROOT_GUARD"),n6=[Em,{provide:tA,useClass:nA},{provide:Kt,useFactory:function a6(t,e,n,r,i,s,o={},a,u){const c=new Kt(null,t,e,n,r,i,Kx(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function u6(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[tA,Au,Em,an,kS,cy,Xi,[class Gq{},new yn],[class Hq{},new yn]]},Au,{provide:Ao,useFactory:function c6(t){return t.routerState.root},deps:[Kt]},VA,LA,class t6{preload(e,n){return n().pipe(oi(()=>Y(null)))}},{provide:Xi,useValue:{enableTracing:!1}}];function r6(){return new BS("Router",Kt)}let jA=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[n6,UA(n),{provide:BA,useFactory:o6,deps:[[Kt,new yn,new qa]]},{provide:Xi,useValue:r||{}},{provide:Co,useFactory:s6,deps:[Wi,[new wl(bm),new yn],Xi]},{provide:hy,useFactory:i6,deps:[Kt,s3,Xi]},{provide:PA,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:LA},{provide:BS,multi:!0,useFactory:r6},[fy,{provide:sm,multi:!0,useFactory:l6,deps:[fy]},{provide:$A,useFactory:d6,deps:[fy]},{provide:OS,multi:!0,useExisting:$A}]]}}static forChild(n){return{ngModule:t,providers:[UA(n)]}}}return t.\u0275fac=function(n){return new(n||t)(V(BA,8),V(Kt,8))},t.\u0275mod=Ri({type:t}),t.\u0275inj=Gr({}),t})();function i6(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hy(t,e,n)}function s6(t,e,n={}){return n.useHash?new U4(t,e):new ix(t,e)}function o6(t){return"guarded"}function UA(t){return[{provide:vL,multi:!0,useValue:t},{provide:cy,multi:!0,useValue:t}]}let fy=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new mr}appInitializer(){return this.injector.get(V4,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Kt),o=this.injector.get(Xi);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Xi),i=this.injector.get(VA),s=this.injector.get(hy),o=this.injector.get(Kt),a=this.injector.get(pm);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(V(an))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function l6(t){return t.appInitializer.bind(t)}function d6(t){return t.bootstrapListener.bind(t)}const $A=new se("Router Initializer");let HA=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-checklist"]],decls:2,vars:0,template:function(n,r){1&n&&(un(0,"p"),vo(1,"checklist works!"),_n())},styles:[""]}),t})();const f6=[{path:"",component:HA},{path:"pagar",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-payable"]],decls:2,vars:0,template:function(n,r){1&n&&(un(0,"p"),vo(1,"payable works!"),_n())},styles:[""]}),t})()},{path:"pagas",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-paid"]],decls:2,vars:0,template:function(n,r){1&n&&(un(0,"p"),vo(1,"paid works!"),_n())},styles:[""]}),t})()},{path:"historico",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-historic"]],decls:2,vars:0,template:function(n,r){1&n&&(un(0,"p"),vo(1,"historic works!"),_n())},styles:[""]}),t})()},{path:"checklist",component:HA}];let p6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ri({type:t}),t.\u0275inj=Gr({imports:[[jA.forRoot(f6)],jA]}),t})();function g6(t,e){if(1&t){const n=Sg();un(0,"li",7),Hi("click",function(){Jf(n);const i=Ir().$implicit;return Ir().navigateTo(i.link)}),vo(1),_n()}if(2&t){const n=Ir().$implicit;Xs(1),Rg(n.label)}}function m6(t,e){if(1&t){const n=Sg();un(0,"li",7),Hi("click",function(){Jf(n);const i=Ir().$implicit;return Ir().navigateTo(i.link)}),$i(1,"div",8),_n()}if(2&t){const n=Ir().$implicit,r=Ir();Xs(1),mo("innerHTML",r.returnIcon(n.icon),tC)}}function y6(t,e){if(1&t&&(un(0,"ul",5),Ll(1,g6,2,1,"li",6),Ll(2,m6,2,1,"li",6),_n()),2&t){const n=Ir();Xs(1),mo("ngIf",n.toggle),Xs(1),mo("ngIf",!n.toggle)}}let v6=(()=>{class t{constructor(n){this.route=n,this.icon="<>",this.toggle=!1,this.menu=[{label:"Contas \xe0 pagar",link:"pagar",icon:"cash-register"},{label:"Contas pagas",link:"pagas",icon:"receipt"},{label:"Checklist contas",link:"checklist",icon:"comments-dollar"},{label:"Hist\xf3rico",link:"historico",icon:"clock-rotate-left"}]}ngOnInit(){}navigateTo(n){this.route.navigate(["/"+n])}toggleSideBar(){this.toggle=!this.toggle}returnIcon(n){return`<i class="fa-solid fa-${n}"></i>`}}return t.\u0275fac=function(n){return new(n||t)(F(Kt))},t.\u0275cmp=Wn({type:t,selectors:[["app-sidebar"]],decls:5,vars:2,consts:[[3,"ngClass"],[1,"box-list"],["class","list",4,"ngFor","ngForOf"],[1,"button",3,"click"],[1,"fa-solid","fa-arrows-left-right-to-line","fa-lg"],[1,"list"],[3,"click",4,"ngIf"],[3,"click"],[3,"innerHTML"]],template:function(n,r){1&n&&(un(0,"div",0)(1,"div",1),Ll(2,y6,3,2,"ul",2),un(3,"button",3),Hi("click",function(){return r.toggleSideBar()}),$i(4,"i",4),_n()()()),2&n&&(Ag("ngClass",0==r.toggle?"all-hide":"all"),Xs(2),mo("ngForOf",r.menu))},directives:[px,gx,yx],styles:['@charset "UTF-8";.all[_ngcontent-%COMP%], .all-hide[_ngcontent-%COMP%]{width:220px;height:100vh;background-color:#40e0d0;margin-top:-16px;font-weight:700;font-size:20px;font-family:monospace;transition:width .5s}.all-hide[_ngcontent-%COMP%]{width:60px}.box-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:14px;height:90%}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px;list-style:none;padding:0}.list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.button[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-color:transparent;border:none;padding:0;margin:auto 0 0;cursor:pointer;display:flex;justify-content:center}']}),t})(),_6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-home"]],decls:1,vars:0,template:function(n,r){1&n&&$i(0,"router-outlet")},directives:[sy],styles:[""]}),t})(),w6=(()=>{class t{constructor(){this.title="contas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wn({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"all"]],template:function(n,r){1&n&&(un(0,"div",0),$i(1,"app-sidebar")(2,"app-home"),_n())},directives:[v6,_6],styles:[".all[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:start}"]}),t})();function qA(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function D(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){qA(s,r,i,o,a,"next",u)}function a(u){qA(s,r,i,o,a,"throw",u)}o(void 0)})}}const zA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},GA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new C6;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const No=function(t){return function(t){const e=zA(t);return GA.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Nd=()=>{try{return function S6(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&function(t){try{return GA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};class KA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function QA(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ji(){try{return"object"==typeof indexedDB}catch(t){return!1}}function Ro(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function yy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,es.prototype.create)}}class es{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function k6(t,e){return t.replace(F6,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Bn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const F6=/\{\$([^}]+)}/g;function Ou(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ZA(s)&&ZA(o)){if(!Ou(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZA(t){return null!==t&&"object"==typeof t}function wy(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ui(t){return t&&t._delegate?t._delegate:t}class xt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ts="[DEFAULT]";class H6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function z6(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return D(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ts?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class XA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Dy=[];var le=(()=>{return(t=le||(le={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",le;var t})();const JA={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},G6=le.INFO,W6={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},K6=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=W6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ku{constructor(e){this.name=e,this._logLevel=G6,this._logHandler=K6,this._userLogHandler=null,Dy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?JA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}let e1,t1;const n1=new WeakMap,by=new WeakMap,r1=new WeakMap,Ey=new WeakMap,Cy=new WeakMap;let Iy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return by.get(t);if("objectStoreNames"===e)return t.objectStoreNames||r1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nz(t){return"function"==typeof t?function tz(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z6(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ty(this),e),ci(n1.get(this))}:function(...e){return ci(t.apply(Ty(this),e))}:function(e,...n){const r=t.call(Ty(this),e,...n);return r1.set(r,e.sort?e.sort():[e]),ci(r)}}(t):(t instanceof IDBTransaction&&function J6(t){if(by.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});by.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Y6(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Iy):t)}function ci(t){if(t instanceof IDBRequest)return function X6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&n1.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}(t);if(Ey.has(t))return Ey.get(t);const e=nz(t);return e!==t&&(Ey.set(t,e),Cy.set(e,t)),e}const Ty=t=>Cy.get(t),iz=["get","getKey","getAll","getAllKeys","count"],sz=["put","add","delete","clear"],Sy=new Map;function i1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Sy.get(e))return Sy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!iz.includes(n))return;const s=function(){var o=D(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Sy.set(e,s),s}!function ez(t){Iy=t(Iy)}(t=>wf(_f({},t),{get:(e,n,r)=>i1(e,n)||t.get(e,n,r),has:(e,n)=>!!i1(e,n)||t.has(e,n)}));class oz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function az(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const xy="@firebase/app",ns=new ku("@firebase/app"),Oz={[xy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rs=new Map,Fd=new Map;function kz(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){const e=t.name;if(Fd.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Fd.set(e,t);for(const n of rs.values())kz(n,t);return!0}function Ay(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Rr=new es("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}function Cn(t,e,n){var r;let i=null!==(r=Oz[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ns.warn(a.join(" "))}sr(new xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Fu="firebase-heartbeat-store";let h1,f1,Ny=null;function a1(){return Ny||(Ny=function rz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ci(o.result),u.oldVersion,u.newVersion,ci(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Fu)}}).catch(t=>{throw Rr.create("idb-open",{originalErrorMessage:t.message})})),Ny}function Ry(){return(Ry=D(function*(t){try{return(yield a1()).transaction(Fu).objectStore(Fu).get(c1(t))}catch(e){if(e instanceof Bn)ns.warn(e.message);else{const n=Rr.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});ns.warn(n.message)}}})).apply(this,arguments)}function u1(t,e){return Oy.apply(this,arguments)}function Oy(){return(Oy=D(function*(t,e){try{const r=(yield a1()).transaction(Fu,"readwrite");return yield r.objectStore(Fu).put(e,c1(t)),r.done}catch(n){if(n instanceof Bn)ns.warn(n.message);else{const r=Rr.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});ns.warn(r.message)}}})).apply(this,arguments)}function c1(t){return`${t.name}!${t.options.appId}`}class Hz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return D(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=l1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return D(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=l1(),{heartbeatsToSend:r,unsentEntries:i}=function qz(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),d1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=No(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function l1(){return(new Date).toISOString().substring(0,10)}class zz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(function*(){return!!Ji()&&Ro().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return D(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function jz(t){return Ry.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return D(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return u1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return D(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return u1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function d1(t){return No(JSON.stringify({version:2,heartbeats:t})).length}!function Gz(t){sr(new xt("platform-logger",e=>new oz(e),"PRIVATE")),sr(new xt("heartbeat",e=>new Hz(e),"PRIVATE")),Cn(xy,"0.9.9",t),Cn(xy,"0.9.9","esm2017"),Cn("fire-js","")}(""),Cn("firebase","9.21.0","app");const p1=new WeakMap,ky=new WeakMap,g1=new WeakMap,Fy=new WeakMap,Py=new WeakMap;let Ly={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ky.get(t);if("objectStoreNames"===e)return t.objectStoreNames||g1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function n7(t){return"function"==typeof t?function t7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zz(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Vy(this),e),li(p1.get(this))}:function(...e){return li(t.apply(Vy(this),e))}:function(e,...n){const r=t.call(Vy(this),e,...n);return g1.set(r,e.sort?e.sort():[e]),li(r)}}(t):(t instanceof IDBTransaction&&function Jz(t){if(ky.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ky.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Yz(){return h1||(h1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ly):t)}function li(t){if(t instanceof IDBRequest)return function Xz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,t)}).catch(()=>{}),Py.set(e,t),e}(t);if(Fy.has(t))return Fy.get(t);const e=n7(t);return e!==t&&(Fy.set(t,e),Py.set(e,t)),e}const Vy=t=>Py.get(t),i7=["get","getKey","getAll","getAllKeys","count"],s7=["put","add","delete","clear"],By=new Map;function m1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(By.get(e))return By.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=s7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!i7.includes(n))return;const s=function(){var o=D(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return By.set(e,s),s}let C1,I1;!function e7(t){Ly=t(Ly)}(t=>wf(_f({},t),{get:(e,n,r)=>m1(e,n)||t.get(e,n,r),has:(e,n)=>!!m1(e,n)||t.has(e,n)}));const T1=new WeakMap,zy=new WeakMap,S1=new WeakMap,Gy=new WeakMap,Wy=new WeakMap;let Ky={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||S1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function sG(t){return"function"==typeof t?function iG(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function eG(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Qy(this),e),kr(T1.get(this))}:function(...e){return kr(t.apply(Qy(this),e))}:function(e,...n){const r=t.call(Qy(this),e,...n);return S1.set(r,e.sort?e.sort():[e]),kr(r)}}(t):(t instanceof IDBTransaction&&function nG(t){if(zy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zy.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function J7(){return C1||(C1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ky):t)}function kr(t){if(t instanceof IDBRequest)return function tG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(kr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&T1.set(n,t)}).catch(()=>{}),Wy.set(e,t),e}(t);if(Gy.has(t))return Gy.get(t);const e=sG(t);return e!==t&&(Gy.set(t,e),Wy.set(e,t)),e}const Qy=t=>Wy.get(t);function Yy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=kr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(kr(o.result),u.oldVersion,u.newVersion,kr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Zy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),kr(n).then(()=>{})}const oG=["get","getKey","getAll","getAllKeys","count"],aG=["put","add","delete","clear"],Xy=new Map;function x1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Xy.get(e))return Xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=aG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!oG.includes(n))return;const s=function(){var o=D(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Xy.set(e,s),s}!function rG(t){Ky=t(Ky)}(t=>wf(_f({},t),{get:(e,n,r)=>x1(e,n)||t.get(e,n,r),has:(e,n)=>!!x1(e,n)||t.has(e,n)}));const A1="@firebase/installations",N1="w:0.6.4",R1="FIS_v2",Fr=new es("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function O1(t){return t instanceof Bn&&t.code.includes("request-failed")}function ev({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function k1(t){return{token:t.token,requestStatus:2,expiresIn:fG(t.expiresIn),creationTime:Date.now()}}function tv(t,e){return nv.apply(this,arguments)}function nv(){return(nv=D(function*(t,e){const r=(yield e.json()).error;return Fr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function F1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P1(t,{refreshToken:e}){const n=F1(t);return n.append("Authorization",function pG(t){return`${R1} ${t}`}(e)),n}function rv(t){return iv.apply(this,arguments)}function iv(){return(iv=D(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function fG(t){return Number(t.replace("s","000"))}function gG(t,e){return sv.apply(this,arguments)}function sv(){return(sv=D(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ev(t),i=F1(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:R1,appId:t.appId,sdkVersion:N1})},u=yield rv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:k1(c.authToken)}}throw yield tv("Create Installation",u)})).apply(this,arguments)}function L1(t){return new Promise(e=>{setTimeout(e,t)})}const yG=/^[cdef][\w-]{21}$/;function vG(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function _G(t){return function mG(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return yG.test(n)?n:""}catch(t){return""}}function ko(t){return`${t.appName}!${t.appId}`}const Fo=new Map;function V1(t,e){const n=ko(t);B1(n,e),function bG(t,e){const n=function j1(){return!os&&"BroadcastChannel"in self&&(os=new BroadcastChannel("[Firebase] FID Change"),os.onmessage=t=>{B1(t.data.key,t.data.fid)}),os}();n&&n.postMessage({key:t,fid:e}),function U1(){0===Fo.size&&os&&(os.close(),os=null)}()}(n,e)}function B1(t,e){const n=Fo.get(t);if(n)for(const r of n)r(e)}let os=null;const as="firebase-installations-store";let av=null;function uv(){return av||(av=Yy("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(as)}})),av}function Bd(t,e){return cv.apply(this,arguments)}function cv(){return(cv=D(function*(t,e){const n=ko(t),i=(yield uv()).transaction(as,"readwrite"),s=i.objectStore(as),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&V1(t,e.fid),e})).apply(this,arguments)}function lv(t){return dv.apply(this,arguments)}function dv(){return(dv=D(function*(t){const e=ko(t),r=(yield uv()).transaction(as,"readwrite");yield r.objectStore(as).delete(e),yield r.done})).apply(this,arguments)}function Lu(t,e){return hv.apply(this,arguments)}function hv(){return(hv=D(function*(t,e){const n=ko(t),i=(yield uv()).transaction(as,"readwrite"),s=i.objectStore(as),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&V1(t,a.fid),a})).apply(this,arguments)}function fv(t){return pv.apply(this,arguments)}function pv(){return(pv=D(function*(t){let e;const n=yield Lu(t.appConfig,r=>{const i=IG(r),s=TG(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function IG(t){return H1(t||{fid:vG(),registrationStatus:0})}function TG(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Fr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function SG(t,e){return gv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:xG(t)}:{installationEntry:e}}function gv(){return(gv=D(function*(t,e){try{const n=yield gG(t,e);return Bd(t.appConfig,n)}catch(n){throw O1(n)&&409===n.customData.serverCode?yield lv(t.appConfig):yield Bd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function xG(t){return mv.apply(this,arguments)}function mv(){return(mv=D(function*(t){let e=yield $1(t.appConfig);for(;1===e.registrationStatus;)yield L1(100),e=yield $1(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield fv(t);return r||n}return e})).apply(this,arguments)}function $1(t){return Lu(t,e=>{if(!e)throw Fr.create("installation-not-found");return H1(e)})}function H1(t){return function AG(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function MG(t,e){return yv.apply(this,arguments)}function yv(){return(yv=D(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=NG(t,n),i=P1(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:N1,appId:t.appId}})},u=yield rv(()=>fetch(r,a));if(u.ok)return k1(yield u.json());throw yield tv("Generate Auth Token",u)})).apply(this,arguments)}function NG(t,{fid:e}){return`${ev(t)}/${e}/authTokens:generate`}function vv(t){return _v.apply(this,arguments)}function _v(){return(_v=D(function*(t,e=!1){let n;const r=yield Lu(t.appConfig,s=>{if(!z1(s))throw Fr.create("not-registered");const o=s.authToken;if(!e&&kG(o))return s;if(1===o.requestStatus)return n=RG(t,e),s;{if(!navigator.onLine)throw Fr.create("app-offline");const a=PG(s);return n=OG(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function RG(t,e){return wv.apply(this,arguments)}function wv(){return(wv=D(function*(t,e){let n=yield q1(t.appConfig);for(;1===n.authToken.requestStatus;)yield L1(100),n=yield q1(t.appConfig);const r=n.authToken;return 0===r.requestStatus?vv(t,e):r})).apply(this,arguments)}function q1(t){return Lu(t,e=>{if(!z1(e))throw Fr.create("not-registered");return function LG(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function OG(t,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=D(function*(t,e){try{const n=yield MG(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Bd(t.appConfig,r),n}catch(n){if(!O1(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Bd(t.appConfig,r)}else yield lv(t.appConfig);throw n}})).apply(this,arguments)}function z1(t){return void 0!==t&&2===t.registrationStatus}function kG(t){return 2===t.requestStatus&&!function FG(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function PG(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function bv(){return(bv=D(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield fv(e);return r?r.catch(console.error):vv(e).catch(console.error),n.fid})).apply(this,arguments)}function Ev(){return(Ev=D(function*(t,e=!1){const n=t;return yield jG(n),(yield vv(n,e)).token})).apply(this,arguments)}function jG(t){return Cv.apply(this,arguments)}function Cv(){return(Cv=D(function*(t){const{registrationPromise:e}=yield fv(t);e&&(yield e)})).apply(this,arguments)}function Sv(t){return Fr.create("missing-app-config-values",{valueName:t})}const G1="installations",zG=t=>{const e=t.getProvider("app").getImmediate(),n=function HG(t){if(!t||!t.options)throw Sv("App Configuration");if(!t.name)throw Sv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ay(e,"heartbeat"),_delete:()=>Promise.resolve()}},GG=t=>{const n=Ay(t.getProvider("app").getImmediate(),G1).getImmediate();return{getId:()=>function VG(t){return bv.apply(this,arguments)}(n),getToken:i=>function BG(t){return Ev.apply(this,arguments)}(n,i)}};(function WG(){sr(new xt(G1,zG,"PUBLIC")),sr(new xt("installations-internal",GG,"PRIVATE"))})(),Cn(A1,"0.6.4"),Cn(A1,"0.6.4","esm2017");const xv="@firebase/remote-config",Qt=new es("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class i5{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return D(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function s5(t=navigator){return t.languages&&t.languages[0]||t.language}class o5{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return D(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:s5()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((_,y)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",y(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(_){let y="fetch-client-network";throw"AbortError"===(null==_?void 0:_.name)&&(y="fetch-timeout"),Qt.create(y,{originalErrorMessage:null==_?void 0:_.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let _;try{_=yield h.json()}catch(y){throw Qt.create("fetch-client-parse",{originalErrorMessage:null==y?void 0:y.message})}g=_.entries,m=_.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Qt.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class c5{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return D(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return D(function*(){yield function a5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function u5(t){if(!(t instanceof Bn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+wy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class h5{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ud(t,e){const n=t.target.error||void 0;return Qt.create(e,{originalErrorMessage:n&&(null==n?void 0:n.message)})}const us="app_namespace_store";class m5{constructor(e,n,r,i=function g5(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Ud(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(us,{keyPath:"compositeKey"})}}catch(n){e(Qt.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return D(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([us],"readonly").objectStore(us),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Ud(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Qt.create("storage-get",{originalErrorMessage:null==c?void 0:c.message}))}})})()}set(e,n){var r=this;return D(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([us],"readwrite").objectStore(us),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Ud(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Qt.create("storage-set",{originalErrorMessage:null==l?void 0:l.message}))}})})()}delete(e){var n=this;return D(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([us],"readwrite").objectStore(us),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Ud(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Qt.create("storage-delete",{originalErrorMessage:null==c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class y5{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return D(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function _5(){return Ov.apply(this,arguments)}function Ov(){return(Ov=D(function*(){if(!Ji())return!1;try{return yield Ro()}catch(t){return!1}})).apply(this,arguments)}!function v5(){sr(new xt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Qt.create("registration-window");if(!Ji())throw Qt.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Qt.create("registration-project-id");if(!o)throw Qt.create("registration-api-key");if(!a)throw Qt.create("registration-app-id");const u=new m5(a,r.name,n=n||"firebase"),c=new y5(u),l=new ku(xv);l.logLevel=le.ERROR;const d=new o5(i,"9.21.0",n,s,o,a),h=new c5(d,u),f=new i5(h,u,c,l),p=new h5(r,f,c,u,l);return function t5(t){const e=ui(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Cn(xv,"0.4.4"),Cn(xv,"0.4.4","esm2017")}();const w5="/firebase-messaging-sw.js",D5="/firebase-cloud-messaging-push-scope",Y1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Z1="google.c.a.c_id",E5="google.c.a.c_l",C5="google.c.a.ts",I5="google.c.a.e";var Po=(()=>{return(t=Po||(Po={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Po;var t})();function Pr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T5(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const kv="fcm_token_details_db",X1="fcm_token_object_Store";function x5(t){return Fv.apply(this,arguments)}function Fv(){return Fv=D(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(kv))return null;let e=null;return(yield Yy(kv,5,{upgrade:(r=D(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(X1))return;const c=a.objectStore(X1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Pr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pr(d.auth),p256dh:Pr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pr(d.auth),p256dh:Pr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Zy(kv),yield Zy("fcm_vapid_details_db"),yield Zy("undefined"),A5(e)?e:null;var r}),Fv.apply(this,arguments)}function A5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const cs="firebase-messaging-store";let Pv=null;function Lv(){return Pv||(Pv=Yy("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cs)}})),Pv}function J1(t){return Vv.apply(this,arguments)}function Vv(){return(Vv=D(function*(t){const e=$v(t),r=yield(yield Lv()).transaction(cs).objectStore(cs).get(e);if(r)return r;{const i=yield x5(t.appConfig.senderId);if(i)return yield Bv(t,i),i}})).apply(this,arguments)}function Bv(t,e){return jv.apply(this,arguments)}function jv(){return(jv=D(function*(t,e){const n=$v(t),i=(yield Lv()).transaction(cs,"readwrite");return yield i.objectStore(cs).put(e,n),yield i.done,e})).apply(this,arguments)}function R5(t){return Uv.apply(this,arguments)}function Uv(){return(Uv=D(function*(t){const e=$v(t),r=(yield Lv()).transaction(cs,"readwrite");yield r.objectStore(cs).delete(e),yield r.done})).apply(this,arguments)}function $v({appConfig:t}){return t.appId}const yt=new es("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function k5(t,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=D(function*(t,e){const n=yield Wv(t),r=tM(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Gv(t.appConfig),i)).json()}catch(o){throw yt.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw yt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw yt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function F5(t,e){return qv.apply(this,arguments)}function qv(){return(qv=D(function*(t,e){const n=yield Wv(t),r=tM(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Gv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw yt.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw yt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw yt.create("token-update-no-token");return s.token})).apply(this,arguments)}function eM(t,e){return zv.apply(this,arguments)}function zv(){return(zv=D(function*(t,e){const r={method:"DELETE",headers:yield Wv(t)};try{const s=yield(yield fetch(`${Gv(t.appConfig)}/${e}`,r)).json();if(s.error)throw yt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw yt.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}})).apply(this,arguments)}function Gv({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Wv(t){return Kv.apply(this,arguments)}function Kv(){return(Kv=D(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function tM({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Y1&&(i.web.applicationPubKey=r),i}const P5=6048e5;function L5(t){return Qv.apply(this,arguments)}function Qv(){return(Qv=D(function*(t){const e=yield B5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Pr(e.getKey("auth")),p256dh:Pr(e.getKey("p256dh"))},r=yield J1(t.firebaseDependencies);if(r){if(j5(r.subscriptionOptions,n))return Date.now()>=r.createTime+P5?V5(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield eM(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return rM(t.firebaseDependencies,n)}return rM(t.firebaseDependencies,n)})).apply(this,arguments)}function nM(t){return Yv.apply(this,arguments)}function Yv(){return(Yv=D(function*(t){const e=yield J1(t.firebaseDependencies);e&&(yield eM(t.firebaseDependencies,e.token),yield R5(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function V5(t,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=D(function*(t,e){try{const n=yield F5(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Bv(t.firebaseDependencies,r),n}catch(n){throw yield nM(t),n}})).apply(this,arguments)}function rM(t,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=D(function*(t,e){const r={token:yield k5(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Bv(t,r),r.token})).apply(this,arguments)}function B5(t,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=D(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:T5(e)})})).apply(this,arguments)}function j5(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function iM(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function U5(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function $5(t,e){!e.data||(t.data=e.data)}(e,t),function H5(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(null===(n=e.notification)||void 0===n?void 0:n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function q5(t){return"object"==typeof t&&!!t&&Z1 in t}function sM(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function e_(t){return yt.create("missing-app-config-values",{valueName:t})}sM("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sM("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class G5{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function z5(t){if(!t||!t.options)throw e_("App Configuration Object");if(!t.name)throw e_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw e_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function oM(t){return t_.apply(this,arguments)}function t_(){return(t_=D(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(w5,{scope:D5}),t.swRegistration.update().catch(()=>{})}catch(e){throw yt.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}})).apply(this,arguments)}function W5(t,e){return n_.apply(this,arguments)}function n_(){return(n_=D(function*(t,e){if(!e&&!t.swRegistration&&(yield oM(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function K5(t,e){return r_.apply(this,arguments)}function r_(){return(r_=D(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Y1)})).apply(this,arguments)}function i_(){return(i_=D(function*(t,e){if(!navigator)throw yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yt.create("permission-blocked");return yield K5(t,null==e?void 0:e.vapidKey),yield W5(t,null==e?void 0:e.serviceWorkerRegistration),L5(t)})).apply(this,arguments)}function Q5(t,e,n){return s_.apply(this,arguments)}function s_(){return(s_=D(function*(t,e,n){const r=Y5(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Z1],message_name:n[E5],message_time:n[C5],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Y5(t){switch(t){case Po.NOTIFICATION_CLICKED:return"notification_open";case Po.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function o_(){return(o_=D(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Po.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(iM(n)):t.onMessageHandler.next(iM(n)));const r=n.data;q5(r)&&"1"===r[I5]&&(yield Q5(t,n.messageType,r))})).apply(this,arguments)}const uM="@firebase/messaging",X5=t=>{const e=new G5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Z5(t,e){return o_.apply(this,arguments)}(e,n)),e},J5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function aM(t,e){return i_.apply(this,arguments)}(e,r)}};function lM(){return a_.apply(this,arguments)}function a_(){return(a_=D(function*(){try{yield Ro()}catch(t){return!1}return"undefined"!=typeof window&&Ji()&&yy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function e8(){sr(new xt("messaging",X5,"PUBLIC")),sr(new xt("messaging-internal",J5,"PRIVATE")),Cn(uM,"0.12.4"),Cn(uM,"0.12.4","esm2017")}();const $d="analytics",r8="firebase_id",o8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",l_="https://www.googletagmanager.com/gtag/js",st=new ku("@firebase/analytics"),$t=new es("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function u8(t){if(!t.startsWith(l_)){const e=$t.create("invalid-gtag-resource",{gtagURL:t});return st.warn(e.message),""}return t}function dM(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function l8(t,e){const n=function c8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:u8}),r=document.createElement("script"),i=`${l_}?l=${t}&id=${e}`;r.src=n?null==n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function h8(t,e,n,r,i,s){return d_.apply(this,arguments)}function d_(){return(d_=D(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield dM(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){st.error(a)}t("config",i,s)})).apply(this,arguments)}function f8(t,e,n,r,i){return h_.apply(this,arguments)}function h_(){return(h_=D(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield dM(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){st.error(s)}})).apply(this,arguments)}function m8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(l_)&&n.src.includes(t))return n;return null}const hM=new class _8{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function w8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function D8(t){return f_.apply(this,arguments)}function f_(){return(f_=D(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:w8(r)},s=o8.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw $t.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function b8(t){return p_.apply(this,arguments)}function p_(){return(p_=D(function*(t,e=hM,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw $t.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw $t.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new I8;return setTimeout(D(function*(){a.abort()}),void 0!==n?n:6e4),fM({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function fM(t,e,n){return g_.apply(this,arguments)}function g_(){return(g_=D(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hM){var s;const{appId:o,measurementId:a}=t;try{yield E8(r,e)}catch(u){if(a)return st.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==u?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield D8(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!C8(c)){if(i.deleteThrottleMetadata(o),a)return st.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=null==c?void 0:c.customData)||void 0===s?void 0:s.httpStatus)?wy(n,i.intervalMillis,30):wy(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),st.debug(`Calling attemptFetch again in ${l} millis`),fM(t,d,r,i)}})).apply(this,arguments)}function E8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function C8(t){if(!(t instanceof Bn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class I8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let m_,E_;function y_(){return(y_=D(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function pM(t){E_=t}function gM(t){m_=t}function R8(){return C_.apply(this,arguments)}function C_(){return(C_=D(function*(){if(!Ji())return st.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ro()}catch(t){return st.warn($t.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function I_(){return(I_=D(function*(t,e,n,r,i,s,o){var a;const u=b8(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&st.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>st.error(f)),e.push(u);const c=R8().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);m8(s)||l8(s,l.measurementId),E_&&(i("consent","default",E_),pM(void 0)),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[r8]=d),i("config",l.measurementId,h),m_&&(i("set",m_),gM(void 0)),l.measurementId})).apply(this,arguments)}class k8{constructor(e){this.app=e}_delete(){return delete or[this.app.options.appId],Promise.resolve()}}let or={},mM=[];const yM={};let _M,ar,Hd="dataLayer",T_=!1;function P8(t,e,n){!function F8(){const t=[];if(QA()&&t.push("This is a browser extension environment."),yy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});st.warn(n.message)}}();const r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw $t.create("no-api-key");st.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=or[r])throw $t.create("already-exists",{id:r});if(!T_){!function d8(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Hd);const{wrappedGtag:s,gtagCore:o}=function g8(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function p8(t,e,n,r){function s(){return(s=D(function*(o,...a){try{if("event"===o){const[u,c]=a;yield f8(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield h8(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){st.error(u)}})).apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(or,mM,yM,Hd,"gtag");ar=s,_M=o,T_=!0}return or[r]=function O8(t,e,n,r,i,s,o){return I_.apply(this,arguments)}(t,mM,yM,e,_M,Hd,n),new k8(t)}function V8(){return S_.apply(this,arguments)}function S_(){return(S_=D(function*(){if(QA()||!yy()||!Ji())return!1;try{return yield Ro()}catch(t){return!1}})).apply(this,arguments)}const wM="@firebase/analytics";!function j8(){sr(new xt($d,(e,{options:n})=>P8(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),sr(new xt("analytics-internal",function t(e){try{const n=e.getProvider($d).getImmediate();return{logEvent:(r,i,s)=>function B8(t,e,n,r){t=ui(t),function T8(t,e,n,r,i){return y_.apply(this,arguments)}(ar,or[t.app.options.appId],e,n,r).catch(i=>st.error(i))}(n,r,i,s)}}catch(n){throw $t.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Cn(wM,"0.10.0"),Cn(wM,"0.10.0","esm2017")}();const A_="__angularfire_symbol__analyticsIsSupportedValue",M_="__angularfire_symbol__analyticsIsSupported",N_="__angularfire_symbol__remoteConfigIsSupportedValue",R_="__angularfire_symbol__remoteConfigIsSupported",O_="__angularfire_symbol__messagingIsSupportedValue",k_="__angularfire_symbol__messagingIsSupported";function Lo(){}globalThis[M_]||(globalThis[M_]=V8().then(t=>globalThis[A_]=t).catch(()=>globalThis[A_]=!1)),globalThis[k_]||(globalThis[k_]=lM().then(t=>globalThis[O_]=t).catch(()=>globalThis[O_]=!1)),globalThis[R_]||(globalThis[R_]=_5().then(t=>globalThis[N_]=t).catch(()=>globalThis[N_]=!1));class H8{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lo,{},Lo,Lo)),n.pipe(Wt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}function ls(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function q8(t){return ls().ngZone.runOutsideAngular(()=>t())}function ds(t){return ls().ngZone.run(()=>t())}function z8(t){return ls(),function G8(t){return function(n){return(n=n.lift(new H8(t.ngZone))).pipe(Qc(t.outsideAngular),Kc(t.insideAngular))}}(ls())(t)}const W8=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ds(()=>t.apply(void 0,r))},Vo=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ds(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lo,{},Lo,Lo)))),r[s]=W8(r[s],n));const i=q8(()=>t.apply(this,r));if(!e){if(i instanceof Re){const s=ls();return i.pipe(Qc(s.outsideAngular),Kc(s.insideAngular))}return ds(()=>i)}return i instanceof Re?i.pipe(z8):i instanceof Promise?ds(()=>new Promise((s,o)=>i.then(a=>ds(()=>s(a)),a=>ds(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ds(()=>i)};var x,X8="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jn={},L_=L_||{},$=X8||self;function zd(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Vu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var V_="closure_uid_"+(1e9*Math.random()>>>0),eW=0;function tW(t,e,n){return t.call.apply(t.bind,arguments)}function nW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function At(t,e,n){return(At=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tW:nW).apply(null,arguments)}function Gd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function di(){this.s=this.s,this.o=this.o}di.prototype.s=!1,di.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function J8(t){Object.prototype.hasOwnProperty.call(t,V_)&&t[V_]||(t[V_]=++eW)}(this)},di.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function B_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function EM(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(zd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var iW=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$.addEventListener("test",()=>{},e),$.removeEventListener("test",()=>{},e)}catch(n){}return t}();function Bu(t){return/^[\s\xa0]*$/.test(t)}function Wd(){var t=$.navigator;return t&&(t=t.userAgent)?t:""}function ur(t){return-1!=Wd().indexOf(t)}function j_(t){return j_[" "](t),t}j_[" "]=function(){};var $_,oW=ur("Opera"),Bo=ur("Trident")||ur("MSIE"),CM=ur("Edge"),U_=CM||Bo,IM=ur("Gecko")&&!(-1!=Wd().toLowerCase().indexOf("webkit")&&!ur("Edge"))&&!(ur("Trident")||ur("MSIE"))&&!ur("Edge"),aW=-1!=Wd().toLowerCase().indexOf("webkit")&&!ur("Edge");function TM(){var t=$.document;return t?t.documentMode:void 0}e:{var H_="",q_=function(){var t=Wd();return IM?/rv:([^\);]+)(\)|;)/.exec(t):CM?/Edge\/([\d\.]+)/.exec(t):Bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):aW?/WebKit\/(\S+)/.exec(t):oW?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(q_&&(H_=q_?q_[1]:""),Bo){var z_=TM();if(null!=z_&&z_>parseFloat(H_)){$_=String(z_);break e}}$_=H_}var uW=$.document&&Bo&&(TM()||parseInt($_,10))||void 0;function ju(t,e){if(Mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IM){e:{try{j_(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ju.$.h.call(this)}}var cW={2:"touch",3:"pen",4:"mouse"};ju.prototype.h=function(){ju.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uu="closure_listenable_"+(1e6*Math.random()|0),lW=0;function dW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lW,this.fa=this.ia=!1}function Kd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function W_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function xM(t){const e={};for(const n in t)e[n]=t[n];return e}const AM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MM(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<AM.length;s++)n=AM[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qd(t){this.src=t,this.g={},this.h=0}function K_(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=bM(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kd(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Q_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Qd.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Q_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new dW(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Y_="closure_lm_"+(1e6*Math.random()|0),Z_={};function NM(t,e,n,r,i){if(r&&r.once)return OM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NM(t,e[s],n,r,i);return null}return n=tw(n),t&&t[Uu]?t.O(e,n,Vu(r)?!!r.capture:!!r,i):RM(t,e,n,!1,r,i)}function RM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Vu(i)?!!i.capture:!!i,a=J_(t);if(a||(t[Y_]=a=new Qd(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function fW(){const e=pW;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iW||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function OM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)OM(t,e[s],n,r,i);return null}return n=tw(n),t&&t[Uu]?t.P(e,n,Vu(r)?!!r.capture:!!r,i):RM(t,e,n,!0,r,i)}function kM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kM(t,e[s],n,r,i);else r=Vu(r)?!!r.capture:!!r,n=tw(n),t&&t[Uu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Q_(s=t.g[e],n,r,i))&&(Kd(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=J_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Q_(e,n,r,i)),(n=-1<t?e[t]:null)&&X_(n))}function X_(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Uu])K_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=J_(e))?(K_(n,t),0==n.h&&(n.src=null,e[Y_]=null)):Kd(t)}}}function FM(t){return t in Z_?Z_[t]:Z_[t]="on"+t}function pW(t,e){if(t.fa)t=!0;else{e=new ju(e,this);var n=t.listener,r=t.la||t.src;t.ia&&X_(t),t=n.call(r,e)}return t}function J_(t){return(t=t[Y_])instanceof Qd?t:null}var ew="__closure_events_fn_"+(1e9*Math.random()>>>0);function tw(t){return"function"==typeof t?t:(t[ew]||(t[ew]=function(e){return t.handleEvent(e)}),t[ew])}function at(){di.call(this),this.i=new Qd(this),this.S=this,this.J=null}function vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Mt(e,t);else if(e instanceof Mt)e.target=e.target||t;else{var i=e;MM(e=new Mt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yd(o,r,!0,e)&&i}if(i=Yd(o=e.g=t,r,!0,e)&&i,i=Yd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Yd(o=e.g=n[s],r,!1,e)&&i}function Yd(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&K_(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}at.prototype[Uu]=!0,at.prototype.removeEventListener=function(t,e,n,r){kM(this,t,e,n,r)},at.prototype.N=function(){if(at.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kd(n[r]);delete t.g[e],t.h--}}this.J=null},at.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},at.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var nw=$.JSON.stringify;class gW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function mW(){var t=rw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class yW{constructor(){this.h=this.g=null}add(e,n){const r=PM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PM=new gW(()=>new vW,t=>t.reset());class vW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _W(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function wW(t){$.setTimeout(()=>{throw t},0)}let $u,Hu=!1,rw=new yW,LM=()=>{const t=$.Promise.resolve(void 0);$u=()=>{t.then(DW)}};var DW=()=>{for(var t;t=mW();){try{t.h.call(t.g)}catch(n){wW(n)}var e=PM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hu=!1};function Zd(t,e){at.call(this),this.h=t||1,this.g=e||$,this.j=At(this.qb,this),this.l=Date.now()}function iw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function sw(t,e,n){if("function"==typeof t)n&&(t=At(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=At(t.handleEvent,t)}return 2147483647<Number(e)?-1:$.setTimeout(t,e||0)}function VM(t){t.g=sw(()=>{t.g=null,t.i&&(t.i=!1,VM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}(x=Zd.prototype).ga=!1,x.T=null,x.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vt(this,"tick"),this.ga&&(iw(this),this.start()))}},x.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},x.N=function(){Zd.$.N.call(this),iw(this),delete this.g};class bW extends di{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VM(this)}N(){super.N(),this.g&&($.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qu(t){di.call(this),this.h=t,this.g={}}var BM=[];function jM(t,e,n,r){Array.isArray(n)||(n&&(BM[0]=n.toString()),n=BM);for(var i=0;i<n.length;i++){var s=NM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function UM(t){W_(t.g,function(e,n){this.g.hasOwnProperty(n)&&X_(e)},t),t.g={}}function Xd(){this.g=!0}function jo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function TW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return nw(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}qu.prototype.N=function(){qu.$.N.call(this),UM(this)},qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xd.prototype.Ea=function(){this.g=!1},Xd.prototype.info=function(){};var hs={},$M=null;function Jd(){return $M=$M||new at}function HM(t){Mt.call(this,hs.Ta,t)}function zu(t){const e=Jd();vt(e,new HM(e))}function qM(t,e){Mt.call(this,hs.STAT_EVENT,t),this.stat=e}function Ht(t){const e=Jd();vt(e,new qM(e,t))}function zM(t,e){Mt.call(this,hs.Ua,t),this.size=e}function Gu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $.setTimeout(function(){t()},e)}hs.Ta="serverreachability",hs.STAT_EVENT="statevent",hs.Ua="timingevent";var eh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function KM(){}var cw,Wu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function aw(){Mt.call(this,"d")}function uw(){Mt.call(this,"c")}function th(){}function Ku(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new qu(this),this.P=SW,this.V=new Zd(t=U_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QM}function QM(){this.i=null,this.g="",this.h=!1}th.prototype.g=function(){return new XMLHttpRequest},th.prototype.i=function(){return{}},cw=new th;var SW=45e3,lw={},nh={};function dw(t,e,n){t.L=1,t.v=oh(Lr(e)),t.s=n,t.S=!0,YM(t,null)}function YM(t,e){t.G=Date.now(),Qu(t),t.A=Lr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),oN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new QM,t.g=MN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new bW(At(t.Pa,t,t.g),t.O)),jM(t.U,t.g,"readystatechange",t.nb),e=t.I?xM(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),zu(),function EW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function ZM(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function XM(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=xW(t,n),i==nh){4==e&&(t.o=4,Ht(14),r=!1),jo(t.j,t.m,null,"[Incomplete Response]");break}if(i==lw){t.o=4,Ht(15),jo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}jo(t.j,t.m,i,null),hw(t,i)}ZM(t)&&i!=nh&&i!=lw&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ht(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_w(e),e.M=!0,Ht(11))):(jo(t.j,t.m,n,"[Invalid Chunked Response]"),fs(t),Yu(t))}function xW(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?nh:(n=Number(e.substring(n,r)),isNaN(n)?lw:(r+=1)+n>e.length?nh:(e=e.slice(r,r+n),t.C=r+n,e))}function Qu(t){t.Y=Date.now()+t.P,JM(t,t.P)}function JM(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Gu(At(t.lb,t),e)}function rh(t){t.B&&($.clearTimeout(t.B),t.B=null)}function Yu(t){0==t.l.H||t.J||TN(t.l,t)}function fs(t){rh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,iw(t.V),UM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function hw(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||fw(n.i,t)))if(!t.K&&fw(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gu(At(n.ib,n),6e3));else{if(n.g){if(!(n.g.G+3e3<t.G))break e;hh(n),lh(n)}vw(n),Ht(18)}if(1>=cN(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else gs(n,11)}else if((t.K||n.g==t)&&hh(n),!Bu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(pw(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ee(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=AN(r,r.J?r.pa:null,r.Y),o.K){lN(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(rh(a),Qu(a)),r.g=o}else CN(r);0<n.j.length&&dh(n)}else"stop"!=c[0]&&"close"!=c[0]||gs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gs(n,7):yw(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}zu()}catch(c){}}function eN(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zd(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function MW(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(zd(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function AW(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(zd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(x=Ku.prototype).setTimeout=function(t){this.P=t},x.nb=function(t){t=t.target;const e=this.M;e&&3==cr(t)?e.l():this.Pa(t)},x.Pa=function(t){try{if(t==this.g)e:{const l=cr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||U_||this.g&&(this.h.h||this.g.ja()||vN(this.g)))){this.J||4!=l||7==e||zu(),rh(this);var n=this.g.da();this.ca=n;t:if(ZM(this)){var r=vN(this.g);t="";var i=r.length,s=4==cr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fs(this),Yu(this);var o="";break t}this.h.i=new $.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function CW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ht(12),fs(this),Yu(this);break e}jo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hw(this,n)}this.S?(XM(this,l,o),U_&&this.i&&3==l&&(jM(this.U,this.V,"tick",this.mb),this.V.start())):(jo(this.j,this.m,o,null),hw(this,o)),4==l&&fs(this),this.i&&!this.J&&(4==l?TN(this.l,this):(this.i=!1,Qu(this)))}else(function KW(t){const e={};t=(t.g&&2<=cr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Bu(t[r]))continue;var n=_W(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function hW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),fs(this),Yu(this)}}}catch(l){}},x.mb=function(){if(this.g){var t=cr(this.g),e=this.g.ja();this.C<e.length&&(rh(this),XM(this,t,e),this.i&&4!=t&&Qu(this))}},x.cancel=function(){this.J=!0,fs(this)},x.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function IW(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(zu(),Ht(17)),fs(this),this.o=2,Yu(this)):JM(this,this.Y-t)};var tN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ps){this.h=t.h,ih(this,t.j),this.s=t.s,this.g=t.g,sh(this,t.m),this.l=t.l;var e=t.i,n=new Ju;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nN(this,n),this.o=t.o}else t&&(e=String(t).match(tN))?(this.h=!1,ih(this,e[1]||"",!0),this.s=Zu(e[2]||""),this.g=Zu(e[3]||"",!0),sh(this,e[4]),this.l=Zu(e[5]||"",!0),nN(this,e[6]||"",!0),this.o=Zu(e[7]||"")):(this.h=!1,this.i=new Ju(null,this.h))}function Lr(t){return new ps(t)}function ih(t,e,n){t.j=n?Zu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nN(t,e,n){e instanceof Ju?(t.i=e,function LW(t,e){e&&!t.j&&(hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iN(this,r),oN(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Xu(e,FW)),t.i=new Ju(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function oh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,RW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function RW(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ps.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xu(e,rN,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Xu(e,rN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xu(n,"/"==n.charAt(0)?kW:OW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xu(n,PW)),t.join("")};var rN=/[#\/\?@]/g,OW=/[#\?:]/g,kW=/[#\?]/g,FW=/[#\?@]/g,PW=/#/g;function Ju(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hi(t){t.g||(t.g=new Map,t.h=0,t.i&&function NW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function iN(t,e){hi(t),e=Uo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sN(t,e){return hi(t),e=Uo(t,e),t.g.has(e)}function oN(t,e,n){iN(t,e),0<n.length&&(t.i=null,t.g.set(Uo(t,e),B_(n)),t.h+=n.length)}function Uo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aN(t){this.l=t||BW,t=$.PerformanceNavigationTiming?0<(t=$.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($.g&&$.g.Ka&&$.g.Ka()&&$.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(x=Ju.prototype).add=function(t,e){hi(this),this.i=null,t=Uo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},x.forEach=function(t,e){hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},x.ta=function(){hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},x.Z=function(t){hi(this);let e=[];if("string"==typeof t)sN(this,t)&&(e=e.concat(this.g.get(Uo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},x.set=function(t,e){return hi(this),this.i=null,sN(this,t=Uo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},x.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var t,BW=10;function uN(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cN(t){return t.h?1:t.g?t.g.size:0}function fw(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function pw(t,e){t.g?t.g.add(e):t.h=e}function lN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function dN(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return B_(t.i)}function UW(){this.g=new class{stringify(t){return $.JSON.stringify(t,void 0)}parse(t){return $.JSON.parse(t,void 0)}}}function $W(t,e,n){const r=n||"";try{eN(t,function(i,s){let o=i;Vu(i)&&(o=nw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ah(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function ec(t){this.l=t.fc||null,this.j=t.ob||!1}function uh(t,e){at.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=gw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aN.prototype.cancel=function(){if(this.i=dN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ec.prototype.g=function(){return new uh(this.l,this.j)},ec.prototype.i=(t={},function(){return t});var gw=0;function hN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function tc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nc(t)}function nc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(x=uh.prototype).open=function(t,e){if(this.readyState!=gw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nc(this)},x.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tc(this)),this.readyState=gw},x.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==$.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},x.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tc(this):nc(this),3==this.readyState&&hN(this)}},x.Za=function(t){this.g&&(this.response=this.responseText=t,tc(this))},x.Ya=function(t){this.g&&(this.response=t,tc(this))},x.ka=function(){this.g&&tc(this)},x.setRequestHeader=function(t,e){this.v.append(t,e)},x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")};var qW=$.JSON.parse;function Pe(t){at.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fN,this.L=this.M=!1}var fN="",zW=/^https?$/i,GW=["POST","PUT"];function pN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gN(t),ch(t)}function gN(t){t.F||(t.F=!0,vt(t,"complete"),vt(t,"error"))}function mN(t){if(t.h&&void 0!==L_&&(!t.C[1]||4!=cr(t)||2!=t.da()))if(t.v&&4==cr(t))sw(t.La,0,t);else if(vt(t,"readystatechange"),4==cr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(tN)[1]||null;!i&&$.self&&$.self.location&&(i=$.self.location.protocol.slice(0,-1)),r=!zW.test(i?i.toLowerCase():"")}n=r}if(n)vt(t,"complete"),vt(t,"success");else{t.m=6;try{var s=2<cr(t)?t.g.statusText:""}catch(a){s=""}t.j=s+" ["+t.da()+"]",gN(t)}}finally{ch(t)}}}function ch(t,e){if(t.g){yN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function yN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($.clearTimeout(t.A),t.A=null)}function cr(t){return t.g?t.g.readyState:0}function vN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _N(t){let e="";return W_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function mw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_N(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ee(t,e,n))}function rc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wN(t){this.Ga=0,this.j=[],this.l=new Xd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rc("baseRetryDelayMs",5e3,t),this.hb=rc("retryDelaySeedMs",1e4,t),this.eb=rc("forwardChannelMaxRetries",2,t),this.xa=rc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aN(t&&t.concurrentRequestLimit),this.Ja=new UW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yw(t){if(DN(t),3==t.H){var e=t.W++,n=Lr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),ic(t,n),(e=new Ku(t,t.l,e)).L=2,e.v=oh(Lr(n)),n=!1,$.navigator&&$.navigator.sendBeacon)try{n=$.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&$.Image&&((new Image).src=e.v,n=!0),n||(e.g=MN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qu(e)}xN(t)}function lh(t){t.g&&(_w(t),t.g.cancel(),t.g=null)}function DN(t){lh(t),t.u&&($.clearTimeout(t.u),t.u=null),hh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$.clearTimeout(t.m),t.m=null)}function dh(t){if(!uN(t.i)&&!t.m){t.m=!0;var e=t.Na;$u||LM(),Hu||($u(),Hu=!0),rw.add(e,t),t.C=0}}function bN(t,e){var n;n=e?e.m:t.W++;const r=Lr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),ic(t,r),t.o&&t.s&&mw(r,t.o,t.s),n=new Ku(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=EN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pw(t.i,n),dw(n,r,e)}function ic(t,e){t.na&&W_(t.na,function(n,r){Ee(e,r,n)}),t.h&&eN({},function(n,r){Ee(e,r,n)})}function EN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?At(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{$W(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function CN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$u||LM(),Hu||($u(),Hu=!0),rw.add(e,t),t.A=0}}function vw(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Gu(At(t.Ma,t),SN(t,t.A)),t.A++,0))}function _w(t){null!=t.B&&($.clearTimeout(t.B),t.B=null)}function IN(t){t.g=new Ku(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Lr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),ic(t,e),t.o&&t.s&&mw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=oh(Lr(e)),n.s=null,n.S=!0,YM(n,t)}function hh(t){null!=t.v&&($.clearTimeout(t.v),t.v=null)}function TN(t,e){var n=null;if(t.g==e){hh(t),_w(t),t.g=null;var r=2}else{if(!fw(t.i,e))return;n=e.F,lN(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;vt(r=Jd(),new zM(r,n)),dh(t)}else CN(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function QW(t,e){return!(cN(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Gu(At(t.Na,t,e),SN(t,t.C)),t.C++,0)))}(t,e)||2==r&&vw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gs(t,5);break;case 4:gs(t,10);break;case 3:gs(t,6);break;default:gs(t,2)}}function SN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=At(t.pb,t);n||(n=new ps("//www.google.com/images/cleardot.gif"),$.location&&"http"==$.location.protocol||ih(n,"https"),oh(n)),function HW(t,e){const n=new Xd;if($.Image){const r=new Image;r.onload=Gd(ah,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gd(ah,n,r,"TestLoadImage: error",!1,e),r.onabort=Gd(ah,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gd(ah,n,r,"TestLoadImage: timeout",!1,e),$.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ht(2);t.H=0,t.h&&t.h.za(e),xN(t),DN(t)}function xN(t){if(t.H=0,t.ma=[],t.h){const e=dN(t.i);(0!=e.length||0!=t.j.length)&&(EM(t.ma,e),EM(t.ma,t.j),t.i.i.length=0,B_(t.j),t.j.length=0),t.h.ya()}}function AN(t,e,n){var r=n instanceof ps?Lr(n):new ps(n);if(""!=r.g)e&&(r.g=e+"."+r.g),sh(r,r.m);else{var i=$.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ps(null);r&&ih(s,r),e&&(s.g=e),i&&sh(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),ic(t,r),r}function MN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pe(n&&t.Ha&&!t.va?new ec({ob:!0}):t.va)).Oa(t.J),e}function fh(){if(Bo&&!(10<=Number(uW)))throw Error("Environmental error: no available transport.")}function cn(t,e){at.call(this),this.g=new wN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bu(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $o(this)}function RN(t){aw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ON(){uw.call(this),this.status=1}function $o(t){this.g=t}function Un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ww(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(x=Pe.prototype).Oa=function(t){this.M=t},x.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cw.g(),this.C=function WM(t){return t.h||(t.h=t.i())}(this.u?this.u:cw),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void pN(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=$.FormData&&t instanceof $.FormData,!(0<=bM(GW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yN(this),0<this.B&&((this.L=function WW(t){return Bo&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=sw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){pN(this,s)}},x.ua=function(){void 0!==L_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))},x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vt(this,"complete"),vt(this,"abort"),ch(this))},x.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ch(this,!0)),Pe.$.N.call(this)},x.La=function(){this.s||(this.G||this.v||this.l?mN(this):this.kb())},x.kb=function(){mN(this)},x.isActive=function(){return!!this.g},x.da=function(){try{return 2<cr(this)?this.g.status:-1}catch(t){return-1}},x.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},x.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qW(e)}},x.Ia=function(){return this.m},x.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(x=wN.prototype).ra=8,x.H=1,x.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ku(this,this.l,t);let s=this.s;if(this.U&&(s?(s=xM(s),MM(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=EN(this,i,e),Ee(n=Lr(this.I),"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),ic(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(_N(s)))+"&"+e:this.o&&mw(n,this.o,s)),pw(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,dw(i,n,null)):dw(i,n,e),this.H=2}}else 3==this.H&&(t?bN(this,t):0==this.j.length||uN(this.i)||bN(this))},x.Ma=function(){if(this.u=null,IN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gu(At(this.jb,this),t)}},x.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ht(10),lh(this),IN(this))},x.ib=function(){null!=this.v&&(this.v=null,lh(this),vw(this),Ht(19))},x.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ht(2)):(this.l.info("Failed to ping google.com"),Ht(1))},x.isActive=function(){return!!this.h&&this.h.isActive(this)},(x=function NN(){}.prototype).Ba=function(){},x.Aa=function(){},x.za=function(){},x.ya=function(){},x.isActive=function(){return!0},x.Va=function(){},fh.prototype.g=function(t,e){return new cn(t,e)},cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ht(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AN(t,null,t.Y),dh(t)},cn.prototype.close=function(){yw(this.g)},cn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=nw(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&dh(e)},cn.prototype.N=function(){this.g.h=null,delete this.j,yw(this.g),delete this.g,cn.$.N.call(this)},$o.prototype.Ba=function(){vt(this.g,"a")},$o.prototype.Aa=function(t){vt(this.g,new RN(t))},$o.prototype.za=function(t){vt(this.g,new ON)},$o.prototype.ya=function(){vt(this.g,"b")},Un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Un.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)ww(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ww(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ww(this,r),i=0;break}}this.h=i,this.i+=e},Un.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var ZW={};function Dw(t){return-128<=t&&128>t?function sW(t,e){var n=ZW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new pe([0|e],0>e?-1:0)}):new pe([0|t],0>t?-1:0)}function lr(t){if(isNaN(t)||!isFinite(t))return Ho;if(0>t)return _t(lr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=bw;return new pe(e,0)}var bw=4294967296,Ho=Dw(0),Ew=Dw(1),FN=Dw(16777216);function Vr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function In(t){return-1==t.h}function _t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new pe(n,~t.h).add(Ew)}function ph(t,e){return t.add(_t(e))}function gh(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function sc(t,e){this.g=t,this.h=e}function mh(t,e){if(Vr(e))throw Error("division by zero");if(Vr(t))return new sc(Ho,Ho);if(In(t))return e=mh(_t(t),e),new sc(_t(e.g),_t(e.h));if(In(e))return e=mh(t,_t(e)),new sc(_t(e.g),e.h);if(30<t.g.length){if(In(t)||In(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ew,r=e;0>=r.X(t);)n=PN(n),r=PN(r);var i=qo(n,1),s=qo(r,1);for(r=qo(r,2),n=qo(n,2);!Vr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=qo(r,1),n=qo(n,1)}return e=ph(t,i.R(e)),new sc(i,e)}for(i=Ho;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=lr(n)).R(e);In(o)||0<o.X(t);)o=(s=lr(n-=r)).R(e);Vr(s)&&(s=Ew),i=i.add(s),t=ph(t,o)}return new sc(i,t)}function PN(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new pe(n,t.h)}function qo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new pe(i,t.h)}(x=pe.prototype).ea=function(){if(In(this))return-_t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:bw+r)*e,e*=bw}return t},x.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Vr(this))return"0";if(In(this))return"-"+_t(this).toString(t);for(var e=lr(Math.pow(t,6)),n=this,r="";;){var i=mh(n,e).g,s=((0<(n=ph(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Vr(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},x.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},x.X=function(t){return In(t=ph(this,t))?-1:Vr(t)?0:1},x.abs=function(){return In(this)?_t(this):this},x.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new pe(n,-2147483648&n[n.length-1]?-1:0)},x.R=function(t){if(Vr(this)||Vr(t))return Ho;if(In(this))return In(t)?_t(this).R(_t(t)):_t(_t(this).R(t));if(In(t))return _t(this.R(_t(t)));if(0>this.X(FN)&&0>t.X(FN))return lr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,gh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,gh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,gh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,gh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new pe(n,0)},x.gb=function(t){return mh(this,t).h},x.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new pe(n,this.h&t.h)},x.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new pe(n,this.h|t.h)},x.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new pe(n,this.h^t.h)},fh.prototype.createWebChannel=fh.prototype.g,cn.prototype.send=cn.prototype.u,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,eh.NO_ERROR=0,eh.TIMEOUT=8,eh.HTTP_ERROR=6,GM.COMPLETE="complete",KM.EventType=Wu,Wu.OPEN="a",Wu.CLOSE="b",Wu.ERROR="c",Wu.MESSAGE="d",at.prototype.listen=at.prototype.O,Pe.prototype.listenOnce=Pe.prototype.P,Pe.prototype.getLastError=Pe.prototype.Sa,Pe.prototype.getLastErrorCode=Pe.prototype.Ia,Pe.prototype.getStatus=Pe.prototype.da,Pe.prototype.getResponseJson=Pe.prototype.Wa,Pe.prototype.getResponseText=Pe.prototype.ja,Pe.prototype.send=Pe.prototype.ha,Pe.prototype.setWithCredentials=Pe.prototype.Oa,Un.prototype.digest=Un.prototype.l,Un.prototype.reset=Un.prototype.reset,Un.prototype.update=Un.prototype.j,pe.prototype.add=pe.prototype.add,pe.prototype.multiply=pe.prototype.R,pe.prototype.modulo=pe.prototype.gb,pe.prototype.compare=pe.prototype.X,pe.prototype.toNumber=pe.prototype.ea,pe.prototype.toString=pe.prototype.toString,pe.prototype.getBits=pe.prototype.D,pe.fromNumber=lr,pe.fromString=function kN(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return _t(kN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=lr(Math.pow(e,8)),r=Ho,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=lr(Math.pow(e,s)),r=r.R(s).add(lr(o))):r=(r=r.R(n)).add(lr(o))}return r};var XW=jn.createWebChannelTransport=function(){return new fh},JW=jn.getStatEventTarget=function(){return Jd()},Cw=jn.ErrorCode=eh,eK=jn.EventType=GM,tK=jn.Event=hs,LN=jn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nK=jn.FetchXmlHttpFactory=ec,yh=jn.WebChannel=KM,rK=jn.XhrIo=Pe,iK=jn.Md5=Un,zo=jn.Integer=pe;class ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");let Go="9.23.0";const fi=new ku("@firebase/firestore");function Iw(){return fi.logLevel}function I(t,...e){if(fi.logLevel<=le.DEBUG){const n=e.map(Tw);fi.debug(`Firestore (${Go}): ${t}`,...n)}}function je(t,...e){if(fi.logLevel<=le.ERROR){const n=e.map(Tw);fi.error(`Firestore (${Go}): ${t}`,...n)}}function $n(t,...e){if(fi.logLevel<=le.WARN){const n=e.map(Tw);fi.warn(`Firestore (${Go}): ${t}`,...n)}}function Tw(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function N(t="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+t;throw je(e),new Error(e)}function O(t,e){t||N()}function S(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class et{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class sK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class uK{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cK{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new uK(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function dK(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class UN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function j(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ne{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ne(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?j(this.nanoseconds,e.nanoseconds):j(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class k{constructor(e){this.timestamp=e}static fromTimestamp(e){return new k(e)}static min(){return new k(new Ne(0,0))}static max(){return new k(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class oc{constructor(e,n,r){void 0===n?n=0:n>e.length&&N(),void 0===r?r=e.length-n:r>e.length-n&&N(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===oc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends oc{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const hK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ue extends oc{construct(e,n,r){return new Ue(e,n,r)}static isValidIdentifier(e){return hK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ue.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ue(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ue(n)}static emptyPath(){return new Ue([])}}class T{constructor(e){this.path=e}static fromPath(e){return new T(ue.fromString(e))}static fromName(e){return new T(ue.fromString(e).popFirst(5))}static empty(){return new T(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new T(new ue(e.slice()))}}function qN(t){return new ln(t.readTime,t.key,-1)}class ln{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ln(k.min(),T.empty(),-1)}static max(){return new ln(k.max(),T.empty(),-1)}}function xw(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=T.comparator(t.documentKey,e.documentKey),0!==n?n:j(t.largestBatchId,e.largestBatchId))}const zN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function pi(t){return Aw.apply(this,arguments)}function Aw(){return Aw=D(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==zN)throw t;I("LocalStore","Unexpectedly lost primary lease")}),Aw.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function gi(t){return"IndexedDbTransactionError"===t.name}let dn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function cc(t){return null==t}function lc(t){return 0===t&&1/t==-1/0}function eR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class be{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:wt.RED,this.left=null!=i?i:wt.EMPTY,this.right=null!=s?s:wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw N();const e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1,wt.EMPTY=new class{constructor(){this.size=0}get key(){throw N()}get value(){throw N()}get color(){throw N()}get left(){throw N()}get right(){throw N()}copy(t,e,n,r,i){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nR(this.data.getIterator())}getIteratorFrom(e){return new nR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class nR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yt{constructor(e){this.fields=e,e.sort(Ue.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new Ce(Ue.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class rR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw"undefined"!=typeof DOMException&&i instanceof DOMException?new rR("Invalid base64 string: "+i):i}}(e);return new tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return j(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tt.EMPTY_BYTE_STRING=new tt("");const VK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(O(!!t),"string"==typeof t){let e=0;const n=VK.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Br(t){return"string"==typeof t?tt.fromBase64String(t):tt.fromUint8Array(t)}function Eh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ch(t){const e=t.mapValue.fields.__previous_value__;return Eh(e)?Ch(e):e}function dc(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}class BK{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class vs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vs&&e.projectId===this.projectId&&e.database===this.database}}const vi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eh(t)?4:aR(t)?9007199254740991:10:N()}function hr(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=yi(r.timestampValue),o=yi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Br(t.bytesValue).isEqual(Br(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Le(r.geoPointValue.latitude)===Le(i.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Le(r.integerValue)===Le(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Le(r.doubleValue),o=Le(i.doubleValue);return s===o?lc(s)===lc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(eR(s)!==eR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!hr(s[a],o[a])))return!1;return!0}(t,e);default:return N()}var i}function hc(t,e){return void 0!==(t.values||[]).find(n=>hr(n,e))}function wi(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return j(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return j(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Le(i.integerValue||i.doubleValue),a=Le(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return iR(t.timestampValue,e.timestampValue);case 4:return iR(dc(t),dc(e));case 5:return j(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Br(i),a=Br(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=j(o[u],a[u]);if(0!==c)return c}return j(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=j(Le(i.latitude),Le(s.latitude));return 0!==o?o:j(Le(i.longitude),Le(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=wi(o[u],a[u]);if(c)return c}return j(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===vi_mapValue&&s===vi_mapValue)return 0;if(i===vi_mapValue)return 1;if(s===vi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=j(a[l],c[l]);if(0!==d)return d;const h=wi(o[a[l]],u[c[l]]);if(0!==h)return h}return j(a.length,c.length)}(t.mapValue,e.mapValue);default:throw N()}}function iR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return j(t,e);const n=yi(t),r=yi(e),i=j(n.seconds,r.seconds);return 0!==i?i:j(n.nanos,r.nanos)}function Qo(t){return Rw(t)}function Rw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=yi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Br(t.bytesValue).toBase64():"referenceValue"in t?T.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Rw(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Rw(r.fields[a])}`;return s+"}"}(t.mapValue):N();var e}function Ow(t){return!!t&&"integerValue"in t}function fc(t){return!!t&&"arrayValue"in t}function sR(t){return!!t&&"nullValue"in t}function oR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aR(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=Ue.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Dt(pc(this.value))}}function lR(t){const e=[];return mi(t.fields,(n,r)=>{const i=new Ue([n]);if(Sh(r)){const s=lR(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yt(e)}class Ie{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ie(e,0,k.min(),k.min(),k.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ie(e,1,n,k.min(),r,i,0)}static newNoDocument(e,n){return new Ie(e,2,n,k.min(),k.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new Ie(e,3,n,k.min(),k.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(k.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=k.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ie&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Di{constructor(e,n){this.position=e,this.inclusive=n}}function dR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?T.comparator(T.fromName(o.referenceValue),n.key):wi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function hR(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}class Yo{constructor(e,n="asc"){this.field=e,this.dir=n}}function $K(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fR{}class re extends fR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new HK(e,n,r):"array-contains"===n?new GK(e,r):"in"===n?new _R(e,r):"not-in"===n?new WK(e,r):"array-contains-any"===n?new KK(e,r):new re(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new qK(e,r):new zK(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(wi(n,this.value)):null!==n&&_i(this.value)===_i(n)&&this.matchesComparison(wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ge extends fR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ge(e,n)}matches(e){return Zo(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Zo(t){return"and"===t.op}function Fw(t){return function pR(t){for(const e of t.filters)if(e instanceof ge)return!1;return!0}(t)&&Zo(t)}function Pw(t){if(t instanceof re)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(Fw(t))return t.filters.map(e=>Pw(e)).join(",");{const e=t.filters.map(n=>Pw(n)).join(",");return`${t.op}(${e})`}}function gR(t,e){return t instanceof re?(n=t,(r=e)instanceof re&&n.op===r.op&&n.field.isEqual(r.field)&&hr(n.value,r.value)):t instanceof ge?function(n,r){return r instanceof ge&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&gR(s,r.filters[o]),!0)}(t,e):void N();var n,r}function yR(t){return t instanceof re?`${(e=t).field.canonicalString()} ${e.op} ${Qo(e.value)}`:t instanceof ge?function(e){return e.op.toString()+" {"+e.getFilters().map(yR).join(" ,")+"}"}(t):"Filter";var e}class HK extends re{constructor(e,n,r){super(e,n,r),this.key=T.fromName(r.referenceValue)}matches(e){const n=T.comparator(e.key,this.key);return this.matchesComparison(n)}}class qK extends re{constructor(e,n){super(e,"in",n),this.keys=vR(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zK extends re{constructor(e,n){super(e,"not-in",n),this.keys=vR(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vR(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>T.fromName(r.referenceValue))}class GK extends re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fc(n)&&hc(n.arrayValue,this.value)}}class _R extends re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&hc(this.value.arrayValue,n)}}class WK extends re{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!hc(this.value.arrayValue,n)}}class KK extends re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}class QK{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Lw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QK(t,e,n,r,i,s,o)}function ws(t){const e=S(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),cc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),e.dt=n}return e.dt}function gc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$K(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hR(t.startAt,e.startAt)&&hR(t.endAt,e.endAt)}function xh(t){return T.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class jr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Xo(t){return new jr(t)}function ER(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ds(t){const e=S(t);if(null===e.wt){e.wt=[];const n=function Mh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Vw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Yo(n)),e.wt.push(new Yo(Ue.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yo(Ue.keyField(),s))}}}return e.wt}function qt(t){const e=S(t);if(!e._t)if("F"===e.limitType)e._t=Lw(e.path,e.collectionGroup,Ds(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ds(e))n.push(new Yo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Di(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Di(e.startAt.position,e.startAt.inclusive):null;e._t=Lw(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Nh(t,e,n){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mc(t,e){return gc(qt(t),qt(e))&&t.limitType===e.limitType}function CR(t){return`${ws(qt(t))}|lt:${t.limitType}`}function Uw(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>yR(r)).join(", ")}]`),cc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),`Target(${n})`}(qt(t))}; limitType=${t.limitType})`}function yc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):T.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ds(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=dR(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ds(n),r)||n.endAt&&!function(i,s,o){const a=dR(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ds(n),r)));var n,r}function TR(t){return(e,n)=>{let r=!1;for(const i of Ds(t)){const s=YK(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function YK(t,e,n){const r=t.field.isKeyField()?T.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?wi(a,u):N()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}class Ur{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tR(this.inner)}size(){return this.innerSize}}const ZK=new be(T.comparator);function Zt(){return ZK}const SR=new be(T.comparator);function vc(...t){let e=SR;for(const n of t)e=e.insert(n.key,n);return e}function xR(t){let e=SR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fr(){return _c()}function AR(){return _c()}function _c(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}const XK=new be(T.comparator),JK=new Ce(T.comparator);function W(...t){let e=JK;for(const n of t)e=e.add(n);return e}const eQ=new Ce(j);function MR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function NR(t){return{integerValue:""+t}}function RR(t,e){return function WN(t){return"number"==typeof t&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?NR(e):MR(t,e)}class Rh{constructor(){this._=void 0}}function tQ(t,e,n){return t instanceof Jo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Eh(i)&&(i=Ch(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof bs?kR(t,e):t instanceof Es?FR(t,e):function(r,i){const s=OR(r,i),o=PR(s)+PR(r.gt);return Ow(s)&&Ow(r.gt)?NR(o):MR(r.serializer,o)}(t,e)}function nQ(t,e,n){return t instanceof bs?kR(t,e):t instanceof Es?FR(t,e):n}function OR(t,e){return t instanceof ea?Ow(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Jo extends Rh{}class bs extends Rh{constructor(e){super(),this.elements=e}}function kR(t,e){const n=LR(e);for(const r of t.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Es extends Rh{constructor(e){super(),this.elements=e}}function FR(t,e){let n=LR(e);for(const r of t.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}class ea extends Rh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function PR(t){return Le(t.integerValue||t.doubleValue)}function LR(t){return fc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class iQ{constructor(e,n){this.version=e,this.transformResults=n}}class xe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xe}static exists(e){return new xe(void 0,e)}static updateTime(e){return new xe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kh{}function VR(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new na(t.key,xe.none()):new ta(t.key,t.data,xe.none());{const n=t.data,r=Dt.empty();let i=new Ce(Ue.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new $r(t.key,r,new Yt(i.toArray()),xe.none())}}function sQ(t,e,n){t instanceof ta?function(r,i,s){const o=r.value.clone(),a=UR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(r,i,s){if(!Oh(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=UR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(jR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dc(t,e,n,r){return t instanceof ta?function(i,s,o,a){if(!Oh(i.precondition,s))return o;const u=i.value.clone(),c=$R(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $r?function(i,s,o,a){if(!Oh(i.precondition,s))return o;const u=$R(i.fieldTransforms,a,s),c=s.data;return c.setAll(jR(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Oh(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function oQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OR(r.transform,i||null);null!=s&&(null===n&&(n=Dt.empty()),n.set(r.field,s))}return n||null}function BR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Wo(n,r,(i,s)=>function rQ(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof bs&&r instanceof bs||n instanceof Es&&r instanceof Es?Wo(n.elements,r.elements,hr):n instanceof ea&&r instanceof ea?hr(n.gt,r.gt):n instanceof Jo&&r instanceof Jo);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class ta extends kh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $r extends kh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UR(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nQ(o,a,n[i]))}return r}function $R(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tQ(s,o,e))}return r}class na extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hw extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=VR(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(k.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),W())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>BR(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>BR(n,r))}}class zw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){O(e.mutations.length===r.length);let i=XK;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zw(e,n,r,i)}}class Gw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ke,ce;function HR(t){switch(t){default:return N();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function qR(t){if(void 0===t)return je("GRPC error has no .code"),w.UNKNOWN;switch(t){case Ke.OK:return w.OK;case Ke.CANCELLED:return w.CANCELLED;case Ke.UNKNOWN:return w.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return w.INTERNAL;case Ke.UNAVAILABLE:return w.UNAVAILABLE;case Ke.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ke.NOT_FOUND:return w.NOT_FOUND;case Ke.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ke.ABORTED:return w.ABORTED;case Ke.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ke.DATA_LOSS:return w.DATA_LOSS;default:return N()}}(ce=Ke||(Ke={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class Ww{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fh}static getOrCreateInstance(){return null===Fh&&(Fh=new Ww),Fh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fh=null;const cQ=new zo([4294967295,4294967295],0);function GR(t){const e=function zR(){return new TextEncoder}().encode(t),n=new iK;return n.update(e),new Uint8Array(n.digest())}function WR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zo([n,r],0),new zo([i,s],0)]}class Kw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(r<0)throw new bc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=zo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(zo.fromNumber(r)));return 1===i.compare(cQ)&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=GR(e),[r,i]=WR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Kw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=GR(e),[r,i]=WR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ec{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ec(k.min(),i,new be(j),Zt(),W())}}class Cc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cc(r,n,W(),W(),W())}}class Ph{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class KR{constructor(e,n){this.targetId=e,this.Vt=n}}class QR{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YR{constructor(){this.St=0,this.Dt=XR(),this.Ct=tt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=W(),n=W(),r=W();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:N()}}),new Cc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=XR()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lQ{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Zt(),this.zt=ZR(),this.Wt=new be(j)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:N()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(xh(o))if(0===i){const a=new T(o.path);this.Yt(r,a,Ie.newNoDocument(a,k.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Ww.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,_;const y={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=null==C?void 0:C.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=null==C?void 0:C.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(m=null==C?void 0:C.bits)||void 0===m?void 0:m.padding)&&void 0!==_?_:0}),y}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Br(s).toUint8Array()}catch(l){if(l instanceof rR)return $n("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new Kw(u,o,a)}catch(l){return $n(l instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&xh(a.target)){const u=new T(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ie.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=W();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Ec(e,n,this.Wt,this.jt,r);return this.jt=Zt(),this.zt=ZR(),this.Wt=new be(j),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new YR,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ce(j),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||I("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YR),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function ZR(){return new be(T.comparator)}function XR(){return new be(T.comparator)}const dQ=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hQ=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fQ=(()=>({and:"AND",or:"OR"}))();class pQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qw(t,e){return t.useProto3Json||cc(e)?e:{value:e}}function ra(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gQ(t,e){return ra(t,e.toTimestamp())}function $e(t){return O(!!t),k.fromTimestamp(function(e){const n=yi(e);return new Ne(n.seconds,n.nanos)}(t))}function Yw(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function eO(t){const e=ue.fromString(t);return O(cO(e)),e}function Ic(t,e){return Yw(t.databaseId,e.path)}function pr(t,e){const n=eO(e);if(n.get(1)!==t.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new T(nO(n))}function Zw(t,e){return Yw(t.databaseId,e)}function Tc(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nO(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rO(t,e,n){return{name:Ic(t,e),fields:n.value.mapValue.fields}}function sO(t,e){return{documents:[Zw(t,e.path)]}}function Jw(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Zw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return uO(ge.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:bi((l=c).field),direction:wQ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Qw(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function oO(t){let e=function tO(t){const e=eO(t);return 4===e.length?ue.emptyPath():nO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=aO(l);return d instanceof ge&&Fw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Yo(ia((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,cc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Di((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Di(l.values||[],!l.before)}(n.endAt)),function bR(t,e,n,r,i,s,o,a){return new jr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function aO(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ia(e.unaryFilter.field);return re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ia(e.unaryFilter.field);return re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ia(e.unaryFilter.field);return re.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ia(e.unaryFilter.field);return re.create(s,"!=",{nullValue:"NULL_VALUE"});default:return N()}}(t):void 0!==t.fieldFilter?re.create(ia((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return ge.create(e.compositeFilter.filters.map(n=>aO(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return N()}}(e.compositeFilter.op))}(t):N();var e}function wQ(t){return dQ[t]}function DQ(t){return hQ[t]}function bQ(t){return fQ[t]}function bi(t){return{fieldPath:t.canonicalString()}}function ia(t){return Ue.fromServerFormat(t.fieldPath)}function uO(t){return t instanceof re?function(e){if("=="===e.op){if(oR(e.value))return{unaryFilter:{field:bi(e.field),op:"IS_NAN"}};if(sR(e.value))return{unaryFilter:{field:bi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oR(e.value))return{unaryFilter:{field:bi(e.field),op:"IS_NOT_NAN"}};if(sR(e.value))return{unaryFilter:{field:bi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bi(e.field),op:DQ(e.op),value:e.value}}}(t):t instanceof ge?function(e){const n=e.getFilters().map(r=>uO(r));return 1===n.length?n[0]:{compositeFilter:{op:bQ(e.op),filters:n}}}(t):N()}function EQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Hr{constructor(e,n,r,i,s=k.min(),o=k.min(),a=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lO{constructor(e){this.fe=e}}function e0(t){const e=oO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Nh(e,e.limit,"L"):e}class Ss{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Le(e.integerValue));else if("doubleValue"in e){const r=Le(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),lc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Br(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?aR(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):N()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),T.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ss.Ve=new Ss;class RQ{constructor(){this.rn=new a0}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(ln.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(ln.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class a0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(ue.comparator)).toArray()}}class Rt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rt(e,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(41943040,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);class As{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new As(0)}static Mn(){return new As(-1)}}class UQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class PO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Dc(r.mutation,i,Yt.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,W()).next(()=>r))}getLocalViewOfDocuments(e,n,r=W()){const i=fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,W()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zt();const o=_c(),a=_c();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof $r)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Dc(l.mutation,c,l.mutation.getFieldMask(),Ne.now())):o.set(c.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new UQ(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_c();let i=new be((o,a)=>o-a),s=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Yt.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||W()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=AR();l.forEach(h=>{if(!s.has(h)){const f=VR(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return T.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Bw(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(fr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,W())).next(l=>({batchId:a,changes:xR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new T(n)).next(r=>{let i=vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=vc();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new jr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ie.newInvalidDocument(c)))});let o=vc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Dc(c.mutation,u,Yt.empty(),Ne.now()),yc(n,u)&&(o=o.insert(a,u))}),o})}}class $Q{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:$e(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:e0(r.bundledQuery),readTime:$e(r.readTime)}),v.resolve();var r}}class HQ{constructor(){this.overlays=new be(T.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=fr(),s=n.length+1,o=new T(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new be((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=fr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=fr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gw(n,r));let s=this.ls.get(n);void 0===s&&(s=W(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class u0{constructor(){this.fs=new Ce(lt.ds),this.ws=new Ce(lt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new lt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new lt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new T(new ue([])),r=new lt(n,e),i=new lt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new T(new ue([])),r=new lt(n,e),i=new lt(n,e+1);let s=W();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new lt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return T.comparator(e.key,n.key)||j(e.As,n.As)}static _s(e,n){return j(e.As,n.As)||T.comparator(e.key,n.key)}}class qQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ce(lt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new qw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(j);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;T.isDocumentKey(s)||(s=s.child(""));const o=new lt(new T(s),0);let a=new Ce(j);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new lt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zQ{constructor(e){this.Ds=e,this.docs=new be(T.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ie.newInvalidDocument(n))}getEntries(e,n){let r=Zt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ie.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zt();const o=n.path,a=new T(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||xw(qN(l),r)<=0||(i.has(l.key)||yc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){N()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GQ(this)}getSize(e){return v.resolve(this.size)}}class GQ extends class VQ{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ie.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class WQ{constructor(e){this.persistence=e,this.xs=new Ur(n=>ws(n),gc),this.lastRemoteSnapshotVersion=k.min(),this.highestTargetId=0,this.Ns=0,this.ks=new u0,this.targetCount=0,this.Ms=As.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new As(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class c0{constructor(e,n){this.$s={},this.overlays={},this.Os=new dn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new WQ(this),this.indexManager=new RQ,this.remoteDocumentCache=new zQ(r=>this.referenceDelegate.Ls(r)),this.serializer=new lO(n),this.qs=new $Q(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new qQ(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);const i=new KQ(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class KQ extends class gK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class zh{constructor(e){this.persistence=e,this.Qs=new u0,this.js=null}static zs(e){return new zh(e)}get Ws(){if(this.js)return this.js;throw N()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=T.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,k.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class f0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=W(),i=W();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f0(e,n.fromCache,r,i)}}class VO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(ER(n))return v.resolve(null);let r=qt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Nh(n,null,"F"),r=qt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=W(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Nh(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return ER(n)||i.isEqual(k.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Iw()<=le.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uw(n)),this.Wi(e,o,n,function HN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=k.fromTimestamp(1e9===r?new Ne(n+1,0):new Ne(n,r));return new ln(i,T.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ce(TR(e));return n.forEach((i,s)=>{yc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Iw()<=le.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Uw(n)),this.Ui.getDocumentsMatchingQuery(e,n,ln.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class YQ{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new be(j),this.Yi=new Ur(s=>ws(s),gc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function jO(t,e){return p0.apply(this,arguments)}function p0(){return p0=D(function*(t,e){const n=S(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=W();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),p0.apply(this,arguments)}function ZQ(t,e){const n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);O(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=W();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UO(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function XQ(t,e){const n=S(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(tt.EMPTY_BYTE_STRING,k.min()).withLastLimboFreeSnapshotVersion(k.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Zt(),c=W();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function $O(t,e,n){let r=W(),i=W();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zt();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(k.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(k.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}function JQ(t,e){const n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aa(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Hr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function ua(t,e,n){return g0.apply(this,arguments)}function g0(){return g0=D(function*(t,e,n){const r=S(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!gi(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),g0.apply(this,arguments)}function Kh(t,e,n){const r=S(t);let i=k.min(),s=W();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,qt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:k.min(),n?s:W())).next(a=>(function zO(t,e,n){let r=t.Xi.get(e)||k.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function IR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class w0{constructor(){this.activeTargetIds=function $w(){return eQ}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KO{constructor(){this.Hr=new w0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new w0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nY{Yr(e){}shutdown(){}}class QO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zh=null;function b0(){return null===Zh?Zh=268435456+Math.round(2147483648*Math.random()):Zh++,"0x"+Zh.toString(16)}const rY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iY{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ot="WebChannelConnection";class sY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=b0(),a=this.To(e,n);I("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(I("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw $n("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Go,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${rY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=b0();return new Promise((o,a)=>{const u=new rK;u.setWithCredentials(!0),u.listenOnce(eK.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Cw.NO_ERROR:const l=u.getResponseJson();I(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Cw.TIMEOUT:I(Ot,`RPC '${e}' ${s} timed out`),a(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case Cw.HTTP_ERROR:const d=u.getStatus();if(I(Ot,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null==h?void 0:h.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(w.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{I(Ot,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);I(Ot,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=b0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XW(),a=JW(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new nK({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");I(Ot,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new iY({ro:m=>{f?I(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(I(Ot,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(Ot,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,_,y)=>{m.listen(_,C=>{try{y(C)}catch(R){setTimeout(()=>{throw R},0)}})};return g(d,yh.EventType.OPEN,()=>{f||I(Ot,`RPC '${e}' stream ${i} transport opened.`)}),g(d,yh.EventType.CLOSE,()=>{f||(f=!0,I(Ot,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,yh.EventType.ERROR,m=>{f||(f=!0,$n(Ot,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,yh.EventType.MESSAGE,m=>{var _;if(!f){const y=m.data[0];O(!!y);const C=y,R=C.error||(null===(_=C[0])||void 0===_?void 0:_.error);if(R){I(Ot,`RPC '${e}' stream ${i} received error:`,R);const P=R.status;let Z=function(qn){const Ea=Ke[qn];if(void 0!==Ea)return qR(Ea)}(P),Ve=R.message;void 0===Z&&(Z=w.INTERNAL,Ve="Unknown error status: "+P+" with message "+R.message),f=!0,p.wo(new b(Z,Ve)),d.close()}else I(Ot,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,tK.STAT_EVENT,m=>{m.stat===LN.PROXY?I(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===LN.NOPROXY&&I(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Xh(){return"undefined"!=typeof document?document:null}function Pc(t){return new pQ(t,!0)}class E0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ZO{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new E0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return D(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return D(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return D(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(je(n.toString()),je("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(D(function*(){e.state=0,e.start()}))}tu(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oY extends ZO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function yQ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:N(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(O(void 0===c||"string"==typeof c),tt.fromBase64String(c||"")):(O(void 0===c||c instanceof Uint8Array),tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:qR(u.code);return new b(c,u.message||"")}(o);n=new QR(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pr(t,r.document.name),s=$e(r.document.updateTime),o=r.document.createTime?$e(r.document.createTime):k.min(),a=new Dt({mapValue:{fields:r.document.fields}}),u=Ie.newFoundDocument(i,s,o,a);n=new Ph(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=pr(t,r.document),s=r.readTime?$e(r.readTime):k.min(),o=Ie.newNoDocument(i,s);n=new Ph([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=pr(t,r.document);n=new Ph([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return N();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new uQ(i,s);n=new KR(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return k.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?k.min():s.readTime?$e(s.readTime):k.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Tc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=xh(a)?{documents:sO(i,a)}:{query:Jw(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=JR(i,s.resumeToken);const u=Qw(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(k.min())>0){o.readTime=ra(i,s.snapshotVersion.toTimestamp());const u=Qw(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function _Q(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return N()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Tc(this.serializer),n.removeTarget=e,this.Wo(n)}}class aY extends ZO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function vQ(t,e){return t&&t.length>0?(O(void 0!==e),t.map(n=>function(r,i){let s=$e(r.updateTime?r.updateTime:i);return s.isEqual(k.min())&&(s=$e(i)),new iQ(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=$e(e.commitTime);return this.listener.cu(r,n)}return O(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Tc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Sc(t,e){let n;if(e instanceof ta)n={update:rO(t,e.key,e.value)};else if(e instanceof na)n={delete:Ic(t,e.key)};else if(e instanceof $r)n={update:rO(t,e.key,e.data),updateMask:EQ(e.fieldMask)};else{if(!(e instanceof Hw))return N();n={verify:Ic(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Jo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Es)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ea)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw N()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gQ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:N()),n;var i}(this.serializer,r))};this.Wo(n)}}class uY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class lY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(je(n),this.mu=!1):I("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class dY{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(D(function*(){var u;Ti(o)&&(I("RemoteStore","Restarting streams for network reachability change."),yield(u=D(function*(c){const l=S(c);l.vu.add(4),yield ca(l),l.bu.set("Unknown"),l.vu.delete(4),yield Lc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new lY(r,i)}}function Lc(t){return I0.apply(this,arguments)}function I0(){return I0=D(function*(t){if(Ti(t))for(const e of t.Ru)yield e(!0)}),I0.apply(this,arguments)}function ca(t){return T0.apply(this,arguments)}function T0(){return T0=D(function*(t){for(const e of t.Ru)yield e(!1)}),T0.apply(this,arguments)}function Jh(t,e){const n=S(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),A0(n)?x0(n):da(n).Ko()&&S0(n,e))}function Vc(t,e){const n=S(t),r=da(n);n.Au.delete(e),r.Ko()&&XO(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ti(n)&&n.bu.set("Unknown"))}function S0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(k.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).su(e)}function XO(t,e){t.Vu.qt(e),da(t).iu(e)}function x0(t){t.Vu=new lQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),da(t).start(),t.bu.gu()}function A0(t){return Ti(t)&&!da(t).Uo()&&t.Au.size>0}function Ti(t){return 0===S(t).vu.size}function JO(t){t.Vu=void 0}function hY(t){return M0.apply(this,arguments)}function M0(){return M0=D(function*(t){t.Au.forEach((e,n)=>{S0(t,e)})}),M0.apply(this,arguments)}function fY(t,e){return N0.apply(this,arguments)}function N0(){return N0=D(function*(t,e){JO(t),A0(t)?(t.bu.Iu(e),x0(t)):t.bu.set("Unknown")}),N0.apply(this,arguments)}function pY(t,e,n){return R0.apply(this,arguments)}function R0(){return R0=D(function*(t,e,n){if(t.bu.set("Online"),e instanceof QR&&2===e.state&&e.cause)try{yield(r=D(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ef(t,r)}else if(e instanceof Ph?t.Vu.Ht(e):e instanceof KR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(k.min()))try{const r=yield UO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(tt.EMPTY_BYTE_STRING,c.snapshotVersion)),XO(i,a);const l=new Hr(c.target,a,u,c.sequenceNumber);S0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield ef(t,r)}var r}),R0.apply(this,arguments)}function ef(t,e,n){return O0.apply(this,arguments)}function O0(){return O0=D(function*(t,e,n){if(!gi(e))throw e;t.vu.add(1),yield ca(t),t.bu.set("Offline"),n||(n=()=>UO(t.localStore)),t.asyncQueue.enqueueRetryable(D(function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Lc(t)}))}),O0.apply(this,arguments)}function ek(t,e){return e().catch(n=>ef(t,n,e))}function la(t){return k0.apply(this,arguments)}function k0(){return k0=D(function*(t){const e=S(t),n=Si(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gY(e);)try{const i=yield JQ(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,mY(e,i)}catch(i){yield ef(e,i)}tk(e)&&nk(e)}),k0.apply(this,arguments)}function gY(t){return Ti(t)&&t.Eu.length<10}function mY(t,e){t.Eu.push(e);const n=Si(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function tk(t){return Ti(t)&&!Si(t).Uo()&&t.Eu.length>0}function nk(t){Si(t).start()}function yY(t){return F0.apply(this,arguments)}function F0(){return F0=D(function*(t){Si(t).hu()}),F0.apply(this,arguments)}function vY(t){return P0.apply(this,arguments)}function P0(){return P0=D(function*(t){const e=Si(t);for(const n of t.Eu)e.uu(n.mutations)}),P0.apply(this,arguments)}function _Y(t,e,n){return L0.apply(this,arguments)}function L0(){return L0=D(function*(t,e,n){const r=t.Eu.shift(),i=zw.from(r,e,n);yield ek(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield la(t)}),L0.apply(this,arguments)}function wY(t,e){return V0.apply(this,arguments)}function V0(){return V0=D(function*(t,e){var n;e&&Si(t).ou&&(yield(n=D(function*(r,i){if(HR(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();Si(r).Qo(),yield ek(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield la(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),tk(t)&&nk(t)}),V0.apply(this,arguments)}function rk(t,e){return B0.apply(this,arguments)}function B0(){return B0=D(function*(t,e){const n=S(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=Ti(n);n.vu.add(3),yield ca(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Lc(n)}),B0.apply(this,arguments)}function U0(){return U0=D(function*(t,e){const n=S(t);e?(n.vu.delete(2),yield Lc(n)):e||(n.vu.add(2),yield ca(n),n.bu.set("Unknown"))}),U0.apply(this,arguments)}function da(t){return t.Su||(t.Su=function(e,n,r){const i=S(e);return i.fu(),new oY(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:hY.bind(null,t),ao:fY.bind(null,t),nu:pY.bind(null,t)}),t.Ru.push(function(){var e=D(function*(n){n?(t.Su.Qo(),A0(t)?x0(t):t.bu.set("Unknown")):(yield t.Su.stop(),JO(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Si(t){return t.Du||(t.Du=function(e,n,r){const i=S(e);return i.fu(),new aY(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:yY.bind(null,t),ao:wY.bind(null,t),au:vY.bind(null,t),cu:_Y.bind(null,t)}),t.Ru.push(function(){var e=D(function*(n){n?(t.Du.Qo(),yield la(t)):(yield t.Du.stop(),t.Eu.length>0&&(I("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class $0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ha(t,e){if(je("AsyncQueue",`${e}: ${t}`),gi(t))return new b(w.UNAVAILABLE,`${e}: ${t}`);throw t}class fa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||T.comparator(n.key,r.key):(n,r)=>T.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new fa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ik{constructor(){this.Cu=new be(T.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):N():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class pa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pa(e,n,fa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class DY{constructor(){this.Nu=void 0,this.listeners=[]}}class bY{constructor(){this.queries=new Ur(e=>CR(e),mc),this.onlineState="Unknown",this.ku=new Set}}function q0(){return q0=D(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new DY),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ha(o,`Initialization of query '${Uw(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&W0(n)}),q0.apply(this,arguments)}function G0(){return G0=D(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),G0.apply(this,arguments)}function EY(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&W0(n)}function CY(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function W0(t){t.ku.forEach(e=>{e.next()})}class K0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ak{constructor(e){this.key=e}}class uk{constructor(e){this.key=e}}class ck{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=W(),this.mutatedKeys=W(),this.tc=TR(e),this.ec=new fa(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new ik,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=yc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new pa(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ik,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=W(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new uk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new ak(r))}),n}hc(e){this.Yu=e.ir,this.Zu=W();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return pa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class SY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xY{constructor(e){this.key=e,this.fc=!1}}class AY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ur(a=>CR(a),mc),this._c=new Map,this.mc=new Set,this.gc=new be(T.comparator),this.yc=new Map,this.Ic=new u0,this.Tc={},this.Ec=new Map,this.Ac=As.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function MY(t,e){return Q0.apply(this,arguments)}function Q0(){return Q0=D(function*(t,e){const n=vD(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield aa(n.localStore,qt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Y0(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Jh(n.remoteStore,o)}return i}),Q0.apply(this,arguments)}function Y0(t,e,n,r,i){return Z0.apply(this,arguments)}function Z0(){return Z0=D(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=D(function*(g,m,_,y){let C=m.view.sc(_);C.zi&&(C=yield Kh(g.localStore,m.query,!1).then(({documents:Z})=>m.view.sc(Z,C)));const R=y&&y.targetChanges.get(m.targetId),P=m.view.applyChanges(C,g.isPrimaryClient,R);return aD(g,m.targetId,P.cc),P.snapshot}),function(g,m,_,y){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Kh(t.localStore,e,!0),o=new ck(e,s.ir),a=o.sc(s.documents),u=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);aD(t,n,c.cc);const l=new SY(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),Z0.apply(this,arguments)}function NY(t,e){return X0.apply(this,arguments)}function X0(){return X0=D(function*(t,e){const n=S(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!mc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ua(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Vc(n.remoteStore,r.targetId),ga(n,r.targetId)}).catch(pi))):(ga(n,r.targetId),yield ua(n.localStore,r.targetId,!0))}),X0.apply(this,arguments)}function J0(){return J0=D(function*(t,e,n){const r=_D(t);try{const i=yield function(s,o){const a=S(s),u=Ne.now(),c=o.reduce((h,f)=>h.add(f.key),W());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Zt(),p=W();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const _ of o){const y=oQ(_,l.get(_.key).overlayedDocument);null!=y&&m.push(new $r(_.key,y,lR(y.value.mapValue),xe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:xR(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new be(j)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield qr(r,i.changes),yield la(r.remoteStore)}catch(i){const s=ha(i,"Failed to persist write");n.reject(s)}}),J0.apply(this,arguments)}function lk(t,e){return eD.apply(this,arguments)}function eD(){return eD=D(function*(t,e){const n=S(t);try{const r=yield XQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield qr(n,r,e)}catch(r){yield pi(r)}}),eD.apply(this,arguments)}function dk(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&W0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OY(t,e,n){return tD.apply(this,arguments)}function tD(){return tD=D(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new be(T.comparator);o=o.insert(s,Ie.newNoDocument(s,k.min()));const a=W().add(s),u=new Ec(k.min(),new Map,new be(j),o,a);yield lk(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),uD(r)}else yield ua(r.localStore,e,!1).then(()=>ga(r,e,n)).catch(pi)}),tD.apply(this,arguments)}function kY(t,e){return nD.apply(this,arguments)}function nD(){return nD=D(function*(t,e){const n=S(t),r=e.batch.batchId;try{const i=yield ZQ(n.localStore,e);oD(n,r,null),sD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield qr(n,i)}catch(i){yield pi(i)}}),nD.apply(this,arguments)}function FY(t,e,n){return rD.apply(this,arguments)}function rD(){return rD=D(function*(t,e,n){const r=S(t);try{const i=yield function(s,o){const a=S(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(O(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);oD(r,e,n),sD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield qr(r,i)}catch(i){yield pi(i)}}),rD.apply(this,arguments)}function sD(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function oD(t,e,n){const r=S(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ga(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||hk(t,r)})}function hk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Vc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),uD(t))}function aD(t,e,n){for(const r of n)r instanceof ak?(t.Ic.addReference(r.key,e),LY(t,r)):r instanceof uk?(I("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||hk(t,r.key)):N()}function LY(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(I("SyncEngine","New document in limbo: "+n),t.mc.add(r),uD(t))}function uD(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new T(ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new xY(n)),t.gc=t.gc.insert(n,r),Jh(t.remoteStore,new Hr(qt(Xo(n.path)),r,"TargetPurposeLimboResolution",dn.ct))}}function qr(t,e,n){return cD.apply(this,arguments)}function cD(){return cD=D(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const l=f0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=D(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!gi(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),cD.apply(this,arguments)}function VY(t,e){return lD.apply(this,arguments)}function lD(){return lD=D(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const r=yield jO(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qr(n,r.er)}var i}),lD.apply(this,arguments)}function BY(t,e){const n=S(t),r=n.yc.get(e);if(r&&r.fc)return W().add(r.key);{let i=W();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function vD(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OY.bind(null,e),e.dc.nu=EY.bind(null,e.eventManager),e.dc.Pc=CY.bind(null,e.eventManager),e}function _D(t){const e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FY.bind(null,e),e}class tf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return D(function*(){n.serializer=Pc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function BO(t,e,n,r){return new YQ(t,e,n,r)}(this.persistence,new VO,e.initialUser,this.serializer)}createPersistence(e){return new c0(zh.zs,this.serializer)}createSharedClientState(e){return new KO}terminate(){var e=this;return D(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ma{initialize(e,n){var r=this;return D(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=VY.bind(null,r.syncEngine),yield function j0(t,e){return U0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bY}createDatastore(e){const n=Pc(e.databaseInfo.databaseId),r=new sY(e.databaseInfo);return new uY(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>dk(this.syncEngine,a,0),o=QO.D()?new QO:new nY,new dY(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new AY(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=D(function*(n){const r=S(n);I("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ca(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class nf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):je("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class XY{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=UN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=D(function*(a){I("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(I("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return D(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ha(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function rf(t,e){return wD.apply(this,arguments)}function wD(){return wD=D(function*(t,e){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=D(function*(s){r.isEqual(s)||(yield jO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),wD.apply(this,arguments)}function DD(t,e){return bD.apply(this,arguments)}function bD(){return bD=D(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield ED(t);I("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>rk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rk(e.remoteStore,s)),t._onlineComponents=e}),bD.apply(this,arguments)}function vk(t){return"FirebaseError"===t.name?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function ED(t){return CD.apply(this,arguments)}function CD(){return CD=D(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vk(n))throw n;$n("Error using user provided cache. Falling back to memory cache: "+n),yield rf(t,new tf)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield rf(t,new tf);return t._offlineComponents}),CD.apply(this,arguments)}function sf(t){return ID.apply(this,arguments)}function ID(){return ID=D(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield DD(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield DD(t,new ma))),t._onlineComponents}),ID.apply(this,arguments)}function ya(t){return SD.apply(this,arguments)}function SD(){return SD=D(function*(t){const e=yield sf(t),n=e.eventManager;return n.onListen=MY.bind(null,e.syncEngine),n.onUnlisten=NY.bind(null,e.syncEngine),n}),SD.apply(this,arguments)}function Ck(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Ik=new Map;function xD(t,e,n){if(!n)throw new b(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tk(t){if(!T.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sk(t){if(T.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function af(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":N()}function oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(t);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Ak{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function aZ(t,e,n,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ck(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ak({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ak(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new sK;switch(n.type){case"firstParty":return new cK(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ik.get(e);n&&(I("ComponentProvider","Removing Datastore"),Ik.delete(e),n.terminate())}(this),Promise.resolve()}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}}class bt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bt(this.firestore,e,this._query)}}class gr extends bt{constructor(e,n,r){super(e,n,Xo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new T(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function cZ(t,e,...n){if(t=ui(t),xD("collection","path",e),t instanceof Bc){const r=ue.fromString(e,...n);return Sk(r),new gr(t,null,r)}{if(!(t instanceof He||t instanceof gr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return Sk(r),new gr(t.firestore,null,r)}}function Mk(t,e,...n){if(t=ui(t),1===arguments.length&&(e=UN.A()),xD("doc","path",e),t instanceof Bc){const r=ue.fromString(e,...n);return Tk(r),new He(t,null,new T(r))}{if(!(t instanceof He||t instanceof gr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return Tk(r),new He(t.firestore,t instanceof gr?t.converter:null,new T(r))}}class lZ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new E0(this,"async_queue_retry"),this.Xc=()=>{const n=Xh();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new et;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return D(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!gi(n))throw n;I("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,je("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=$0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&N()}verifyOperationInProgress(){}sa(){var e=this;return D(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function AD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Te extends Bc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lZ,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rk(this),this._firestoreClient.terminate()}}function Qe(t){return t._firestoreClient||Rk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rk(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new BK(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Ck(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new XY(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(tt.fromBase64String(e))}catch(n){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ns(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class va{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fk{constructor(e){this._methodName=e}}class MD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return j(this._lat,e._lat)||j(this._long,e._long)}}const fZ=/^__.*__$/;class pZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new ta(e,this.data,n,this.fieldTransforms)}}function Lk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}class uf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Lk(this.ca)&&fZ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class gZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pc(e)}ya(e,n,r,i=!1){return new uf({ca:e,methodName:n,ga:r,path:Ue.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _a(t){const e=t._freezeSettings(),n=Pc(t._databaseId);return new gZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ND(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);OD("Data must be an object, but it was:",o,r);const a=$k(r,o);let u,c;if(s.merge)u=new Yt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=$c(e,d,n);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qk(l,h)||l.push(h)}u=new Yt(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new pZ(new Dt(a),u,c)}function Rs(t,e){if(Hk(t=ui(t)))return OD("Unsupported field value:",e,t),$k(t,e);if(t instanceof Fk)return function(n,r){if(!Lk(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Rs(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=ui(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return RR(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ne.fromDate(n);return{timestampValue:ra(r.serializer,i)}}if(n instanceof Ne){const i=new Ne(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ra(r.serializer,i)}}if(n instanceof MD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ns)return{bytesValue:JR(r.serializer,n._byteString)};if(n instanceof He){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${af(n)}`)}(t,e)}function $k(t,e){const n={};return tR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,i)=>{const s=Rs(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Hk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof MD||t instanceof Ns||t instanceof He||t instanceof Fk)}function OD(t,e,n){if(!Hk(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=af(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function $c(t,e,n){if((e=ui(e))instanceof va)return e._internalPath;if("string"==typeof e)return cf(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const _Z=new RegExp("[~\\*/\\[\\]]");function cf(t,e,n){if(e.search(_Z)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new va(...e.split("."))._internalPath}catch(r){throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+t+u)}function qk(t,e){return t.some(n=>n.isEqual(e))}class kD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class wZ extends kD{data(){return super.data()}}function df(t,e){return"string"==typeof e?cf(t,e):e instanceof va?e._internalPath:e._delegate._internalPath}function PD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Os{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends kD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gf extends Da{data(e={}){return super.data(e)}}class ba{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Os(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new Os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new gf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Os(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new gf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Os(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:CZ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}class xi extends class bZ{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw N()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new MD(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ch(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=yi(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);O(cO(r));const i=new vs(r.get(1),r.get(3)),s=new T(r.popFirst(5));return i.isEqual(n)||je(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function IZ(t,e,n){t=oe(t,He);const r=oe(t.firestore,Te),i=PD(t.converter,e,n);return qc(r,[ND(_a(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,xe.none())])}function TZ(t){return qc(oe(t.firestore,Te),[new na(t._key,xe.none())])}function SZ(t,e){const n=oe(t.firestore,Te),r=Mk(t),i=PD(t.converter,e);return qc(n,[ND(_a(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,xe.exists(!1))]).then(()=>r)}function qc(t,e){return function(n,r){const i=new et;return n.asyncQueue.enqueueAndForget(D(function*(){return function RY(t,e,n){return J0.apply(this,arguments)}(yield function TD(t){return sf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Qe(t),e)}var yf=function(){return yf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},yf.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var jZ={includeMetadataChanges:!1};function BD(t,e){return void 0===e&&(e=jZ),new Re(function(n){var r=function xZ(t,...e){var n,r,i;t=ui(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||AD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(AD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof He)c=oe(t.firestore,Te),l=Xo(t._key.path),u={next:d=>{e[o]&&e[o](function LD(t,e,n){const r=n.docs.get(e._key),i=new xi(t);return new Da(t,i,e._key,r,new Os(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=oe(t,bt);c=oe(d.firestore,Te),l=d._query;const h=new xi(c);u={next:f=>{e[o]&&e[o](new ba(c,h,d,f))},error:e[o+1],complete:e[o+2]},function zk(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new nf(p),m=new K0(h,g,f);return d.asyncQueue.enqueueAndForget(D(function*(){return function H0(t,e){return q0.apply(this,arguments)}(yield ya(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(D(function*(){return function z0(t,e){return G0.apply(this,arguments)}(yield ya(d),m)}))}}(Qe(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function WZ(t,e){return void 0===e&&(e={}),function GZ(t){return BD(t,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}(t).pipe(ye(function(n){return n.map(function(r){return function Jk(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?yf(yf({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class vf{constructor(e){return e}}const JZ=Vo(WZ,!0),eX=Vo(SZ,!0),tX=Vo(cZ,!0),nX=Vo(TZ,!0),HD=Vo(Mk,!0),iF=Vo(IZ,!0);let rX=(()=>{class t{constructor(n){this.firestore=n}getList(){const n=tX(this.firestore,"veiculo");return this.item$=JZ(n),this.item$}includeDoc(n,r){eX(n,r)}insertDoc(n,r,i){var s=this;return D(function*(){yield iF(HD(s.firestore,n,r),i)})()}updateDoc(n,r,i){var s=this;return D(function*(){yield iF(HD(s.firestore,n,r),i)})()}delete(n,r){var i=this;return D(function*(){yield nX(HD(i.firestore,n,r))})()}}return t.\u0275fac=function(n){return new(n||t)(V(vf))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();!function o1(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Rr.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Nd())||void 0===t?void 0:t.config})()),!n)throw Rr.create("no-options");const s=rs.get(i);if(s){if(Ou(n,s.options)&&Ou(r,s.config))return s;throw Rr.create("duplicate-app",{appName:i})}const o=new XA(i);for(const u of Fd.values())o.addComponent(u);const a=new Pz(n,r,o);return rs.set(i,a),a}({apiKey:"AIzaSyD89o0qg29MiWVWO7Sebdi3C1L03BWIwTo",authDomain:"contas-b9187.firebaseapp.com",projectId:"contas-b9187",storageBucket:"contas-b9187.appspot.com",messagingSenderId:"1011071984258",appId:"1:1011071984258:web:343dfbf40c40c98c33ca9b"});let iX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ri({type:t,bootstrap:[w6]}),t.\u0275inj=Gr({providers:[rX],imports:[[O3,p6,Dx]]}),t})();(function y4(){qS=!1})(),N3().bootstrapModule(iX).catch(t=>console.error(t))}},te=>{te(te.s=317)}]);