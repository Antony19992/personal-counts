"use strict";var Oce=Object.defineProperty,Fce=Object.defineProperties,Lce=Object.getOwnPropertyDescriptors,Lj=Object.getOwnPropertySymbols,Vce=Object.prototype.hasOwnProperty,Uce=Object.prototype.propertyIsEnumerable,Vj=(se,wt,sn)=>wt in se?Oce(se,wt,{enumerable:!0,configurable:!0,writable:!0,value:sn}):se[wt]=sn,VT=(se,wt)=>{for(var sn in wt||(wt={}))Vce.call(wt,sn)&&Vj(se,sn,wt[sn]);if(Lj)for(var sn of Lj(wt))Uce.call(wt,sn)&&Vj(se,sn,wt[sn]);return se},UT=(se,wt)=>Fce(se,Lce(wt));(self.webpackChunkcontas=self.webpackChunkcontas||[]).push([[179],{507:()=>{function se(n){return"function"==typeof n}function wt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const sn=wt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function bo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof sn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{$T(s)}catch(o){e=null!=e?e:[],o instanceof sn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new sn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$T(e);else{if(e instanceof Sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bo(t,e)}remove(e){const{_finalizers:t}=this;t&&bo(t,e),e instanceof Sn&&e._removeParent(this)}}Sn.EMPTY=(()=>{const n=new Sn;return n.closed=!0,n})();const BT=Sn.EMPTY;function jT(n){return n instanceof Sn||n&&"closed"in n&&se(n.remove)&&se(n.add)&&se(n.unsubscribe)}function $T(n){se(n)?n():n.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},td={setTimeout(n,e,...t){const{delegate:r}=td;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=td;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function HT(n){td.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw n;e(n)})}function GT(){}const Uj=gg("C",void 0,void 0);function gg(n,e,t){return{kind:n,value:e,error:t}}let vs=null;function nd(n){if(_s.useDeprecatedSynchronousErrorHandling){const e=!vs;if(e&&(vs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=vs;if(vs=null,t)throw r}}else n()}class mg extends Sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jT(e)&&e.add(this)):this.destination=zj}static create(e,t,r){return new mu(e,t,r)}next(e){this.isStopped?_g(function jj(n){return gg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?_g(function Bj(n){return gg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_g(Uj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Hj=Function.prototype.bind;function yg(n,e){return Hj.call(n,e)}class Gj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){rd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){rd(r)}else rd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rd(t)}}}class mu extends mg{constructor(e,t,r){let i;if(super(),se(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&_s.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yg(e.next,s),error:e.error&&yg(e.error,s),complete:e.complete&&yg(e.complete,s)}):i=e}this.destination=new Gj(i)}}function rd(n){_s.useDeprecatedSynchronousErrorHandling?function $j(n){_s.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=n)}(n):HT(n)}function _g(n,e){const{onStoppedNotification:t}=_s;t&&td.setTimeout(()=>t(n,e))}const zj={closed:!0,next:GT,error:function qj(n){throw n},complete:GT},vg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ws(n){return n}let Pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Kj(n){return n&&n instanceof mg||function Wj(n){return n&&se(n.next)&&se(n.error)&&se(n.complete)}(n)&&jT(n)}(t)?t:new mu(t,r,i);return nd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=zT(r))((i,s)=>{const o=new mu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[vg](){return this}pipe(...t){return function qT(n){return 0===n.length?ws:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=zT(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function zT(n){var e;return null!==(e=null!=n?n:_s.Promise)&&void 0!==e?e:Promise}const Qj=wt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yr=(()=>{class n extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new WT(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Qj}next(t){nd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){nd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){nd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?BT:(this.currentObservers=null,s.push(t),new Sn(()=>{this.currentObservers=null,bo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Pe;return t.source=this,t}}return n.create=(e,t)=>new WT(e,t),n})();class WT extends Yr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:BT}}function KT(n){return se(null==n?void 0:n.lift)}function Pt(n){return e=>{if(KT(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(n,e,t,r,i){return new Yj(n,e,t,r,i)}class Yj extends mg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(n,e){return Pt((t,r)=>{let i=0;t.subscribe(Et(r,s=>{r.next(n.call(e,s,i++))}))})}function Ig(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Mi(n){return this instanceof Mi?(this.v=n,this):new Mi(n)}function JT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Mi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function XT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Dg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ZT=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function eA(n){return se(null==n?void 0:n.then)}function tA(n){return se(n[vg])}function nA(n){return Symbol.asyncIterator&&se(null==n?void 0:n[Symbol.asyncIterator])}function rA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iA=function y$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sA(n){return se(null==n?void 0:n[iA])}function oA(n){return JT(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Mi(t.read());if(i)return yield Mi(void 0);yield yield Mi(r)}}finally{t.releaseLock()}})}function aA(n){return se(null==n?void 0:n.getReader)}function nr(n){if(n instanceof Pe)return n;if(null!=n){if(tA(n))return function _$(n){return new Pe(e=>{const t=n[vg]();if(se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ZT(n))return function v$(n){return new Pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(eA(n))return function w$(n){return new Pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,HT)})}(n);if(nA(n))return uA(n);if(sA(n))return function E$(n){return new Pe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(aA(n))return function I$(n){return uA(oA(n))}(n)}throw rA(n)}function uA(n){return new Pe(e=>{(function C$(n,e){var t,r,i,s;return function QT(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=XT(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Jr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function It(n,e,t=1/0){return se(e)?It((r,i)=>me((s,o)=>e(r,s,i,o))(nr(n(r,i))),t):("number"==typeof e&&(t=e),Pt((r,i)=>function D$(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;nr(t(m,l++)).subscribe(Et(e,v=>{null==i||i(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?Jr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Et(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function yu(n=1/0){return It(ws,n)}const Xr=new Pe(n=>n.complete());function bg(n){return n[n.length-1]}function cA(n){return se(bg(n))?n.pop():void 0}function _u(n){return function T$(n){return n&&se(n.schedule)}(bg(n))?n.pop():void 0}function id(n,e=0){return Pt((t,r)=>{t.subscribe(Et(r,i=>Jr(r,n,()=>r.next(i),e),()=>Jr(r,n,()=>r.complete(),e),i=>Jr(r,n,()=>r.error(i),e)))})}function sd(n,e=0){return Pt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function lA(n,e){if(!n)throw new Error("Iterable cannot be null");return new Pe(t=>{Jr(t,e,()=>{const r=n[Symbol.asyncIterator]();Jr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ot(n,e){return e?function R$(n,e){if(null!=n){if(tA(n))return function S$(n,e){return nr(n).pipe(sd(e),id(e))}(n,e);if(ZT(n))return function M$(n,e){return new Pe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(eA(n))return function x$(n,e){return nr(n).pipe(sd(e),id(e))}(n,e);if(nA(n))return lA(n,e);if(sA(n))return function k$(n,e){return new Pe(t=>{let r;return Jr(t,e,()=>{r=n[iA](),Jr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>se(null==r?void 0:r.return)&&r.return()})}(n,e);if(aA(n))return function N$(n,e){return lA(oA(n),e)}(n,e)}throw rA(n)}(n,e):nr(n)}function Tg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new mu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Ce(n){for(let e in n)if(n[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Ag(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Sg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const F$=Ce({__forward_ref__:Ce});function be(n){return n.__forward_ref__=be,n.toString=function(){return ye(this())},n}function ee(n){return dA(n)?n():n}function dA(n){return"function"==typeof n&&n.hasOwnProperty(F$)&&n.__forward_ref__===be}class ue extends Error{constructor(e,t){super(function xg(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function z(n){return"string"==typeof n?n:null==n?"":String(n)}function Ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():z(n)}function od(n,e){const t=e?` in ${e}`:"";throw new ue(-201,`No provider for ${Ft(n)} found${t}`)}function Mn(n,e){null==n&&function _e(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mg(n){return hA(n,ad)||hA(n,pA)}function hA(n,e){return n.hasOwnProperty(e)?n[e]:null}function fA(n){return n&&(n.hasOwnProperty(kg)||n.hasOwnProperty(H$))?n[kg]:null}const ad=Ce({\u0275prov:Ce}),kg=Ce({\u0275inj:Ce}),pA=Ce({ngInjectableDef:Ce}),H$=Ce({ngInjectorDef:Ce});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Ng;function ki(n){const e=Ng;return Ng=n,e}function gA(n,e,t){const r=Mg(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&H.Optional?null:void 0!==e?e:void od(ye(n),"Injector")}function Ni(n){return{toString:n}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),wr=(()=>{return(n=wr||(wr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wr;var n})();const q$="undefined"!=typeof globalThis&&globalThis,z$="undefined"!=typeof window&&window,W$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie=q$||"undefined"!=typeof global&&global||z$||W$,To={},De=[],ud=Ce({\u0275cmp:Ce}),Rg=Ce({\u0275dir:Ce}),Pg=Ce({\u0275pipe:Ce}),mA=Ce({\u0275mod:Ce}),ei=Ce({\u0275fac:Ce}),vu=Ce({__NG_ELEMENT_ID__:Ce});let K$=0;function Er(n){return Ni(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||De,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wr.Emulated,id:"c",styles:n.styles||De,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=K$++,r.inputs=wA(n.inputs,t),r.outputs=wA(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(yA):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(_A):null,r})}function yA(n){return Lt(n)||function Ri(n){return n[Rg]||null}(n)}function _A(n){return function Es(n){return n[Pg]||null}(n)}const vA={};function on(n){return Ni(()=>{const e={type:n.type,bootstrap:n.bootstrap||De,declarations:n.declarations||De,imports:n.imports||De,exports:n.exports||De,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(vA[n.id]=n.type),e})}function wA(n,e){if(null==n)return To;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const j=Er;function vn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Lt(n){return n[ud]||null}function Hn(n,e){const t=n[mA]||null;if(!t&&!0===e)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return t}const J=11;function Ir(n){return Array.isArray(n)&&"object"==typeof n[1]}function sr(n){return Array.isArray(n)&&!0===n[1]}function Lg(n){return 0!=(8&n.flags)}function hd(n){return 2==(2&n.flags)}function fd(n){return 1==(1&n.flags)}function or(n){return null!==n.template}function eH(n){return 0!=(512&n[2])}function bs(n,e){return n.hasOwnProperty(ei)?n[ei]:null}class rH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function qn(){return IA}function IA(n){return n.type.prototype.ngOnChanges&&(n.setInput=sH),iH}function iH(){const n=DA(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===To)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function sH(n,e,t,r){const i=DA(n)||function oH(n,e){return n[CA]=e}(n,{previous:To,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new rH(u&&u.currentValue,e,o===To),n[r]=e}qn.ngInherit=!0;const CA="__ngSimpleChanges__";function DA(n){return n[CA]||null}let $g;function Hg(){return void 0!==$g?$g:"undefined"!=typeof document?document:void 0}function Ge(n){return!!n.listen}const bA={createRenderer:(n,e)=>Hg()};function st(n){for(;Array.isArray(n);)n=n[0];return n}function pd(n,e){return st(e[n])}function Nn(n,e){return st(e[n.index])}function Gg(n,e){return n.data[e]}function Rn(n,e){const t=e[n];return Ir(t)?t:t[0]}function qg(n){return 128==(128&n[2])}function Pi(n,e){return null==e?null:n[e]}function AA(n){n[18]=0}function zg(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const W={lFrame:FA(null),bindingsEnabled:!0};function xA(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function fe(){return W.lFrame.tView}function gd(n){return W.lFrame.contextLView=n,n[8]}function ft(){let n=MA();for(;null!==n&&64===n.type;)n=n.parent;return n}function MA(){return W.lFrame.currentTNode}function Cr(n,e){const t=W.lFrame;t.currentTNode=n,t.isParent=e}function Wg(){return W.lFrame.isParent}function No(){return W.lFrame.bindingIndex++}function CH(n,e){const t=W.lFrame;t.bindingIndex=t.bindingRootIndex=n,Qg(e)}function Qg(n){W.lFrame.currentDirectiveIndex=n}function Jg(n){W.lFrame.currentQueryIndex=n}function bH(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function PA(n,e,t){if(t&H.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&H.Host||(i=bH(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=W.lFrame=OA();return r.currentTNode=e,r.lView=n,!0}function yd(n){const e=OA(),t=n[1];W.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function OA(){const n=W.lFrame,e=null===n?null:n.child;return null===e?FA(n):e}function FA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function LA(){const n=W.lFrame;return W.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const VA=LA;function _d(){const n=LA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cn(){return W.lFrame.selectedIndex}function Oi(n){W.lFrame.selectedIndex=n}function Ve(){const n=W.lFrame;return Gg(n.tView,n.selectedIndex)}function vd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function wd(n,e,t){UA(n,e,3,t)}function Ed(n,e,t,r){(3&n[2])===t&&UA(n,e,t,r)}function Xg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function UA(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(PH(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function PH(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Du{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Id(n,e,t){const r=Ge(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];em(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function BA(n){return 3===n||4===n||6===n}function em(n){return 64===n.charCodeAt(0)}function Cd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||jA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function jA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function $A(n){return-1!==n}function Ro(n){return 32767&n}function Po(n,e){let t=function UH(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let tm=!0;function Dd(n){const e=tm;return tm=n,e}let BH=0;function Tu(n,e){const t=rm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,nm(r.data,n),nm(e,null),nm(r.blueprint,null));const i=bd(n,e),s=n.injectorIndex;if($A(i)){const o=Ro(i),a=Po(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function nm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function bd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Td(n,e,t){!function jH(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(vu)&&(r=t[vu]),null==r&&(r=t[vu]=BH++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function qA(n,e,t){if(t&H.Optional)return n;od(e,"NodeInjector")}function zA(n,e,t,r){if(t&H.Optional&&void 0===r&&(r=null),0==(t&(H.Self|H.Host))){const i=n[9],s=ki(void 0);try{return i?i.get(e,r,t&H.Optional):gA(e,r,t&H.Optional)}finally{ki(s)}}return qA(r,e,t)}function WA(n,e,t,r=H.Default,i){if(null!==n){const s=function qH(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(vu)?n[vu]:void 0;return"number"==typeof e?e>=0?255&e:HH:e}(t);if("function"==typeof s){if(!PA(e,n,r))return r&H.Host?qA(i,t,r):zA(e,t,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;od(t)}finally{VA()}}else if("number"==typeof s){let o=null,a=rm(n,e),u=-1,c=r&H.Host?e[16][6]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?bd(n,e):e[a+8],-1!==u&&YA(r,!1)?(o=e[1],a=Ro(u),e=Po(u,e)):a=-1);-1!==a;){const l=e[1];if(QA(s,a,l.data)){const d=GH(a,e,t,o,r,c);if(d!==KA)return d}u=e[a+8],-1!==u&&YA(r,e[1].data[a+8]===c)&&QA(s,a,e)?(o=l,a=Ro(u),e=Po(u,e)):a=-1}}}return zA(e,t,r,i)}const KA={};function HH(){return new Oo(ft(),D())}function GH(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=function Ad(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&or(f)&&f.type===t)return u}return null}(a,o,t,null==r?hd(a)&&tm:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Au(e,o,l,a):KA}function Au(n,e,t,r){let i=n[t];const s=e.data;if(function OH(n){return n instanceof Du}(i)){const o=i;o.resolving&&function L$(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ue(-200,`Circular dependency in DI detected for ${n}${t}`)}(Ft(s[t]));const a=Dd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ki(o.injectImpl):null;PA(n,r,H.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function RH(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=IA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&ki(u),Dd(a),o.resolving=!1,VA()}}return i}function QA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function YA(n,e){return!(n&H.Self||n&H.Host&&e)}class Oo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return WA(this._tNode,this._lView,e,r,t)}}function Kt(n){return Ni(()=>{const e=n.prototype.constructor,t=e[ei]||im(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ei]||im(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function im(n){return dA(n)?()=>{const e=im(ee(n));return e&&e()}:bs(n)}const Lo="__parameters__";function Uo(n,e,t){return Ni(()=>{const r=function sm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Lo)?u[Lo]:Object.defineProperty(u,Lo,{value:[]})[Lo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class G{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const WH=new G("AnalyzeForEntryComponents");function Dr(n,e){n.forEach(t=>Array.isArray(t)?Dr(t,e):e(t))}function XA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Pn(n,e,t){let r=Bo(n,e);return r>=0?n[1|r]=t:(r=~r,function YH(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function am(n,e){const t=Bo(n,e);if(t>=0)return n[1|t]}function Bo(n,e){return function tS(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Nu={},cm="__NG_DI_FLAG__",Md="ngTempTokenPath",rG=/\n/gm,rS="__source",sG=Ce({provide:String,useValue:Ce});let Ru;function iS(n){const e=Ru;return Ru=n,e}function oG(n,e=H.Default){if(void 0===Ru)throw new ue(203,"");return null===Ru?gA(n,void 0,e):Ru.get(n,e&H.Optional?null:void 0,e)}function O(n,e=H.Default){return(function G$(){return Ng}()||oG)(ee(n),e)}const aG=O;function lm(n){const e=[];for(let t=0;t<n.length;t++){const r=ee(n[t]);if(Array.isArray(r)){if(0===r.length)throw new ue(900,"");let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=uG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function Pu(n,e){return n[cm]=e,n.prototype[cm]=e,n}function uG(n){return n[cm]}const kd=Pu(Uo("Inject",n=>({token:n})),-1),gt=Pu(Uo("Optional"),8),Ou=Pu(Uo("SkipSelf"),4);var On=(()=>((On=On||{})[On.Important=1]="Important",On[On.DashCase=2]="DashCase",On))();const hS="__ngContext__";function Qt(n,e){n[hS]=e}function fm(n){const e=function Lu(n){return n[hS]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function gm(n,e){return undefined(n,e)}function Vu(n){const e=n[3];return sr(e)?e[3]:e}function mm(n){return vS(n[13])}function ym(n){return vS(n[4])}function vS(n){for(;null!==n&&!sr(n);)n=n[4];return n}function $o(n,e,t,r,i){if(null!=r){let s,o=!1;sr(r)?s=r:Ir(r)&&(o=!0,r=r[0]);const a=st(r);0===n&&null!==t?null==i?bS(e,t,a):Ts(e,t,a,i||null,!0):1===n&&null!==t?Ts(e,t,a,i||null,!0):2===n?function Dm(n,e,t){const r=Rd(n,e);r&&function UG(n,e,t,r){Ge(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function $G(n,e,t,r,i){const s=t[7];s!==st(t)&&$o(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Uu(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function vm(n,e,t){if(Ge(n))return n.createElement(e,t);{const r=null!==t?function lH(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function ES(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zg(i,-1)),t.splice(r,1)}function wm(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&ES(i,r),e>0&&(n[t-1][4]=r[4]);const s=Sd(n,10+e);!function kG(n,e){Uu(n,e,e[J],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function IS(n,e){if(!(256&e[2])){const t=e[J];Ge(t)&&t.destroyNode&&Uu(n,e,t,3,null,null),function PG(n){let e=n[13];if(!e)return Em(n[1],n);for(;e;){let t=null;if(Ir(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ir(e)&&Em(e[1],e),e=e[3];null===e&&(e=n),Ir(e)&&Em(e[1],e),t=e&&e[4]}e=t}}(e)}}function Em(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function VG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Du)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function LG(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):st(e[o]),u=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Ge(e[J])&&e[J].destroy();const t=e[17];if(null!==t&&sr(e[3])){t!==e[3]&&ES(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function CS(n,e,t){return function DS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===wr.None||i===wr.Emulated)return null}return Nn(r,t)}(n,e.parent,t)}function Ts(n,e,t,r,i){Ge(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function bS(n,e,t){Ge(n)?n.appendChild(e,t):e.appendChild(t)}function TS(n,e,t,r,i){null!==r?Ts(n,e,t,r,i):bS(n,e,t)}function Rd(n,e){return Ge(n)?n.parentNode(e):e.parentNode}let Fd,Ld,xS=function SS(n,e,t){return 40&n.type?Nn(n,t):null};function Pd(n,e,t,r){const i=CS(n,r,e),s=e[J],a=function AS(n,e,t){return xS(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)TS(s,i,t[u],a,!1);else TS(s,i,t,a,!1)}function Od(n,e){if(null!==e){const t=e.type;if(3&t)return Nn(e,n);if(4&t)return Cm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Od(n,r);{const i=n[e.index];return sr(i)?Cm(-1,i):st(i)}}if(32&t)return gm(e,n)()||st(n[e.index]);{const r=kS(n,e);return null!==r?Array.isArray(r)?r[0]:Od(Vu(n[16]),r):Od(n,e.next)}}return null}function kS(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Cm(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Od(r,i)}return e[7]}function bm(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Qt(st(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)bm(n,e,t.child,r,i,s,!1),$o(e,n,i,a,s);else if(32&u){const c=gm(t,r);let l;for(;l=c();)$o(e,n,i,l,s);$o(e,n,i,a,s)}else 16&u?NS(n,e,r,t,i,s):$o(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Uu(n,e,t,r,i,s){bm(t,r,n.firstChild,e,i,s,!1)}function NS(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)$o(e,n,i,u[c],s);else bm(n,e,u,o[3],i,s,!0)}function RS(n,e,t){Ge(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Tm(n,e,t){Ge(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function As(n){var e;return(null===(e=function Am(){if(void 0===Fd&&(Fd=null,Ie.trustedTypes))try{Fd=Ie.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Fd}())||void 0===e?void 0:e.createHTML(n))||n}function PS(n){var e;return(null===(e=function Sm(){if(void 0===Ld&&(Ld=null,Ie.trustedTypes))try{Ld=Ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ld}())||void 0===e?void 0:e.createHTML(n))||n}class LS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Li(n){return n instanceof LS?n.changingThisBreaksApplicationSecurity:n}class ZG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(As(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class e4{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=As(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=As(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const n4=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,r4=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vd(n){return(n=String(n)).match(n4)||n.match(r4)?n:"unsafe:"+n}function US(n){return(n=String(n)).split(",").map(e=>Vd(e.trim())).join(", ")}function br(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ju(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const BS=br("area,br,col,hr,img,wbr"),jS=br("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$S=br("rp,rt"),xm=ju(BS,ju(jS,br("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ju($S,br("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ju($S,jS)),Mm=br("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),km=br("srcset"),HS=ju(Mm,km,br("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),br("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),i4=br("script,style,template");class s4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!xm.hasOwnProperty(t))return this.sanitizedSomething=!0,!i4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!HS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Mm[a]&&(u=Vd(u)),km[a]&&(u=US(u)),this.buf.push(" ",o,'="',GS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();xm.hasOwnProperty(t)&&!BS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(GS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const o4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a4=/([^\#-~ |!])/g;function GS(n){return n.replace(/&/g,"&amp;").replace(o4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(a4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ud;function Nm(n){return"content"in n&&function c4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ot=(()=>((ot=ot||{})[ot.NONE=0]="NONE",ot[ot.HTML=1]="HTML",ot[ot.STYLE=2]="STYLE",ot[ot.SCRIPT=3]="SCRIPT",ot[ot.URL=4]="URL",ot[ot.RESOURCE_URL=5]="RESOURCE_URL",ot))();function qS(n){const e=function $u(){const n=D();return n&&n[12]}();return e?PS(e.sanitize(ot.HTML,n)||""):function Bu(n,e){const t=function XG(n){return n instanceof LS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"HTML")?PS(Li(n)):function u4(n,e){let t=null;try{Ud=Ud||function VS(n){const e=new e4(n);return function t4(){try{return!!(new window.DOMParser).parseFromString(As(""),"text/html")}catch(n){return!1}}()?new ZG(e):e}(n);let r=e?String(e):"";t=Ud.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ud.getInertBodyElement(r)}while(r!==s);return As((new s4).sanitizeChildren(Nm(t)||t))}finally{if(t){const r=Nm(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Hg(),z(n))}function Om(n){return n.ngOriginalError}function v4(n,...e){n.error(...e)}class Hu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function _4(n){return n&&n.ngErrorLogger||v4}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Om(e);for(;t&&Om(t);)t=Om(t);return t||null}}const T4=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))();function Tr(n){return n instanceof Function?n():n}function KS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const QS="ng-template";function M4(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==KS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function YS(n){return 4===n.type&&n.value!==QS}function k4(n,e,t){return e===(4!==n.type||t?n.value:QS)}function N4(n,e,t){let r=4;const i=n.attrs||[],s=function O4(n){for(let e=0;e<n.length;e++)if(BA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!k4(n,u,t)||""===u&&1===e.length){if(ar(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!M4(n.attrs,c,t)){if(ar(r))return!1;o=!0}continue}const d=R4(8&r?"class":u,i,YS(n),t);if(-1===d){if(ar(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==KS(f,c,0)||2&r&&c!==h){if(ar(r))return!1;o=!0}}}}else{if(!o&&!ar(r)&&!ar(u))return!1;if(o&&ar(u))continue;o=!1,r=u|1&r}}return ar(r)||o}function ar(n){return 0==(1&n)}function R4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function F4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function JS(n,e,t=!1){for(let r=0;r<e.length;r++)if(N4(n,e[r],t))return!0;return!1}function XS(n,e){return n?":not("+e.trim()+")":e}function V4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ar(o)&&(e+=XS(s,i),i=""),r=o,s=s||!ar(r);t++}return""!==i&&(e+=XS(s,i)),e}const K={};function Dt(n){ZS(fe(),D(),cn()+n,!1)}function ZS(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&wd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Ed(e,s,0,t)}Oi(t)}function Bd(n,e){return n<<17|e<<2}function ur(n){return n>>17&32767}function Fm(n){return 2|n}function ri(n){return(131068&n)>>2}function Lm(n,e){return-131069&n|e<<2}function Vm(n){return 1|n}function lx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Jg(i),o.contentQueries(2,e[s],s)}}}function Gu(n,e,t,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,AA(l),l[3]=l[15]=n,l[8]=t,l[10]=o||n&&n[10],l[J]=a||n&&n[J],l[12]=u||n&&n[12]||null,l[9]=c||n&&n[9]||null,l[6]=s,l[16]=2==e.type?n[16]:l,l}function Go(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Wm(n,e,t,r,i){const s=MA(),o=Wg(),u=n.data[e]=function n3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function IH(){return W.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Cu(){const n=W.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Cr(s,!0),s}function qo(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qu(n,e,t){yd(e);try{const r=n.viewQuery;null!==r&&ny(1,r,t);const i=n.template;null!==i&&dx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lx(n,e),n.staticViewQueries&&ny(2,n.viewQuery,t);const s=n.components;null!==s&&function Z4(n,e){for(let t=0;t<e.length;t++)w3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,_d()}}function zo(n,e,t,r){const i=e[2];if(256!=(256&i)){yd(e);try{AA(e),function kA(n){return W.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&dx(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&wd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ed(e,c,0,null),Xg(e,0)}if(function _3(n){for(let e=mm(n);null!==e;e=ym(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&zg(s,1),i[2]|=1024}}}(e),function y3(n){for(let e=mm(n);null!==e;e=ym(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];qg(r)&&zo(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&lx(n,e),o){const c=n.contentCheckHooks;null!==c&&wd(e,c)}else{const c=n.contentHooks;null!==c&&Ed(e,c,1),Xg(e,1)}!function J4(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Oi(~i);else{const s=i,o=t[++r],a=t[++r];CH(o,s),a(2,e[s])}}}finally{Oi(-1)}}(n,e);const a=n.components;null!==a&&function X4(n,e){for(let t=0;t<e.length;t++)v3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&ny(2,u,r),o){const c=n.viewCheckHooks;null!==c&&wd(e,c)}else{const c=n.viewHooks;null!==c&&Ed(e,c,2),Xg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,zg(e[3],-1))}finally{_d()}}}function e3(n,e,t,r){const i=e[10],o=function TA(n){return 4==(4&n[2])}(e);try{!o&&i.begin&&i.begin(),o&&qu(n,e,r),zo(n,e,t,r)}finally{!o&&i.end&&i.end()}}function dx(n,e,t,r,i){const s=cn(),o=2&r;try{Oi(-1),o&&e.length>20&&ZS(n,e,20,!1),t(r,i)}finally{Oi(s)}}function Km(n,e,t){!xA()||(function c3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Tu(t,e),Qt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=or(u);c&&p3(e,t,u);const l=Au(e,n,a,t);Qt(l,e),null!==o&&g3(0,a-i,l,u,0,o),c&&(Rn(t.index,e)[8]=l)}}(n,e,t,Nn(t,e)),128==(128&t.flags)&&function l3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function DH(){return W.lFrame.currentDirectiveIndex}();try{Oi(o);for(let u=r;u<i;u++){const c=n.data[u],l=e[u];Qg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&wx(c,l)}}finally{Oi(-1),Qg(a)}}(n,e,t))}function Qm(n,e,t=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function fx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Hd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Hd(n,e,t,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function t3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:K);return t}(l,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function yx(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Fn(n,e,t,r,i,s,o,a){const u=Nn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Mx(n,t,l,r,i),hd(e)&&function s3(n,e){const t=Rn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function i3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Ge(s)?s.setProperty(u,r,i):em(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ym(n,e,t,r){let i=!1;if(xA()){const s=function d3(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];JS(t,o.selectors,!1)&&(i||(i=[]),Td(Tu(t,e),n,o.type),or(o)?(Ex(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,Ix(t,n.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=qo(n,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];t.mergedAttrs=Cd(t.mergedAttrs,d.hostAttrs),Cx(n,t,e,c,d),f3(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}!function r3(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||YS(e)?null:m3(d,s);o.push(h),a=yx(d,c,a),u=yx(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function h3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new ue(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Cd(t.mergedAttrs,t.attrs),i}function vx(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function u3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function wx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ex(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function f3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;or(e)&&(t[""]=n)}}function Ix(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Cx(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=bs(i.type)),o=new Du(s,or(i),null);n.blueprint[r]=o,t[r]=o,vx(n,e,0,r,qo(n,t,i.hostVars,K),i)}function p3(n,e,t){const r=Nn(e,n),i=fx(t),s=n[10],o=Gd(n,Gu(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function g3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function m3(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Dx(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function v3(n,e){const t=Rn(e,n);if(qg(t)){const r=t[1];80&t[2]?zo(r,t,r.template,t[8]):t[5]>0&&Xm(t)}}function Xm(n){for(let r=mm(n);null!==r;r=ym(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];zo(o,s,o.template,s[8])}else s[5]>0&&Xm(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Rn(t[r],n);qg(i)&&i[5]>0&&Xm(i)}}function w3(n,e){const t=Rn(e,n),r=t[1];(function E3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),qu(r,t,t[8])}function Gd(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Zm(n){for(;n;){n[2]|=64;const e=Vu(n);if(eH(n)&&!e)return n;n=e}return null}function bx(n){!function ey(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=fm(t),i=r[1];e3(i,r,i.template,t)}}(n[8])}function ny(n,e,t){Jg(0),e(n,t)}const C3=(()=>Promise.resolve(null))();function Tx(n){return n[7]||(n[7]=[])}function Ax(n){return n.cleanup||(n.cleanup=[])}function xx(n,e){const t=n[9],r=t?t.get(Hu,null):null;r&&r.handleError(e)}function Mx(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ii(n,e,t){const r=pd(e,n);!function wS(n,e,t){Ge(n)?n.setValue(e,t):e.textContent=t}(n[J],r,t)}function qd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Sg(i,a):2==s&&(r=Sg(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const ry=new G("INJECTOR",-1);class kx{get(e,t=Nu){if(t===Nu){const r=new Error(`NullInjectorError: No provider for ${ye(e)}!`);throw r.name="NullInjectorError",r}return t}}const iy=new G("Set Injector scope."),zu={},T3={};let sy;function Nx(){return void 0===sy&&(sy=new kx),sy}function Rx(n,e=null,t=null,r){const i=Px(n,e,t,r);return i._resolveInjectorDefTypes(),i}function Px(n,e=null,t=null,r){return new A3(n,t,e||Nx(),r)}class A3{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Dr(t,a=>this.processProvider(a,e,t)),Dr([e],a=>this.processInjectorType(a,[],s)),this.records.set(ry,Wo(void 0,this));const o=this.records.get(iy);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ye(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Nu,r=H.Default){this.assertNotDestroyed();const i=iS(this),s=ki(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function O3(n){return"function"==typeof n||"object"==typeof n&&n instanceof G}(e)&&Mg(e);a=u&&this.injectableDefInScope(u)?Wo(oy(e),zu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Nx():this.parent).get(e,t=r&H.Optional&&t===Nu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Md]=o[Md]||[]).unshift(ye(e)),i)throw o;return function cG(n,e,t,r){const i=n[Md];throw e[rS]&&i.unshift(e[rS]),n.message=function lG(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ye(e);if(Array.isArray(e))i=e.map(ye).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ye(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(rG,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Md]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{ki(s),iS(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ye(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processInjectorType(e,t,r){if(!(e=ee(e)))return!1;let i=fA(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=fA(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Dr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Dr(f,p=>this.processProvider(p,h,f||De))}}this.injectorDefTypes.add(o);const u=bs(o)||(()=>new o);this.records.set(o,Wo(u,zu));const c=i.providers;if(null!=c&&!a){const l=e;Dr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ko(e=ee(e))?e:ee(e&&e.provide);const s=function x3(n,e,t){return Fx(n)?Wo(void 0,n.useValue):Wo(Ox(n),zu)}(e);if(Ko(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Wo(void 0,zu,!0),o.factory=()=>lm(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===zu&&(t.value=T3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function P3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ee(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function oy(n){const e=Mg(n),t=null!==e?e.factory:bs(n);if(null!==t)return t;if(n instanceof G)throw new ue(204,!1);if(n instanceof Function)return function S3(n){const e=n.length;if(e>0)throw function ku(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new ue(204,!1);const t=function j$(n){const e=n&&(n[ad]||n[pA]);if(e){const t=function $$(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ue(204,!1)}function Ox(n,e,t){let r;if(Ko(n)){const i=ee(n);return bs(i)||oy(i)}if(Fx(n))r=()=>ee(n.useValue);else if(function k3(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...lm(n.deps||[]));else if(function M3(n){return!(!n||!n.useExisting)}(n))r=()=>O(ee(n.useExisting));else{const i=ee(n&&(n.useClass||n.provide));if(!function R3(n){return!!n.deps}(n))return bs(i)||oy(i);r=()=>new i(...lm(n.deps))}return r}function Wo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Fx(n){return null!==n&&"object"==typeof n&&sG in n}function Ko(n){return"function"==typeof n}let bt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return Rx({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return Rx({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Nu,n.NULL=new kx,n.\u0275prov=Q({token:n,providedIn:"any",factory:()=>O(ry)}),n.__NG_ELEMENT_ID__=-1,n})();function H3(n,e){vd(fm(n)[1],ft())}function ve(n){let e=function Kx(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(or(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=cy(n.inputs),o.declaredInputs=cy(n.declaredInputs),o.outputs=cy(n.outputs);const a=i.hostBindings;a&&W3(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&q3(n,u),c&&z3(n,c),Ag(n.inputs,i.inputs),Ag(n.declaredInputs,i.declaredInputs),Ag(n.outputs,i.outputs),or(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ve&&(t=!1)}}e=Object.getPrototypeOf(e)}!function G3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cd(i.hostAttrs,t=Cd(t,i.hostAttrs))}}(r)}function cy(n){return n===To?{}:n===De?[]:n}function q3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function z3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function W3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let zd=null;function Qo(){if(!zd){const n=Ie.Symbol;if(n&&n.iterator)zd=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(zd=r)}}}return zd}function Wu(n){return!!ly(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qo()in n)}function ly(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Jo(n,e,t,r){return Yt(n,No(),t)?e+z(t)+r:K}function xs(n,e,t,r,i,s,o,a){const u=D(),c=fe(),l=n+20,d=c.firstCreatePass?function eq(n,e,t,r,i,s,o,a,u){const c=e.consts,l=Go(e,n,4,o||null,Pi(c,a));Ym(e,t,l,Pi(c,u)),vd(e,l);const d=l.tViews=Hd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];Cr(d,!1);const h=u[J].createComment("");Pd(c,u,h,d),Qt(h,u),Gd(u,u[l]=Dx(h,u,h,d)),fd(d)&&Km(c,u,d),null!=o&&Qm(u,d,a)}function b(n,e=H.Default){const t=D();return null===t?O(n,e):WA(ft(),t,ee(n),e)}function gy(){throw new Error("invalid")}function dn(n,e,t){const r=D();return Yt(r,No(),e)&&Fn(fe(),Ve(),r,n,e,r[J],t,!1),dn}function my(n,e,t,r,i){const o=i?"class":"style";Mx(n,t,e.inputs[o],o,r)}function ce(n,e,t,r){const i=D(),s=fe(),o=20+n,a=i[J],u=i[o]=vm(a,e,function NH(){return W.lFrame.currentNamespace}()),c=s.firstCreatePass?function Iq(n,e,t,r,i,s,o){const a=e.consts,c=Go(e,n,2,i,Pi(a,s));return Ym(e,t,c,Pi(a,o)),null!==c.attrs&&qd(c,c.attrs,!1),null!==c.mergedAttrs&&qd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Cr(c,!0);const l=c.mergedAttrs;null!==l&&Id(a,u,l);const d=c.classes;null!==d&&Tm(a,u,d);const h=c.styles;return null!==h&&RS(a,u,h),64!=(64&c.flags)&&Pd(s,i,u,c),0===function mH(){return W.lFrame.elementDepthCount}()&&Qt(u,i),function yH(){W.lFrame.elementDepthCount++}(),fd(c)&&(Km(s,i,c),function hx(n,e,t){if(Lg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&Qm(i,c),ce}function le(){let n=ft();Wg()?function Kg(){W.lFrame.isParent=!1}():(n=n.parent,Cr(n,!1));const e=n;!function _H(){W.lFrame.elementDepthCount--}();const t=fe();return t.firstCreatePass&&(vd(t,n),Lg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function LH(n){return 0!=(16&n.flags)}(e)&&my(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function VH(n){return 0!=(32&n.flags)}(e)&&my(t,e,D(),e.stylesWithoutHost,!1),le}function Bi(n,e,t,r){return ce(n,e,t,r),le(),Bi}function Qd(){return D()}function Qu(n){return!!n&&"function"==typeof n.then}function gM(n){return!!n&&"function"==typeof n.subscribe}const vy=gM;function qe(n,e,t,r){const i=D(),s=fe(),o=ft();return function yM(n,e,t,r,i,s,o,a){const u=fd(r),l=n.firstCreatePass&&Ax(n),d=e[8],h=Tx(e);let f=!0;if(3&r.type||a){const y=Nn(r,e),v=a?a(y):y,_=h.length,I=a?P=>a(st(P[r.index])):r.index;if(Ge(t)){let P=null;if(!a&&u&&(P=function Dq(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=wy(r,e,d,s,!1);const V=t.listen(v,i,s);h.push(s,V),l&&l.push(i,I,_,_+1)}}else s=wy(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),l&&l.push(i,I,_,o)}else s=wy(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const y=m.length;if(y)for(let v=0;v<y;v+=2){const Y=e[m[v]][m[v+1]].subscribe(s),Re=h.length;h.push(s,Y),l&&l.push(i,r.index,Re,-(Re+1))}}}(s,i,i[J],o,n,e,!!t,r),qe}function _M(n,e,t,r){try{return!1!==t(r)}catch(i){return xx(n,i),!1}}function wy(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Rn(n.index,e):e;0==(32&e[2])&&Zm(a);let u=_M(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=_M(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Qn(n=1){return function TH(n){return(W.lFrame.contextLView=function AH(n,e){for(;n>0;)e=e[15],n--;return e}(n,W.lFrame.contextLView))[8]}(n)}function Ey(n,e,t){return Iy(n,"",e,"",t),Ey}function Iy(n,e,t,r,i){const s=D(),o=Jo(s,e,t,r);return o!==K&&Fn(fe(),Ve(),s,n,o,s[J],i,!1),Iy}function AM(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ur(s):ri(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];Mq(n[a],e)&&(u=!0,n[a+1]=r?Vm(l):Fm(l)),a=r?ur(l):ri(l)}u&&(n[t+1]=r?Fm(s):Vm(s))}function Mq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Bo(n,e)>=0}function Yd(n,e){return function lr(n,e,t,r){const i=D(),s=fe(),o=function ni(n){const e=W.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function FM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[cn()],o=function OM(n,e){return e>=n.expandoStartIndex}(n,t);(function BM(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function Uq(n,e,t,r){const i=function Yg(n){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Yu(t=Cy(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Cy(i,n,e,t,r),null===s){let u=function Bq(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ri(r))return n[ur(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Cy(null,n,e,u[1],r),u=Yu(u,e.attrs,r),function jq(n,e,t,r){n[ur(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function $q(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Yu(r,n[s].hostAttrs,t);return Yu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function Sq(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ur(o),u=ri(o);n[r]=t;let l,c=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||Bo(d,l)>0)&&(c=!0)}else l=t;if(i)if(0!==u){const h=ur(n[a+1]);n[r+1]=Bd(h,a),0!==h&&(n[h+1]=Lm(n[h+1],r)),n[a+1]=function j4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Bd(a,0),0!==a&&(n[a+1]=Lm(n[a+1],r)),a=r;else n[r+1]=Bd(u,0),0===a?a=r:n[u+1]=Lm(n[u+1],r),u=r;c&&(n[r+1]=Fm(n[r+1])),AM(n,l,r,!0),AM(n,l,r,!1),function xq(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Bo(s,e)>=0&&(t[r+1]=Vm(t[r+1]))}(e,l,n,r,s),o=Bd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==K&&Yt(i,o,e)&&function VM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];Jd(function nx(n){return 1==(1&n)}(c)?UM(u,e,t,i,ri(c),o):void 0)||(Jd(s)||function tx(n){return 2==(2&n)}(c)&&(s=UM(u,null,t,i,a,o)),function HG(n,e,t,r,i){const s=Ge(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:On.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=On.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,pd(cn(),t),i,s))}(s,s.data[cn()],i,i[J],n,i[o+1]=function qq(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ye(Li(n)))),n}(e,t),r,o)}(n,e,null,!0),Yd}function Cy(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Yu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Yu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Pn(n,o,!!t||e[++s]))}return void 0===n?null:n}function UM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===K&&(h=d?De:void 0);let f=d?am(h,r):l===r?h:void 0;if(c&&!Jd(f)&&(f=am(u,r)),Jd(f)&&(a=f,o))return a;const p=n[i+1];i=o?ur(p):ri(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=am(u,r))}return a}function Jd(n){return void 0!==n}function Ue(n,e=""){const t=D(),r=fe(),i=n+20,s=r.firstCreatePass?Go(r,i,1,e,null):r.data[i],o=t[i]=function _m(n,e){return Ge(n)?n.createText(e):n.createTextNode(e)}(t[J],e);Pd(r,t,o,s),Cr(s,!1)}function Ju(n){return Xd("",n,""),Ju}function Xd(n,e,t){const r=D(),i=Jo(r,n,e,t);return i!==K&&ii(r,cn(),i),Xd}const Zd="en-US";let uk=Zd;function Ty(n,e,t,r,i){if(n=ee(n),Array.isArray(n))for(let s=0;s<n.length;s++)Ty(n[s],e,t,r,i);else{const s=fe(),o=D();let a=Ko(n)?n:ee(n.provide),u=Ox(n);const c=ft(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ko(n)||!n.multi){const f=new Du(u,i,b),p=Sy(a,e,i?l:l+h,d);-1===p?(Td(Tu(c,o),s,a),Ay(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Sy(a,e,l+h,d),p=Sy(a,e,l,l+h),m=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!m){Td(Tu(c,o),s,a);const v=function l6(n,e,t,r,i){const s=new Du(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,Nk(s,i,r&&!t),s}(i?c6:u6,t.length,i,r,u);!i&&y&&(t[p].providerFactory=v),Ay(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else Ay(s,n,f>-1?f:p,Nk(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Ay(n,e,t,r){const i=Ko(e),s=function N3(n){return!!n.useClass}(e);if(i||s){const u=(s?ee(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function Nk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function u6(n,e,t,r){return xy(this.multi,[])}function c6(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Au(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),xy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],xy(i,s);return s}function xy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Fe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function a6(n,e,t){const r=fe();if(r.firstCreatePass){const i=or(n);Ty(t,r.data,r.blueprint,i,!0),Ty(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Rk{}class f6{resolveComponentFactory(e){throw function h6(n){const e=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let nc=(()=>{class n{}return n.NULL=new f6,n})();function p6(){return ca(ft(),D())}function ca(n,e){return new Ln(Nn(n,e))}let Ln=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=p6,n})();class Ok{}let si=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function y6(){const n=D(),t=Rn(ft().index,n);return function m6(n){return n[J]}(Ir(t)?t:n)}(),n})(),_6=(()=>{class n{}return n.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null}),n})();class la{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Fk=new la("13.3.12"),My={};function ih(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(st(s)),sr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ih(u[1],u,c,r)}const o=t.type;if(8&o)ih(n,e,t.child,r);else if(32&o){const a=gm(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=kS(e,t);if(Array.isArray(a))r.push(...a);else{const u=Vu(e[16]);ih(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class rc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ih(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(sr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(wm(e,r),Sd(t,r))}this._attachedToViewContainer=!1}IS(this._lView[1],this._lView)}onDestroy(e){!function mx(n,e,t,r){const i=Tx(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Ax(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Zm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function ty(n,e,t){const r=e[10];r.begin&&r.begin();try{zo(n,e,n.template,t)}catch(i){throw xx(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RG(n,e){Uu(n,e,e[J],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,"");this._appRef=e}}class v6 extends rc{constructor(e){super(e),this._view=e}detectChanges(){bx(this._view)}checkNoChanges(){}get context(){return null}}class Lk extends nc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Lt(e);return new ky(t,this.ngModule)}}function Vk(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class ky extends Rk{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function U4(n){return n.map(V4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Vk(this.componentDef.inputs)}get outputs(){return Vk(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function E6(n,e){return{get:(t,r,i)=>{const s=n.get(t,My,i);return s!==My||r===My?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Ok,bA),a=s.get(_6,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function gx(n,e,t){if(Ge(n))return n.selectRootElement(e,t===wr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):vm(o.createRenderer(null,this.componentDef),c,function w6(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function Wx(n,e){return{components:[],scheduler:n||T4,clean:C3,playerHandler:e||null,flags:0}}(),f=Hd(0,null,null,1,0,null,null,null,null,null),p=Gu(null,f,h,d,null,null,o,u,a,s);let m,y;yd(p);try{const v=function qx(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=Go(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(qd(u,c,!0),null!==n&&(Id(i,n,c),null!==u.classes&&Tm(i,n,u.classes),null!==u.styles&&RS(i,n,u.styles)));const l=r.createRenderer(n,e),d=Gu(t,fx(e),null,e.onPush?64:16,t[20],u,r,l,s||null,null);return o.firstCreatePass&&(Td(Tu(u,t),o,e.type),Ex(o,u),Ix(u,t.length,1)),Gd(t,d),t[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Id(u,l,["ng-version",Fk.full]);else{const{attrs:_,classes:I}=function B4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ar(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&Id(u,l,_),I&&I.length>0&&Tm(u,l,I.join(" "))}if(y=Gg(f,20),void 0!==t){const _=y.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const P=t[I];_.push(null!=P?Array.from(P):null)}}m=function zx(n,e,t,r,i){const s=t[1],o=function a3(n,e,t){const r=ft();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Cx(n,r,e,qo(n,e,1,null),t));const i=Au(e,n,r.directiveStart,r);Qt(i,e);const s=Nn(r,e);return s&&Qt(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ft();e.contentQueries(1,o,u.directiveStart)}const a=ft();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oi(a.index),vx(t[1],a,0,a.directiveStart,a.directiveEnd,e),wx(e,o)),o}(v,this.componentDef,p,h,[H3]),qu(f,p,null)}finally{_d()}return new C6(this.componentType,m,ca(y,p),p,y)}}class C6 extends class d6{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new v6(i),this.componentType=e}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class oi{}class Uk{}const da=new Map;class $k extends oi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Lk(this);const r=Hn(e);this._bootstrapComponents=Tr(r.bootstrap),this._r3Injector=Px(e,t,[{provide:oi,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],ye(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=bt.THROW_IF_NOT_FOUND,r=H.Default){return e===bt||e===oi||e===ry?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ny extends Uk{constructor(e){super(),this.moduleType=e,null!==Hn(e)&&function b6(n){const e=new Set;!function t(r){const i=Hn(r,!0),s=i.id;null!==s&&(function Bk(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ye(e)} vs ${ye(e.name)}`)}(s,da.get(s),r),da.set(s,r));const o=Tr(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new $k(this.moduleType,e)}}function Hk(n,e,t,r,i,s){const o=e+t;return Yt(n,o,i)?function Sr(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function ic(n,e){const t=n[e];return t===K?void 0:t}(n,o+1)}function Qk(n,e,t){const r=n+20,i=D(),s=function ko(n,e){return n[e]}(i,r);return function sc(n,e){return n[1].data[e].pure}(i,r)?Hk(i,function un(){const n=W.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function Ry(n){return e=>{setTimeout(n,void 0,e)}}const We=class j6 extends Yr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Ry(u),a&&(a=Ry(a)),c&&(c=Ry(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Sn&&e.add(l),l}};Symbol;let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=q6,n})();const H6=ai,G6=class extends H6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Gu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),qu(t,r,e),new rc(r)}};function q6(){return function sh(n,e){return 4&n.type?new G6(e,n,ca(n,e)):null}(ft(),D())}let hr=(()=>{class n{}return n.__NG_ELEMENT_ID__=z6,n})();function z6(){return function Xk(n,e){let t;const r=e[n.index];if(sr(r))t=r;else{let i;if(8&n.type)i=st(r);else{const s=e[J];i=s.createComment("");const o=Nn(n,e);Ts(s,Rd(s,o),i,function BG(n,e){return Ge(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=Dx(r,e,i,n),Gd(e,t)}return new Yk(t,n,e)}(ft(),D())}const W6=hr,Yk=class extends W6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const e=bd(this._hostTNode,this._hostLView);if($A(e)){const t=Po(e,this._hostLView),r=Ro(e);return new Oo(t[1].data[r+8],t)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Jk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function Mu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new ky(Lt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(oi,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function gH(n){return sr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new Yk(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function OG(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],XA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function FG(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Cm(s,o),u=r[J],c=Rd(u,o[7]);return null!==c&&function NG(n,e,t,r,i,s){r[0]=i,r[6]=e,Uu(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),XA(Oy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Jk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=wm(this._lContainer,t);r&&(Sd(Oy(this._lContainer),t),IS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=wm(this._lContainer,t);return r&&null!=Sd(Oy(this._lContainer),t)?new rc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Jk(n){return n[8]}function Oy(n){return n[8]||(n[8]=[])}function uh(...n){}const Qy=new G("Application Initializer");let Yy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=uh,this.reject=uh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Qu(s))t.push(s);else if(vy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(O(Qy,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ac=new G("AppId",{providedIn:"root",factory:function w1(){return`${Jy()}${Jy()}${Jy()}`}});function Jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const E1=new G("Platform Initializer"),uc=new G("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),I1=new G("appBootstrapListener");let wW=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ji=new G("LocaleId",{providedIn:"root",factory:()=>aG(ji,H.Optional|H.SkipSelf)||function EW(){return"undefined"!=typeof $localize&&$localize.locale||Zd}()});class CW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let C1=(()=>{class n{compileModuleSync(t){return new Ny(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Tr(Hn(t).declarations).reduce((o,a)=>{const u=Lt(a);return u&&o.push(new ky(u)),o},[]);return new CW(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bW=(()=>Promise.resolve(0))();function Xy(n){"undefined"==typeof Zone?bW.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function TW(){let n=Ie.requestAnimationFrame,e=Ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function xW(n){const e=()=>{!function SW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ie,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e_(n),n.isCheckStableRunning=!0,Zy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return D1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),b1(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return D1(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),b1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,e_(n),Zy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,AW,uh,uh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const AW={};function Zy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function D1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function b1(n){n._nesting--,Zy(n)}class MW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let t_=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),Xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(O(Ze))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),kW=(()=>{class n{constructor(){this._applications=new Map,n_.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return n_.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class NW{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let n_=new NW,ks=null;const T1=new G("AllowMultipleToken"),A1=new G("PlatformOnDestroy");class S1{constructor(e,t){this.name=e,this.token=t}}function x1(n,e,t=[]){const r=`Platform: ${e}`,i=new G(r);return(s=[])=>{let o=r_();if(!o||o.injector.get(T1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function FW(n){if(ks&&!ks.get(T1,!1))throw new ue(400,"");ks=n;const e=n.get(M1),t=n.get(E1,null);t&&t.forEach(r=>r())}(function VW(n=[],e){return bt.create({name:e,providers:[{provide:iy,useValue:"platform"},{provide:A1,useValue:()=>ks=null},...n]})}(a,r))}return function LW(n){const e=r_();if(!e)throw new ue(401,"");return e}()}}function r_(){var n;return null!==(n=null==ks?void 0:ks.get(M1))&&void 0!==n?n:null}let M1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function UW(n,e){let t;return t="noop"===n?new MW:("zone.js"===n?void 0:n)||new Ze({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ze,useValue:a}];return a.run(()=>{const c=bt.create({providers:u,parent:this.injector,name:t.moduleType.name}),l=t.create(c),d=l.injector.get(Hu,null);if(!d)throw new ue(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{s_(this._modules,l),h.unsubscribe()})}),function BW(n,e,t){try{const r=t();return Qu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Yy);return h.runInitializers(),h.donePromise.then(()=>(function mz(n){Mn(n,"Expected localeId to be defined"),"string"==typeof n&&(uk=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(ji,Zd)||Zd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,r=[]){const i=k1({},r);return function PW(n,e,t){const r=new Ny(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(i_);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ue(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(A1,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(O(bt))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function k1(n,e){return Array.isArray(e)?e.reduce(k1,n):Object.assign(Object.assign({},n),e)}let i_=(()=>{class n{constructor(t,r,i,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Pe(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Pe(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),Xy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function P$(...n){const e=_u(n),t=function A$(n,e){return"number"==typeof bg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?nr(r[0]):yu(t)(Ot(r,e)):Xr}(o,a.pipe(function O$(n={}){const{connector:e=(()=>new Yr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Pt((m,y)=>{c++,!d&&!l&&h();const v=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Tg(p,i))}),v.subscribe(y),!o&&c>0&&(o=new mu({next:_=>v.next(_),error:_=>{d=!0,h(),a=Tg(f,t,_),v.error(_)},complete:()=>{l=!0,h(),a=Tg(f,r),v.complete()}}),nr(m).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new ue(405,"");let i;i=t instanceof Rk?t:this._injector.get(nc).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function OW(n){return n.isBoundToModule}(i)?void 0:this._injector.get(oi),a=i.create(bt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(t_,null),l=c&&a.injector.get(kW);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),s_(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ue(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;s_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(I1,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(O(Ze),O(bt),O(Hu),O(Yy))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let R1=!0,ch=(()=>{class n{}return n.__NG_ELEMENT_ID__=HW,n})();function HW(n){return function GW(n,e,t){if(hd(n)&&!t){const r=Rn(n.index,e);return new rc(r,r)}return 47&n.type?new rc(e[16],e):null}(ft(),D(),16==(16&n))}class V1{constructor(){}supports(e){return Wu(e)}create(e){return new YW(e)}}const QW=(n,e)=>e;class YW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<B1(r,i,s)?t:r,a=B1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Wu(e))throw new ue(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Z3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Qo()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new JW(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new U1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new U1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class JW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class U1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new XW,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function B1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class j1{constructor(){}supports(e){return e instanceof Map||ly(e)}create(){return new ZW}}class ZW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ly(e)))throw new ue(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new e9(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class e9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $1(){return new hh([new V1])}let hh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$1()),deps:[[n,new Ou,new gt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new ue(901,"")}}return n.\u0275prov=Q({token:n,providedIn:"root",factory:$1}),n})();function H1(){return new cc([new j1])}let cc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||H1()),deps:[[n,new Ou,new gt]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new ue(901,"")}}return n.\u0275prov=Q({token:n,providedIn:"root",factory:H1}),n})();const r9=x1(null,"core",[]);let i9=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(O(i_))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({}),n})(),fh=null;function Nr(){return fh}const Vn=new G("DocumentToken");let Rs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:function(){return function u9(){return O(G1)}()},providedIn:"platform"}),n})();const c9=new G("Location Initialized");let G1=(()=>{class n extends Rs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nr().getBaseHref(this._doc)}onPopState(t){const r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){q1()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){q1()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(O(Vn))},n.\u0275prov=Q({token:n,factory:function(){return function l9(){return new G1(O(Vn))}()},providedIn:"platform"}),n})();function q1(){return!!window.history.pushState}function l_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ui(n){return n&&"?"!==n[0]?"?"+n:n}let fa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:function(){return function d9(n){const e=O(Vn).location;return new W1(O(Rs),e&&e.origin||"")}()},providedIn:"root"}),n})();const d_=new G("appBaseHref");let W1=(()=>{class n extends fa{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return l_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ui(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ui(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(O(Rs),O(d_,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),h9=(()=>{class n extends fa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=l_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(O(Rs),O(d_,8))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),h_=(()=>{class n{constructor(t,r){this._subject=new We,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=z1(K1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ui(r))}normalize(t){return n.stripTrailingSlash(function p9(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,K1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ui(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ui(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ui,n.joinWithSlash=l_,n.stripTrailingSlash=z1,n.\u0275fac=function(t){return new(t||n)(O(fa),O(Rs))},n.\u0275prov=Q({token:n,factory:function(){return function f9(){return new h_(O(fa),O(Rs))}()},providedIn:"root"}),n})();function K1(n){return n.replace(/\/index.html$/,"")}function rN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let iN=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Wu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ye(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(b(hh),b(cc),b(Ln),b(si))},n.\u0275dir=j({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class X9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let I_=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new X9(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),sN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{sN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(hr),b(ai),b(hh))},n.\u0275dir=j({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function sN(n,e){n.context.$implicit=e.item}let C_=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Z9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(hr),b(ai))},n.\u0275dir=j({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Z9{constructor(){this.$implicit=null,this.ngIf=null}}function oN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ye(e)}'.`)}class s5{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class o5{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const a5=new o5,u5=new s5;let uN=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Qu(t))return a5;if(gM(t))return u5;throw function pr(n,e){return new ue(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(b(ch,16))},n.\u0275pipe=vn({name:"async",type:n,pure:!1}),n})(),lN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({}),n})();let S5=(()=>{class n{}return n.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new x5(O(Vn),window)}),n})();class x5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function M5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=hN(this.window.history)||hN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function hN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fN{}class S_ extends class k5 extends class a9{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function o9(n){fh||(fh=n)}(new S_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function N5(){return hc=hc||document.querySelector("base"),hc?hc.getAttribute("href"):null}();return null==t?null:function R5(n){Ch=Ch||document.createElement("a"),Ch.setAttribute("href",n);const e=Ch.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rN(document.cookie,e)}}let Ch,hc=null;const pN=new G("TRANSITION_ID"),O5=[{provide:Qy,useFactory:function P5(n,e,t){return()=>{t.get(Yy).donePromise.then(()=>{const r=Nr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[pN,Vn,bt],multi:!0}];class x_{static init(){!function RW(n){n_=n}(new x_)}addToWindow(e){Ie.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(r=>{const i=Ie.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Nr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let F5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const Dh=new G("EventManagerPlugins");let bh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(O(Dh),O(Ze))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class gN{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Nr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),fc=(()=>{class n extends mN{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(yN),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yN))}}return n.\u0275fac=function(t){return new(t||n)(O(Vn))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function yN(n){Nr().remove(n)}const M_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k_=/%COMP%/g;function Th(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Th(n,i,t):(i=i.replace(k_,n),t.push(i))}return t}function wN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let N_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new R_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case wr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $5(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case wr.ShadowDom:return new H5(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Th(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(O(bh),O(fc),O(ac))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class R_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(M_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=M_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=M_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(t,r,i&On.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&On.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wN(r)):this.eventManager.addEventListener(e,t,wN(r))}}class $5 extends R_{constructor(e,t,r,i){super(e),this.component=r;const s=Th(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function U5(n){return"_ngcontent-%COMP%".replace(k_,n)}(i+"-"+r.id),this.hostAttr=function B5(n){return"_nghost-%COMP%".replace(k_,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class H5 extends R_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Th(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let G5=(()=>{class n extends gN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(O(Vn))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const IN=["alt","control","meta","shift"],z5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},W5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K5=(()=>{class n extends gN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(IN.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function Q5(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&CN.hasOwnProperty(e)&&(e=CN[e]))}return z5[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),IN.forEach(s=>{s!=i&&W5[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(O(Vn))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const Z5=x1(r9,"browser",[{provide:uc,useValue:"browser"},{provide:E1,useValue:function Y5(){S_.makeCurrent(),x_.init()},multi:!0},{provide:Vn,useFactory:function X5(){return function dH(n){$g=n}(document),document},deps:[]}]),e7=[{provide:iy,useValue:"root"},{provide:Hu,useFactory:function J5(){return new Hu},deps:[]},{provide:Dh,useClass:G5,multi:!0,deps:[Vn,Ze,uc]},{provide:Dh,useClass:K5,multi:!0,deps:[Vn]},{provide:N_,useClass:N_,deps:[bh,fc,ac]},{provide:Ok,useExisting:N_},{provide:mN,useExisting:fc},{provide:fc,useClass:fc,deps:[Vn]},{provide:t_,useClass:t_,deps:[Ze]},{provide:bh,useClass:bh,deps:[Dh,Ze]},{provide:fN,useClass:F5,deps:[]}];let t7=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ac,useValue:t.appId},{provide:pN,useExisting:ac},O5]}}}return n.\u0275fac=function(t){return new(t||n)(O(n,12))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:e7,imports:[lN,i9]}),n})();function X(...n){return Ot(n,_u(n))}"undefined"!=typeof window&&window;class gr extends Yr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:h7}=Array,{getPrototypeOf:f7,prototype:p7,keys:g7}=Object;function TN(n){if(1===n.length){const e=n[0];if(h7(e))return{args:e,keys:null};if(function m7(n){return n&&"object"==typeof n&&f7(n)===p7}(e)){const t=g7(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:y7}=Array;function AN(n){return me(e=>function _7(n,e){return y7(e)?n(...e):n(e)}(n,e))}function SN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function xN(n,e,t){n?Jr(t,n,e):e()}function Ah(n,e){const t=se(n)?n:()=>n,r=i=>i.error(t());return new Pe(e?i=>e.schedule(r,0,i):r)}const Sh=wt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function O_(...n){return function E7(){return yu(1)}()(Ot(n,_u(n)))}function MN(n){return new Pe(e=>{nr(n()).subscribe(e)})}function kN(){return Pt((n,e)=>{let t=null;n._refCount++;const r=Et(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class I7 extends Pe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,KT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sn;const t=this.getSubject();e.add(this.source.subscribe(Et(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sn.EMPTY)}return e}refCount(){return kN()(this)}}function Ps(n,e){return Pt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Et(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;nr(n(u,l)).subscribe(i=Et(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function F_(n){return n<=0?()=>Xr:Pt((e,t)=>{let r=0;e.subscribe(Et(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function D7(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(Et(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function NN(n,e){return Pt(D7(n,e,arguments.length>=2,!0))}function Os(n,e){return Pt((t,r)=>{let i=0;t.subscribe(Et(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Hi(n){return Pt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Et(t,void 0,void 0,o=>{s=nr(n(o,Hi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function pa(n,e){return se(e)?It(n,e,1):It(n,1)}function L_(n){return n<=0?()=>Xr:Pt((e,t)=>{let r=[];e.subscribe(Et(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function RN(n=b7){return Pt((e,t)=>{let r=!1;e.subscribe(Et(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function b7(){return new Sh}function PN(n){return Pt((e,t)=>{let r=!1;e.subscribe(Et(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ga(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Os((i,s)=>n(i,s,r)):ws,F_(1),t?PN(e):RN(()=>new Sh))}function En(n,e,t){const r=se(n)||e||t?{next:n,error:e,complete:t}:n;return r?Pt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Et(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ws}class li{constructor(e,t){this.id=e,this.url=t}}class V_ extends li{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pc extends li{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ON extends li{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class S7 extends li{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class x7 extends li{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M7 extends li{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k7 extends li{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class N7 extends li{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R7 extends li{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FN{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class LN{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class P7{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O7{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F7{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L7{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class V7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ma(n){return new V7(n)}const UN="ngNavigationCancelingError";function U_(n){const e=Error("NavigationCancelingError: "+n);return e[UN]=!0,e}function B7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Rr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!BN(n[i],e[i]))return!1;return!0}function BN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function jN(n){return Array.prototype.concat.apply([],n)}function $N(n){return n.length>0?n[n.length-1]:null}function Vt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Pr(n){return vy(n)?n:Qu(n)?Ot(Promise.resolve(n)):X(n)}const H7={exact:function qN(n,e,t){if(!Ls(n.segments,e.segments)||!xh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qN(n.children[r],e.children[r],t))return!1;return!0},subset:zN},HN={exact:function G7(n,e){return Rr(n,e)},subset:function q7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>BN(n[t],e[t]))},ignored:()=>!0};function GN(n,e,t){return H7[t.paths](n.root,e.root,t.matrixParams)&&HN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zN(n,e,t){return WN(n,e,e.segments,t)}function WN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ls(i,t)||e.hasChildren()||!xh(i,t,r))}if(n.segments.length===t.length){if(!Ls(n.segments,t)||!xh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!zN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ls(n.segments,i)&&xh(n.segments,i,r)&&n.children[re])&&WN(n.children[re],e,s,r)}}function xh(n,e,t){return e.every((r,i)=>HN[t](n[i].parameters,r.parameters))}class Fs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return K7.serialize(this)}}class oe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Vt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mh(this)}}class gc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ma(this.parameters)),this._parameterMap}toString(){return XN(this)}}function Ls(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class KN{}class QN{parse(e){const t=new r8(e);return new Fs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mc(e.root,!0)}`,r=function J7(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${kh(t)}=${kh(i)}`).join("&"):`${kh(t)}=${kh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Q7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const K7=new QN;function Mh(n){return n.segments.map(e=>XN(e)).join("/")}function mc(n,e){if(!n.hasChildren())return Mh(n);if(e){const t=n.children[re]?mc(n.children[re],!1):"",r=[];return Vt(n.children,(i,s)=>{s!==re&&r.push(`${s}:${mc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function W7(n,e){let t=[];return Vt(n.children,(r,i)=>{i===re&&(t=t.concat(e(r,i)))}),Vt(n.children,(r,i)=>{i!==re&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===re?[mc(n.children[re],!1)]:[`${i}:${mc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[re]?`${Mh(n)}/${t[0]}`:`${Mh(n)}/(${t.join("//")})`}}function YN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kh(n){return YN(n).replace(/%3B/gi,";")}function B_(n){return YN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nh(n){return decodeURIComponent(n)}function JN(n){return Nh(n.replace(/\+/g,"%20"))}function XN(n){return`${B_(n.path)}${function Y7(n){return Object.keys(n).map(e=>`;${B_(e)}=${B_(n[e])}`).join("")}(n.parameters)}`}const X7=/^[^\/()?;=#]+/;function Rh(n){const e=n.match(X7);return e?e[0]:""}const Z7=/^[^=?&#]+/,t8=/^[^&#]+/;class r8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new oe(e,t)),r}parseSegment(){const e=Rh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gc(Nh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Rh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Rh(this.remaining);i&&(r=i,this.capture(r))}e[Nh(t)]=Nh(r)}parseQueryParam(e){const t=function e8(n){const e=n.match(Z7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function n8(n){const e=n.match(t8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=JN(t),s=JN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[re]:new oe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ZN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=j_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=j_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $_(e,this._root).map(t=>t.value)}}function j_(n,e){if(n===e.value)return e;for(const t of e.children){const r=j_(n,t);if(r)return r}return null}function $_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$_(n,t);if(r.length)return r.unshift(e),r}return[]}class di{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eR extends ZN{constructor(e,t){super(e),this.snapshot=t,H_(this,e)}toString(){return this.snapshot.toString()}}function tR(n,e){const t=function i8(n,e){const o=new Ph([],{},{},"",{},re,e,null,n.root,-1,{});return new rR("",new di(o,[]))}(n,e),r=new gr([new gc("",{})]),i=new gr({}),s=new gr({}),o=new gr({}),a=new gr(""),u=new _a(r,i,o,a,s,re,e,t.root);return u.snapshot=t.root,new eR(new di(u,[]),t)}class _a{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function s8(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ph{constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rR extends ZN{constructor(e,t){super(t),this.url=e,H_(this,t)}toString(){return iR(this._root)}}function H_(n,e){e.value._routerState=n,e.children.forEach(t=>H_(n,t))}function iR(n){const e=n.children.length>0?` { ${n.children.map(iR).join(", ")} } `:"";return`${n.value}${e}`}function G_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rr(e.params,t.params)||n.params.next(t.params),function j7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function q_(n,e){const t=Rr(n.params,e.params)&&function z7(n,e){return Ls(n,e)&&n.every((t,r)=>Rr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||q_(n.parent,e.parent))}function yc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function a8(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return yc(n,r,i);return yc(n,r)})}(n,e,t);return new di(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>yc(n,a)),o}}const r=function u8(n){return new _a(new gr(n.url),new gr(n.params),new gr(n.queryParams),new gr(n.fragment),new gr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>yc(n,s));return new di(r,i)}}function Oh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _c(n){return"object"==typeof n&&null!=n&&n.outlets}function z_(n,e,t,r,i){let s={};if(r&&Vt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new Fs(t,s,i);const o=sR(n,e,t);return new Fs(o,s,i)}function sR(n,e,t){const r={};return Vt(n.children,(i,s)=>{r[s]=i===e?t:sR(i,e,t)}),new oe(n.segments,r)}class oR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Oh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(_c);if(i&&i!==$N(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class W_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function aR(n,e,t){if(n||(n=new oe([],{})),0===n.segments.length&&n.hasChildren())return Fh(n,e,t);const r=function p8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(_c(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!cR(u,c,o))return s;r+=2}else{if(!cR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new oe(n.segments.slice(0,r.pathIndex),{});return s.children[re]=new oe(n.segments.slice(r.pathIndex),n.children),Fh(s,0,i)}return r.match&&0===i.length?new oe(n.segments,{}):r.match&&!n.hasChildren()?K_(n,e,t):r.match?Fh(n,0,i):K_(n,e,t)}function Fh(n,e,t){if(0===t.length)return new oe(n.segments,{});{const r=function f8(n){return _c(n[0])?n[0].outlets:{[re]:n}}(t),i={};return Vt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=aR(n.children[o],e,s))}),Vt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new oe(n.segments,i)}}function K_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(_c(s)){const u=g8(s.outlets);return new oe(r,u)}if(0===i&&Oh(t[0])){r.push(new gc(n.segments[e].path,uR(t[0]))),i++;continue}const o=_c(s)?s.outlets[re]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Oh(a)?(r.push(new gc(o,uR(a))),i+=2):(r.push(new gc(o,{})),i++)}return new oe(r,{})}function g8(n){const e={};return Vt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=K_(new oe([],{}),0,t))}),e}function uR(n){const e={};return Vt(n,(t,r)=>e[r]=`${t}`),e}function cR(n,e,t){return n==t.path&&Rr(e,t.parameters)}class y8{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),G_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Vt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ya(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ya(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new L7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new O7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(G_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),G_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function _8(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Q_{constructor(e,t){this.routes=e,this.module=t}}function Gi(n){return"function"==typeof n}function Vs(n){return n instanceof Fs}const vc=Symbol("INITIAL_VALUE");function wc(){return Ps(n=>function v7(...n){const e=_u(n),t=cA(n),{args:r,keys:i}=TN(n);if(0===r.length)return Ot([],e);const s=new Pe(function w7(n,e,t=ws){return r=>{xN(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)xN(e,()=>{const c=Ot(n[u],e);let l=!1;c.subscribe(Et(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>SN(i,o):ws));return t?s.pipe(AN(t)):s}(n.map(e=>e.pipe(F_(1),function C7(...n){const e=_u(n);return Pt((t,r)=>{(e?O_(n,t,e):O_(n,t)).subscribe(r)})}(vc)))).pipe(NN((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==vc?i:(s===vc&&(r=!0),r||!1!==s&&o!==t.length-1&&!Vs(s)?i:s),e)},vc),Os(e=>e!==vc),me(e=>Vs(e)?e:!0===e),F_(1)))}class D8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ec,this.attachRef=null}}class Ec{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new D8,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Y_=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.name=s||re,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new b8(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(Ec),b(hr),b(nc),function Su(n){return function $H(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(BA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(ft(),n)}("name"),b(ch))},n.\u0275dir=j({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class b8{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_a?this.route:e===Ec?this.childContexts:this.parent.get(e,t)}}let lR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Er({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Bi(0,"router-outlet")},directives:[Y_],encapsulation:2}),n})();function dR(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];T8(r,A8(e,r))}}function T8(n,e){n.children&&dR(n.children,e)}function A8(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function J_(n){const e=n.children&&n.children.map(J_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=lR),t}function Xn(n){return n.outlet||re}function hR(n,e){const t=n.filter(r=>Xn(r)===e);return t.push(...n.filter(r=>Xn(r)!==e)),t}const fR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},fR):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||B7)(t,n,e);if(!s)return Object.assign({},fR);const o={};Vt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Vh(n,e,t,r,i="corrected"){if(t.length>0&&function M8(n,e,t){return t.some(r=>Uh(n,e,r)&&Xn(r)!==re)}(n,t,r)){const o=new oe(e,function x8(n,e,t,r){const i={};i[re]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Xn(s)!==re){const o=new oe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Xn(s)]=o}return i}(n,e,r,new oe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function k8(n,e,t){return t.some(r=>Uh(n,e,r))}(n,t,r)){const o=new oe(n.segments,function S8(n,e,t,r,i,s){const o={};for(const a of r)if(Uh(n,t,a)&&!i[Xn(a)]){const u=new oe([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Xn(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new oe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Uh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function pR(n,e,t,r){return!!(Xn(n)===r||r!==re&&Uh(e,t,n))&&("**"===n.path||Lh(e,n,t).matched)}function gR(n,e,t){return 0===e.length&&!n.children[t]}class Bh{constructor(e){this.segmentGroup=e||null}}class mR{constructor(e){this.urlTree=e}}function Ic(n){return Ah(new Bh(n))}function yR(n){return Ah(new mR(n))}class O8{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(oi)}apply(){const e=Vh(this.urlTree.root,[],[],this.config).segmentGroup,t=new oe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,re).pipe(me(s=>this.createUrlTree(X_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hi(s=>{if(s instanceof mR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Bh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(me(i=>this.createUrlTree(X_(i),e.queryParams,e.fragment))).pipe(Hi(i=>{throw i instanceof Bh?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new oe([],{[re]:e}):e;return new Fs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(me(s=>new oe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ot(i).pipe(pa(s=>{const o=r.children[s],a=hR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(me(u=>({segment:u,outlet:s})))}),NN((s,o)=>(s[o.outlet]=o.segment,s),{}),function T7(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Os((i,s)=>n(i,s,r)):ws,L_(1),t?PN(e):RN(()=>new Sh))}())}expandSegment(e,t,r,i,s,o){return Ot(r).pipe(pa(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Hi(c=>{if(c instanceof Bh)return X(null);throw c}))),ga(a=>!!a),Hi((a,u)=>{if(a instanceof Sh||"EmptyError"===a.name)return gR(t,i,s)?X(new oe([],{})):Ic(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return pR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Ic(t):Ic(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yR(s):this.lineralizeSegments(r,s).pipe(It(o=>{const a=new oe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Lh(t,i,s);if(!a)return Ic(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?yR(d):this.lineralizeSegments(i,d).pipe(It(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?X(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(me(d=>(r._loadedConfig=d,new oe(i,{})))):X(new oe(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Lh(t,r,i);return o?this.getChildConfig(e,r,i).pipe(It(l=>{const d=l.module,h=l.routes,{segmentGroup:f,slicedSegments:p}=Vh(t,a,u,h),m=new oe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(me(I=>new oe(a,I)));if(0===h.length&&0===p.length)return X(new oe(a,{}));const y=Xn(r)===s;return this.expandSegment(d,m,h,p,y?re:s,!0).pipe(me(_=>new oe(a.concat(_.segments),_.children)))})):Ic(t)}getChildConfig(e,t,r){return t.children?X(new Q_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?X(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(It(i=>i?this.configLoader.load(e.injector,t).pipe(me(s=>(t._loadedConfig=s,s))):function R8(n){return Ah(U_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):X(new Q_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?X(i.map(o=>{const a=e.get(o);let u;if(function w8(n){return n&&Gi(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Gi(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return Pr(u)})).pipe(wc(),En(o=>{if(!Vs(o))return;const a=U_(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),me(o=>!0===o)):X(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[re])return Ah(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[re]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Fs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Vt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Vt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new oe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function X_(n){const e={};for(const r of Object.keys(n.children)){const s=X_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function F8(n){if(1===n.numberOfChildren&&n.children[re]){const e=n.children[re];return new oe(n.segments.concat(e.segments),e.children)}return n}(new oe(n.segments,e))}class _R{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jh{constructor(e,t){this.component=e,this.route=t}}function V8(n,e,t){const r=n._root;return Cc(r,e?e._root:null,t,[r.value])}function $h(n,e,t){const r=function B8(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Cc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ya(e);return n.children.forEach(o=>{(function j8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function $8(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ls(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ls(n.url,e.url)||!Rr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q_(n,e)||!Rr(n.queryParams,e.queryParams);default:return!q_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _R(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Cc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jh(a.outlet.component,o))}else o&&Dc(e,a,i),i.canActivateChecks.push(new _R(r)),Cc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Vt(s,(o,a)=>Dc(o,t.getContext(a),i)),i}function Dc(n,e,t){const r=ya(n),i=n.value;Vt(r,(s,o)=>{Dc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new jh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class J8{}function vR(n){return new Pe(e=>e.error(n))}class Z8{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Vh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,re);if(null===t)return null;const r=new Ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new di(r,t),s=new rR(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=nR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=hR(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=wR(r);return function eK(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return gR(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!pR(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?$N(r).parameters:{};s=new Ph(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,CR(e),Xn(e),e.component,e,ER(t),IR(t)+r.length,DR(e))}else{const f=Lh(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new Ph(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,CR(e),Xn(e),e.component,e,ER(t),IR(t)+o.length,DR(e))}const u=function tK(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Vh(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new di(s,f)]}if(0===u.length&&0===l.length)return[new di(s,[])];const d=Xn(e)===i,h=this.processSegment(u,c,l,d?re:i);return null===h?null:[new di(s,h)]}}function nK(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wR(n){const e=[],t=new Set;for(const r of n){if(!nK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wR(r.children);e.push(new di(r.value,i))}return e.filter(r=>!t.has(r))}function ER(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function IR(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function CR(n){return n.data||{}}function DR(n){return n.resolve||{}}function bR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Z_(n){return Ps(e=>{const t=n(e);return t?Ot(t).pipe(me(()=>e)):X(e)})}class lK extends class cK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ev=new G("ROUTES");class TR{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(me(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Q_(jN(o.injector.get(ev,void 0,H.Self|H.Optional)).map(J_),o)}),Hi(s=>{throw t._loader$=void 0,s}));return t._loader$=new I7(i,()=>new Yr).pipe(kN()),t._loader$}loadModuleFactory(e){return Pr(e()).pipe(It(t=>t instanceof Uk?X(t):Ot(this.compiler.compileModuleAsync(t))))}}class hK{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function fK(n){throw n}function pK(n,e,t){return e.parse("/")}function AR(n,e){return X(null)}const gK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yr,this.errorHandler=fK,this.malformedUriErrorHandler=pK,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AR,afterPreactivation:AR},this.urlHandlingStrategy=new hK,this.routeReuseStrategy=new lK,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(oi),this.console=o.get(wW);const d=o.get(Ze);this.isNgZoneEnabled=d instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function $7(){return new Fs(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new TR(o,a,h=>this.triggerEvent(new FN(h)),h=>this.triggerEvent(new LN(h))),this.routerState=tR(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Os(i=>0!==i.id),me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ps(i=>{let s=!1,o=!1;return X(i).pipe(En(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ps(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return SR(a.source)&&(this.browserUrlTree=a.extractedUrl),X(a).pipe(Ps(d=>{const h=this.transitions.getValue();return r.next(new V_(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Xr:Promise.resolve(d)}),function L8(n,e,t,r){return Ps(i=>function P8(n,e,t,r,i){return new O8(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),En(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function rK(n,e,t,r,i){return It(s=>function X8(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Z8(n,e,t,r,i,s).recognize();return null===o?vR(new J8):X(o)}catch(o){return vR(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(me(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),En(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new x7(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=a,v=new V_(h,this.serializeUrl(f),p,m);r.next(v);const _=tR(f,this.rootComponentType).snapshot;return X(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Xr}),Z_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),En(a=>{const u=new M7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),me(a=>Object.assign(Object.assign({},a),{guards:V8(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function H8(n,e){return It(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?X(Object.assign(Object.assign({},t),{guardsResult:!0})):function G8(n,e,t,r){return Ot(n).pipe(It(i=>function Y8(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const u=$h(a,e,i);let c;if(function C8(n){return n&&Gi(n.canDeactivate)}(u))c=Pr(u.canDeactivate(n,e,t,r));else{if(!Gi(u))throw new Error("Invalid CanDeactivate guard");c=Pr(u(n,e,t,r))}return c.pipe(ga())})).pipe(wc()):X(!0)}(i.component,i.route,t,e,r)),ga(i=>!0!==i,!0))}(o,r,i,n).pipe(It(a=>a&&function v8(n){return"boolean"==typeof n}(a)?function q8(n,e,t,r){return Ot(e).pipe(pa(i=>O_(function W8(n,e){return null!==n&&e&&e(new P7(n)),X(!0)}(i.route.parent,r),function z8(n,e){return null!==n&&e&&e(new F7(n)),X(!0)}(i.route,r),function Q8(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function U8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>MN(()=>X(o.guards.map(u=>{const c=$h(u,o.node,t);let l;if(function I8(n){return n&&Gi(n.canActivateChild)}(c))l=Pr(c.canActivateChild(r,n));else{if(!Gi(c))throw new Error("Invalid CanActivateChild guard");l=Pr(c(r,n))}return l.pipe(ga())})).pipe(wc())));return X(s).pipe(wc())}(n,i.path,t),function K8(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>MN(()=>{const o=$h(s,e,t);let a;if(function E8(n){return n&&Gi(n.canActivate)}(o))a=Pr(o.canActivate(e,n));else{if(!Gi(o))throw new Error("Invalid CanActivate guard");a=Pr(o(e,n))}return a.pipe(ga())}));return X(i).pipe(wc())}(n,i.route,t))),ga(i=>!0!==i,!0))}(r,s,n,e):X(a)),me(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),En(a=>{if(Vs(a.guardsResult)){const c=U_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new k7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Os(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Z_(a=>{if(a.guards.canActivateChecks.length)return X(a).pipe(En(u=>{const c=new N7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Ps(u=>{let c=!1;return X(u).pipe(function iK(n,e){return It(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let s=0;return Ot(i).pipe(pa(o=>function sK(n,e,t,r){return function oK(n,e,t,r){const i=bR(n);if(0===i.length)return X({});const s={};return Ot(i).pipe(It(o=>function aK(n,e,t,r){const i=$h(n,e,r);return Pr(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(En(a=>{s[o]=a}))),L_(1),It(()=>bR(s).length===i.length?X(s):Xr))}(n._resolve,n,e,r).pipe(me(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),nR(n,t).resolve),null)))}(o.route,r,n,e)),En(()=>s++),L_(1),It(o=>s===i.length?X(t):Xr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),En({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),En(u=>{const c=new R7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Z_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),me(a=>{const u=function o8(n,e,t){const r=yc(n,e._root,t?t._root:void 0);return new eR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),En(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>me(r=>(new y8(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),En({next(){s=!0},complete(){s=!0}}),function A7(n){return Pt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Hi(a=>{if(o=!0,function U7(n){return n&&n[UN]}(a)){const u=Vs(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new ON(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||SR(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new S7(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Xr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){dR(t),this.config=t.map(J_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function c8(n,e,t,r,i){if(0===t.length)return z_(e.root,e.root,e.root,r,i);const s=function l8(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Vt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new oR(t,e,r)}(t);if(s.toRoot())return z_(e.root,e.root,new oe([],{}),r,i);const o=function d8(n,e,t){if(n.isAbsolute)return new W_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new W_(s,s===e.root,0)}const r=Oh(n.commands[0])?0:1;return function h8(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new W_(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Fh(o.segmentGroup,o.index,s.commands):aR(o.segmentGroup,o.index,s.commands);return z_(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,t,d,null!=l?l:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function yK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},gK):!1===r?Object.assign({},mK):r,Vs(t))return GN(this.currentUrlTree,t,i);const s=this.parseUrl(t);return GN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new pc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,m)=>{c=p,l=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new ON(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){gy()},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function SR(n){return"imperative"!==n}class xR{}class MR{preload(e,t){return X(null)}}let kR=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new TR(i,r,u=>t.triggerEvent(new FN(u)),u=>t.triggerEvent(new LN(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Os(t=>t instanceof pc),pa(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(oi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Ot(i).pipe(yu(),me(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?X(r._loadedConfig):this.loader.load(t.injector,r)).pipe(It(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(O(In),O(C1),O(bt),O(xR))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),rv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof V_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof VN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new VN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){gy()},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const Us=new G("ROUTER_CONFIGURATION"),NR=new G("ROUTER_FORROOT_GUARD"),EK=[h_,{provide:KN,useClass:QN},{provide:In,useFactory:function TK(n,e,t,r,i,s,o={},a,u){const c=new In(null,n,e,t,r,i,jN(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function AK(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[KN,Ec,h_,bt,C1,ev,Us,[class dK{},new gt],[class uK{},new gt]]},Ec,{provide:_a,useFactory:function SK(n){return n.routerState.root},deps:[In]},kR,MR,class wK{preload(e,t){return t().pipe(Hi(()=>X(null)))}},{provide:Us,useValue:{enableTracing:!1}}];function IK(){return new S1("Router",In)}let RR=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[EK,PR(t),{provide:NR,useFactory:bK,deps:[[In,new gt,new Ou]]},{provide:Us,useValue:r||{}},{provide:fa,useFactory:DK,deps:[Rs,[new kd(d_),new gt],Us]},{provide:rv,useFactory:CK,deps:[In,S5,Us]},{provide:xR,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:MR},{provide:S1,multi:!0,useFactory:IK},[iv,{provide:Qy,multi:!0,useFactory:xK,deps:[iv]},{provide:OR,useFactory:MK,deps:[iv]},{provide:I1,multi:!0,useExisting:OR}]]}}static forChild(t){return{ngModule:n,providers:[PR(t)]}}}return n.\u0275fac=function(t){return new(t||n)(O(NR,8),O(In,8))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({}),n})();function CK(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new rv(n,e,t)}function DK(n,e,t={}){return t.useHash?new h9(n,e):new W1(n,e)}function bK(n){return"guarded"}function PR(n){return[{provide:WH,multi:!0,useValue:n},{provide:ev,multi:!0,useValue:n}]}let iv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Yr}appInitializer(){return this.injector.get(c9,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(In),o=this.injector.get(Us);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?X(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Us),i=this.injector.get(kR),s=this.injector.get(rv),o=this.injector.get(In),a=this.injector.get(i_);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(O(bt))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();function xK(n){return n.appInitializer.bind(n)}function MK(n){return n.bootstrapListener.bind(n)}const OR=new G("Router Initializer");let FR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Er({type:n,selectors:[["app-checklist"]],decls:2,vars:0,template:function(t,r){1&t&&(ce(0,"p"),Ue(1,"checklist works!"),le())},styles:[""]}),n})();function LR(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){LR(s,r,i,o,a,"next",u)}function a(u){LR(s,r,i,o,a,"throw",u)}o(void 0)})}}const VR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new OK;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hh=function(n){return function(n){const e=VR(n);return ov.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Gh=function(n){try{return ov.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},qh=()=>{try{return function VK(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&Gh(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},BR=n=>{var e,t;return null===(t=null===(e=qh())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},jR=()=>{var n;return null===(n=qh())||void 0===n?void 0:n.config},$R=n=>{var e;return null===(e=qh())||void 0===e?void 0:e[`_${n}`]};class zh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function av(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Bs(){try{return"object"==typeof indexedDB}catch(n){return!1}}function bc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function uv(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Zn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}}class Or{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function QK(n,e){return n.replace(YK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Zn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const YK=/\{\$([^}]+)}/g;function JK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(GR(s)&&GR(o)){if(!Kh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function GR(n){return null!==n&&"object"==typeof n}function Qh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class ZK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function eQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=cv),void 0===i.error&&(i.error=cv),void 0===i.complete&&(i.complete=cv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cv(){}function dv(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Cn(n){return n&&n._delegate?n._delegate:n}class Jt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class oQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function uQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===js?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class cQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hv=[];var de=(()=>{return(n=de||(de={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",de;var n})();const qR={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},lQ=de.INFO,dQ={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},hQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=dQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class wa{constructor(e){this.name=e,this._logLevel=lQ,this._logHandler=hQ,this._userLogHandler=null,hv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}let zR,WR;const KR=new WeakMap,fv=new WeakMap,QR=new WeakMap,pv=new WeakMap,gv=new WeakMap;let mv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return fv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||QR.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function wQ(n){return"function"==typeof n?function vQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gQ(){return WR||(WR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(yv(this),e),qi(KR.get(this))}:function(...e){return qi(n.apply(yv(this),e))}:function(e,...t){const r=n.call(yv(this),e,...t);return QR.set(r,e.sort?e.sort():[e]),qi(r)}}(n):(n instanceof IDBTransaction&&function yQ(n){if(fv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});fv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function pQ(){return zR||(zR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,mv):n)}function qi(n){if(n instanceof IDBRequest)return function mQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(qi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&KR.set(t,n)}).catch(()=>{}),gv.set(e,n),e}(n);if(pv.has(n))return pv.get(n);const e=wQ(n);return e!==n&&(pv.set(n,e),gv.set(e,n)),e}const yv=n=>gv.get(n),IQ=["get","getKey","getAll","getAllKeys","count"],CQ=["put","add","delete","clear"],_v=new Map;function YR(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(_v.get(e))return _v.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=CQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!IQ.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return _v.set(e,s),s}!function _Q(n){mv=n(mv)}(n=>UT(VT({},n),{get:(e,t,r)=>YR(e,t)||n.get(e,t,r),has:(e,t)=>!!YR(e,t)||n.has(e,t)}));class DQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function bQ(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const vv="@firebase/app",$s=new wa("@firebase/app"),Yh="[DEFAULT]",JQ={[vv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hs=new Map,Jh=new Map;function XQ(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pn(n){const e=n.name;if(Jh.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Jh.set(e,n);for(const t of Hs.values())XQ(t,n);return!0}function Ea(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const hi=new Or("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class eY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}const Gs="9.23.0";function XR(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Yh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw hi.create("bad-app-name",{appName:String(i)});if(t||(t=jR()),!t)throw hi.create("no-options");const s=Hs.get(i);if(s){if(Kh(t,s.options)&&Kh(r,s.config))return s;throw hi.create("duplicate-app",{appName:i})}const o=new cQ(i);for(const u of Jh.values())o.addComponent(u);const a=new eY(t,r,o);return Hs.set(i,a),a}function wv(n=Yh){const e=Hs.get(n);if(!e&&n===Yh&&jR())return XR();if(!e)throw hi.create("no-app",{appName:n});return e}function ZR(){return Array.from(Hs.values())}function Ke(n,e,t){var r;let i=null!==(r=JQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void $s.warn(a.join(" "))}pn(new Jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Tc="firebase-heartbeat-store";let sP,oP,Iv=null;function eP(){return Iv||(Iv=function EQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(qi(o.result),u.oldVersion,u.newVersion,qi(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Tc)}}).catch(n=>{throw hi.create("idb-open",{originalErrorMessage:n.message})})),Iv}function Cv(){return(Cv=g(function*(n){try{return yield(yield eP()).transaction(Tc).objectStore(Tc).get(nP(n))}catch(e){if(e instanceof Zn)$s.warn(e.message);else{const t=hi.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});$s.warn(t.message)}}})).apply(this,arguments)}function tP(n,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=g(function*(n,e){try{const r=(yield eP()).transaction(Tc,"readwrite");yield r.objectStore(Tc).put(e,nP(n)),yield r.done}catch(t){if(t instanceof Zn)$s.warn(t.message);else{const r=hi.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});$s.warn(r.message)}}})).apply(this,arguments)}function nP(n){return`${n.name}!${n.options.appId}`}class oY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=rP(),{heartbeatsToSend:r,unsentEntries:i}=function aY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iP(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Hh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function rP(){return(new Date).toISOString().substring(0,10)}class uY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Bs()&&bc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function rY(n){return Cv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return tP(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return tP(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function iP(n){return Hh(JSON.stringify({version:2,heartbeats:n})).length}!function cY(n){pn(new Jt("platform-logger",e=>new DQ(e),"PRIVATE")),pn(new Jt("heartbeat",e=>new oY(e),"PRIVATE")),Ke(vv,"0.9.13",n),Ke(vv,"0.9.13","esm2017"),Ke("fire-js","")}(""),Ke("firebase","9.23.0","app");const aP=new WeakMap,bv=new WeakMap,uP=new WeakMap,Tv=new WeakMap,Av=new WeakMap;let Sv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return bv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||uP.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function vY(n){return"function"==typeof n?function _Y(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pY(){return oP||(oP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xv(this),e),fi(aP.get(this))}:function(...e){return fi(n.apply(xv(this),e))}:function(e,...t){const r=n.call(xv(this),e,...t);return uP.set(r,e.sort?e.sort():[e]),fi(r)}}(n):(n instanceof IDBTransaction&&function mY(n){if(bv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});bv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function fY(){return sP||(sP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Sv):n)}function fi(n){if(n instanceof IDBRequest)return function gY(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(fi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&aP.set(t,n)}).catch(()=>{}),Av.set(e,n),e}(n);if(Tv.has(n))return Tv.get(n);const e=vY(n);return e!==n&&(Tv.set(n,e),Av.set(e,n)),e}const xv=n=>Av.get(n);function Mv(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=fi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fi(o.result),u.oldVersion,u.newVersion,fi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function kv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),fi(t).then(()=>{})}const wY=["get","getKey","getAll","getAllKeys","count"],EY=["put","add","delete","clear"],Nv=new Map;function cP(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Nv.get(e))return Nv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=EY.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wY.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Nv.set(e,s),s}!function yY(n){Sv=n(Sv)}(n=>UT(VT({},n),{get:(e,t,r)=>cP(e,t)||n.get(e,t,r),has:(e,t)=>!!cP(e,t)||n.has(e,t)}));const lP="@firebase/installations",hP="w:0.6.4",fP="FIS_v2",pi=new Or("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pP(n){return n instanceof Zn&&n.code.includes("request-failed")}function Pv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function gP(n){return{token:n.token,requestStatus:2,expiresIn:AY(n.expiresIn),creationTime:Date.now()}}function Ov(n,e){return Fv.apply(this,arguments)}function Fv(){return(Fv=g(function*(n,e){const r=(yield e.json()).error;return pi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function mP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yP(n,{refreshToken:e}){const t=mP(n);return t.append("Authorization",function SY(n){return`${fP} ${n}`}(e)),t}function Lv(n){return Vv.apply(this,arguments)}function Vv(){return(Vv=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function AY(n){return Number(n.replace("s","000"))}function xY(n,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Pv(n),i=mP(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:fP,appId:n.appId,sdkVersion:hP})},u=yield Lv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:gP(c.authToken)}}throw yield Ov("Create Installation",u)})).apply(this,arguments)}function _P(n){return new Promise(e=>{setTimeout(e,n)})}const kY=/^[cdef][\w-]{21}$/;function NY(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function RY(n){return function MY(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return kY.test(t)?t:""}catch(n){return""}}function Ia(n){return`${n.appName}!${n.appId}`}const Ca=new Map;function vP(n,e){const t=Ia(n);wP(t,e),function FY(n,e){const t=function EP(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=n=>{wP(n.data.key,n.data.fid)}),qs}();t&&t.postMessage({key:n,fid:e}),function IP(){0===Ca.size&&qs&&(qs.close(),qs=null)}()}(t,e)}function wP(n,e){const t=Ca.get(n);if(t)for(const r of t)r(e)}let qs=null;const zs="firebase-installations-store";let jv=null;function $v(){return jv||(jv=Mv("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(zs)}})),jv}function Xh(n,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=g(function*(n,e){const t=Ia(n),i=(yield $v()).transaction(zs,"readwrite"),s=i.objectStore(zs),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&vP(n,e.fid),e})).apply(this,arguments)}function Gv(n){return qv.apply(this,arguments)}function qv(){return(qv=g(function*(n){const e=Ia(n),r=(yield $v()).transaction(zs,"readwrite");yield r.objectStore(zs).delete(e),yield r.done})).apply(this,arguments)}function Ac(n,e){return zv.apply(this,arguments)}function zv(){return(zv=g(function*(n,e){const t=Ia(n),i=(yield $v()).transaction(zs,"readwrite"),s=i.objectStore(zs),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&vP(n,a.fid),a})).apply(this,arguments)}function Wv(n){return Kv.apply(this,arguments)}function Kv(){return(Kv=g(function*(n){let e;const t=yield Ac(n.appConfig,r=>{const i=UY(r),s=BY(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function UY(n){return DP(n||{fid:NY(),registrationStatus:0})}function BY(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(pi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function jY(n,e){return Qv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:$Y(n)}:{installationEntry:e}}function Qv(){return(Qv=g(function*(n,e){try{const t=yield xY(n,e);return Xh(n.appConfig,t)}catch(t){throw pP(t)&&409===t.customData.serverCode?yield Gv(n.appConfig):yield Xh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function $Y(n){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(n){let e=yield CP(n.appConfig);for(;1===e.registrationStatus;)yield _P(100),e=yield CP(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Wv(n);return r||t}return e})).apply(this,arguments)}function CP(n){return Ac(n,e=>{if(!e)throw pi.create("installation-not-found");return DP(e)})}function DP(n){return function HY(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function GY(n,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=qY(n,t),i=yP(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:hP,appId:n.appId}})},u=yield Lv(()=>fetch(r,a));if(u.ok)return gP(yield u.json());throw yield Ov("Generate Auth Token",u)})).apply(this,arguments)}function qY(n,{fid:e}){return`${Pv(n)}/${e}/authTokens:generate`}function Xv(n){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(n,e=!1){let t;const r=yield Ac(n.appConfig,s=>{if(!TP(s))throw pi.create("not-registered");const o=s.authToken;if(!e&&KY(o))return s;if(1===o.requestStatus)return t=zY(n,e),s;{if(!navigator.onLine)throw pi.create("app-offline");const a=YY(s);return t=WY(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function zY(n,e){return ew.apply(this,arguments)}function ew(){return(ew=g(function*(n,e){let t=yield bP(n.appConfig);for(;1===t.authToken.requestStatus;)yield _P(100),t=yield bP(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Xv(n,e):r})).apply(this,arguments)}function bP(n){return Ac(n,e=>{if(!TP(e))throw pi.create("not-registered");return function JY(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function WY(n,e){return tw.apply(this,arguments)}function tw(){return(tw=g(function*(n,e){try{const t=yield GY(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Xh(n.appConfig,r),t}catch(t){if(!pP(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Xh(n.appConfig,r)}else yield Gv(n.appConfig);throw t}})).apply(this,arguments)}function TP(n){return void 0!==n&&2===n.registrationStatus}function KY(n){return 2===n.requestStatus&&!function QY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function YY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function nw(){return(nw=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Wv(e);return r?r.catch(console.error):Xv(e).catch(console.error),t.fid})).apply(this,arguments)}function rw(){return(rw=g(function*(n,e=!1){const t=n;return yield eJ(t),(yield Xv(t,e)).token})).apply(this,arguments)}function eJ(n){return iw.apply(this,arguments)}function iw(){return(iw=g(function*(n){const{registrationPromise:e}=yield Wv(n);e&&(yield e)})).apply(this,arguments)}function aw(n){return pi.create("missing-app-config-values",{valueName:n})}const AP="installations",sJ=n=>{const e=n.getProvider("app").getImmediate(),t=function rJ(n){if(!n||!n.options)throw aw("App Configuration");if(!n.name)throw aw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw aw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ea(e,"heartbeat"),_delete:()=>Promise.resolve()}},oJ=n=>{const t=Ea(n.getProvider("app").getImmediate(),AP).getImmediate();return{getId:()=>function XY(n){return nw.apply(this,arguments)}(t),getToken:i=>function ZY(n){return rw.apply(this,arguments)}(t,i)}};(function aJ(){pn(new Jt(AP,sJ,"PUBLIC")),pn(new Jt("installations-internal",oJ,"PRIVATE"))})(),Ke(lP,"0.6.4"),Ke(lP,"0.6.4","esm2017");const uw="@firebase/remote-config",Dn=new Or("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _J{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function vJ(n=navigator){return n.languages&&n.languages[0]||n.language}class wJ{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:vJ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",_(I)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===(null==v?void 0:v.name)&&(_="fetch-timeout"),Dn.create(_,{originalErrorMessage:null==v?void 0:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Dn.create("fetch-client-parse",{originalErrorMessage:null==_?void 0:_.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Dn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class CJ{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function EJ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function IJ(n){if(!(n instanceof Zn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+dv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class TJ{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ef(n,e){const t=n.target.error||void 0;return Dn.create(e,{originalErrorMessage:t&&(null==t?void 0:t.message)})}const Ws="app_namespace_store";class MJ{constructor(e,t,r,i=function xJ(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ef(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ws,{keyPath:"compositeKey"})}}catch(t){e(Dn.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ws],"readonly").objectStore(Ws),u=t.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(ef(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Dn.create("storage-get",{originalErrorMessage:null==c?void 0:c.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Ws],"readwrite").objectStore(Ws),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:t});l.onerror=d=>{o(ef(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Dn.create("storage-set",{originalErrorMessage:null==l?void 0:l.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ws],"readwrite").objectStore(Ws),u=t.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(ef(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Dn.create("storage-delete",{originalErrorMessage:null==c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class kJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function RJ(){return fw.apply(this,arguments)}function fw(){return(fw=g(function*(){if(!Bs())return!1;try{return yield bc()}catch(n){return!1}})).apply(this,arguments)}!function NJ(){pn(new Jt("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Dn.create("registration-window");if(!Bs())throw Dn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Dn.create("registration-project-id");if(!o)throw Dn.create("registration-api-key");if(!a)throw Dn.create("registration-app-id");const u=new MJ(a,r.name,t=t||"firebase"),c=new kJ(u),l=new wa(uw);l.logLevel=de.ERROR;const d=new wJ(i,Gs,t,s,o,a),h=new CJ(d,u),f=new _J(h,u,c,l),p=new TJ(r,f,c,u,l);return function gJ(n){const e=Cn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ke(uw,"0.4.4"),Ke(uw,"0.4.4","esm2017")}();const PJ="/firebase-messaging-sw.js",OJ="/firebase-cloud-messaging-push-scope",kP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",NP="google.c.a.c_id",LJ="google.c.a.c_l",VJ="google.c.a.ts",UJ="google.c.a.e";var Da=(()=>{return(n=Da||(Da={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Da;var n})();function gi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function BJ(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const pw="fcm_token_details_db",RP="fcm_token_object_Store";function $J(n){return gw.apply(this,arguments)}function gw(){return gw=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(pw))return null;let e=null;return(yield Mv(pw,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(RP))return;const c=a.objectStore(RP),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:gi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:gi(d.auth),p256dh:gi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:gi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:gi(d.auth),p256dh:gi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:gi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield kv(pw),yield kv("fcm_vapid_details_db"),yield kv("undefined"),HJ(e)?e:null;var r}),gw.apply(this,arguments)}function HJ(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ks="firebase-messaging-store";let mw=null;function yw(){return mw||(mw=Mv("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ks)}})),mw}function PP(n){return _w.apply(this,arguments)}function _w(){return(_w=g(function*(n){const e=Iw(n),r=yield(yield yw()).transaction(Ks).objectStore(Ks).get(e);if(r)return r;{const i=yield $J(n.appConfig.senderId);if(i)return yield vw(n,i),i}})).apply(this,arguments)}function vw(n,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(n,e){const t=Iw(n),i=(yield yw()).transaction(Ks,"readwrite");return yield i.objectStore(Ks).put(e,t),yield i.done,e})).apply(this,arguments)}function zJ(n){return Ew.apply(this,arguments)}function Ew(){return(Ew=g(function*(n){const e=Iw(n),r=(yield yw()).transaction(Ks,"readwrite");yield r.objectStore(Ks).delete(e),yield r.done})).apply(this,arguments)}function Iw({appConfig:n}){return n.appId}const Ut=new Or("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function KJ(n,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(n,e){const t=yield Aw(n),r=FP(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Tw(n.appConfig),i)).json()}catch(o){throw Ut.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw Ut.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function QJ(n,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(n,e){const t=yield Aw(n),r=FP(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Tw(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ut.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw Ut.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-update-no-token");return s.token})).apply(this,arguments)}function OP(n,e){return bw.apply(this,arguments)}function bw(){return(bw=g(function*(n,e){const r={method:"DELETE",headers:yield Aw(n)};try{const s=yield(yield fetch(`${Tw(n.appConfig)}/${e}`,r)).json();if(s.error)throw Ut.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ut.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}})).apply(this,arguments)}function Tw({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Aw(n){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function FP({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==kP&&(i.web.applicationPubKey=r),i}const YJ=6048e5;function JJ(n){return xw.apply(this,arguments)}function xw(){return(xw=g(function*(n){const e=yield ZJ(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:gi(e.getKey("auth")),p256dh:gi(e.getKey("p256dh"))},r=yield PP(n.firebaseDependencies);if(r){if(eX(r.subscriptionOptions,t))return Date.now()>=r.createTime+YJ?XJ(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield OP(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return VP(n.firebaseDependencies,t)}return VP(n.firebaseDependencies,t)})).apply(this,arguments)}function LP(n){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(n){const e=yield PP(n.firebaseDependencies);e&&(yield OP(n.firebaseDependencies,e.token),yield zJ(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function XJ(n,e){return kw.apply(this,arguments)}function kw(){return(kw=g(function*(n,e){try{const t=yield QJ(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield vw(n.firebaseDependencies,r),t}catch(t){throw yield LP(n),t}})).apply(this,arguments)}function VP(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(n,e){const r={token:yield KJ(n,e),createTime:Date.now(),subscriptionOptions:e};return yield vw(n,r),r.token})).apply(this,arguments)}function ZJ(n,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:BJ(e)})})).apply(this,arguments)}function eX(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function UP(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function tX(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function nX(n,e){!e.data||(n.data=e.data)}(e,n),function rX(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function iX(n){return"object"==typeof n&&!!n&&NP in n}function BP(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Pw(n){return Ut.create("missing-app-config-values",{valueName:n})}BP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),BP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oX{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function sX(n){if(!n||!n.options)throw Pw("App Configuration Object");if(!n.name)throw Pw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Pw(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function jP(n){return Ow.apply(this,arguments)}function Ow(){return(Ow=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(PJ,{scope:OJ}),n.swRegistration.update().catch(()=>{})}catch(e){throw Ut.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}})).apply(this,arguments)}function aX(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=g(function*(n,e){if(!e&&!n.swRegistration&&(yield jP(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ut.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function uX(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=kP)})).apply(this,arguments)}function Vw(){return(Vw=g(function*(n,e){if(!navigator)throw Ut.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ut.create("permission-blocked");return yield uX(n,null==e?void 0:e.vapidKey),yield aX(n,null==e?void 0:e.serviceWorkerRegistration),JJ(n)})).apply(this,arguments)}function cX(n,e,t){return Uw.apply(this,arguments)}function Uw(){return(Uw=g(function*(n,e,t){const r=lX(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[NP],message_name:t[LJ],message_time:t[VJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lX(n){switch(n){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bw(){return(Bw=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Da.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(UP(t)):n.onMessageHandler.next(UP(t)));const r=t.data;iX(r)&&"1"===r[UJ]&&(yield cX(n,t.messageType,r))})).apply(this,arguments)}const HP="@firebase/messaging",hX=n=>{const e=new oX(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function dX(n,e){return Bw.apply(this,arguments)}(e,t)),e},fX=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function $P(n,e){return Vw.apply(this,arguments)}(e,r)}};function qP(){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(){try{yield bc()}catch(n){return!1}return"undefined"!=typeof window&&Bs()&&uv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pX(){pn(new Jt("messaging",hX,"PUBLIC")),pn(new Jt("messaging-internal",fX,"PRIVATE")),Ke(HP,"0.12.4"),Ke(HP,"0.12.4","esm2017")}();const tf="analytics",yX="firebase_id",wX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gw="https://www.googletagmanager.com/gtag/js",At=new wa("@firebase/analytics"),gn=new Or("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function IX(n){if(!n.startsWith(Gw)){const e=gn.create("invalid-gtag-resource",{gtagURL:n});return At.warn(e.message),""}return n}function zP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function DX(n,e){const t=function CX(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:IX}),r=document.createElement("script"),i=`${Gw}?l=${n}&id=${e}`;r.src=t?null==t?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TX(n,e,t,r,i,s){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield zP(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){At.error(a)}n("config",i,s)})).apply(this,arguments)}function AX(n,e,t,r,i){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield zP(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){At.error(s)}})).apply(this,arguments)}function MX(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gw)&&t.src.includes(n))return t;return null}const WP=new class RX{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function PX(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function OX(n){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:PX(r)},s=wX.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function FX(n){return Kw.apply(this,arguments)}function Kw(){return(Kw=g(function*(n,e=WP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw gn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new UX;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),KP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function KP(n,e,t){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=WP){var s;const{appId:o,measurementId:a}=n;try{yield LX(r,e)}catch(u){if(a)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==u?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield OX(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!VX(c)){if(i.deleteThrottleMetadata(o),a)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=null==c?void 0:c.customData)||void 0===s?void 0:s.httpStatus)?dv(t,i.intervalMillis,30):dv(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),At.debug(`Calling attemptFetch again in ${l} millis`),KP(n,d,r,i)}})).apply(this,arguments)}function LX(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VX(n){if(!(n instanceof Zn&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class UX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Yw,rE;function Jw(){return(Jw=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function QP(n){rE=n}function YP(n){Yw=n}function zX(){return iE.apply(this,arguments)}function iE(){return(iE=g(function*(){if(!Bs())return At.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield bc()}catch(n){return At.warn(gn.create("indexeddb-unavailable",{errorInfo:null==n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function sE(){return(sE=g(function*(n,e,t,r,i,s,o){var a;const u=FX(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>At.error(f)),e.push(u);const c=zX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);MX(s)||DX(s,l.measurementId),rE&&(i("consent","default",rE),QP(void 0)),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[yX]=d),i("config",l.measurementId,h),Yw&&(i("set",Yw),YP(void 0)),l.measurementId})).apply(this,arguments)}class KX{constructor(e){this.app=e}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},JP=[];const XP={};let eO,Lr,nf="dataLayer",oE=!1;function YX(n,e,t){!function QX(){const n=[];if(av()&&n.push("This is a browser extension environment."),uv()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=gn.create("invalid-analytics-context",{errorInfo:e});At.warn(t.message)}}();const r=n.options.appId;if(!r)throw gn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw gn.create("no-api-key");At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[r])throw gn.create("already-exists",{id:r});if(!oE){!function bX(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(nf);const{wrappedGtag:s,gtagCore:o}=function xX(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function SX(n,e,t,r){function s(){return(s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield AX(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield TX(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){At.error(u)}})).apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Fr,JP,XP,nf,"gtag");Lr=s,eO=o,oE=!0}return Fr[r]=function WX(n,e,t,r,i,s,o){return sE.apply(this,arguments)}(n,JP,XP,e,eO,nf,t),new KX(n)}function XX(){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(){if(av()||!uv()||!Bs())return!1;try{return yield bc()}catch(n){return!1}})).apply(this,arguments)}const tO="@firebase/analytics";!function eZ(){pn(new Jt(tf,(e,{options:t})=>YX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),pn(new Jt("analytics-internal",function n(e){try{const t=e.getProvider(tf).getImmediate();return{logEvent:(r,i,s)=>function ZX(n,e,t,r){n=Cn(n),function BX(n,e,t,r,i){return Jw.apply(this,arguments)}(Lr,Fr[n.app.options.appId],e,t,r).catch(i=>At.error(i))}(t,r,i,s)}}catch(t){throw gn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ke(tO,"0.10.0"),Ke(tO,"0.10.0","esm2017")}();class tZ extends Sn{constructor(e,t){super()}schedule(e,t=0){return this}}const rf={setInterval(n,e,...t){const{delegate:r}=rf;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=rf;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class rO extends tZ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return rf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&rf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const iO={now:()=>(iO.delegate||Date).now(),delegate:void 0};class Sc{constructor(e,t=Sc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Sc.now=iO.now;class sO extends Sc{constructor(e,t=Sc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const iZ=new class rZ extends sO{}(class nZ extends rO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),sZ=new sO(rO),sf=new la("7.6.1"),cE="__angularfire_symbol__analyticsIsSupportedValue",lE="__angularfire_symbol__analyticsIsSupported",dE="__angularfire_symbol__remoteConfigIsSupportedValue",hE="__angularfire_symbol__remoteConfigIsSupported",fE="__angularfire_symbol__messagingIsSupportedValue",pE="__angularfire_symbol__messagingIsSupported";function mE(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[lE]||(globalThis[lE]=XX().then(n=>globalThis[cE]=n).catch(()=>globalThis[cE]=!1)),globalThis[pE]||(globalThis[pE]=qP().then(n=>globalThis[fE]=n).catch(()=>globalThis[fE]=!1)),globalThis[hE]||(globalThis[hE]=RJ().then(n=>globalThis[dE]=n).catch(()=>globalThis[dE]=!1));const yE=(n,e)=>{const t=e?[e]:ZR(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ba(){}class oO{constructor(e,t=iZ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class oZ{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ba,{},ba,ba)),t.pipe(En({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _E=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new oO(Zone.current)),this.insideAngular=t.run(()=>new oO(Zone.current,sZ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(O(Ze))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qs(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function aZ(n){return Qs().ngZone.runOutsideAngular(()=>n())}function Ys(n){return Qs().ngZone.run(()=>n())}function uZ(n){return Qs(),function cZ(n){return function(t){return(t=t.lift(new oZ(n.ngZone))).pipe(sd(n.outsideAngular),id(n.insideAngular))}}(Qs())(n)}const lZ=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ys(()=>n.apply(void 0,r))},mi=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ba,{},ba,ba)))),r[s]=lZ(r[s],t));const i=aZ(()=>n.apply(this,r));if(!e){if(i instanceof Pe){const s=Qs();return i.pipe(sd(s.outsideAngular),id(s.insideAngular))}return Ys(()=>i)}return i instanceof Pe?i.pipe(uZ):i instanceof Promise?Ys(()=>new Promise((s,o)=>i.then(a=>Ys(()=>s(a)),a=>Ys(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ys(()=>i)};class Ta{constructor(e){return e}}class vE{constructor(){return ZR()}}const wE=new G("angularfire2._apps"),hZ={provide:Ta,useFactory:function dZ(n){return n&&1===n.length?n[0]:new Ta(wv())},deps:[[new gt,wE]]},fZ={provide:vE,deps:[[new gt,wE]]};function pZ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ta(r)}}let gZ=(()=>{class n{constructor(t){Ke("angularfire",sf.full,"core"),Ke("angularfire",sf.full,"app"),Ke("angular",Fk.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(O(uc))},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[hZ,fZ]}),n})();function mZ(n,...e){return{ngModule:gZ,providers:[{provide:wE,useFactory:pZ(n),multi:!0,deps:[Ze,bt,_E,...e]}]}}const yZ=mi(XR,!0),EE=new Map,aO={activated:!1,tokenObservers:[]},_Z={initialized:!1,enabled:!1};function Qe(n){return EE.get(n)||Object.assign({},aO)}function of(){return _Z}class DZ{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new zh,yield function bZ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zh,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bt=new Or("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CE(n){if(!Qe(n).activated)throw Bt.create("use-before-activation",{appName:n.name})}function cf(n,e){return bE.apply(this,arguments)}function bE(){return(bE=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Bt.create("fetch-network-error",{originalErrorMessage:null==d?void 0:d.message})}if(200!==o.status)throw Bt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Bt.create("fetch-parse-error",{originalErrorMessage:null==d?void 0:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function cO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const xc="firebase-app-check-store";let lf=null;function dO(){return lf||(lf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Bt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xc,{keyPath:"compositeKey"})}}catch(t){e(Bt.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),lf)}function TE(){return(TE=g(function*(n,e){const r=(yield dO()).transaction(xc,"readwrite"),s=r.objectStore(xc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Bt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Mc=new wa("@firebase/app-check");function xE(n,e){return Bs()?function NZ(n,e){return function hO(n,e){return TE.apply(this,arguments)}(function pO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Mc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kE(){return of().enabled}function NE(){return RE.apply(this,arguments)}function RE(){return(RE=g(function*(){const n=of();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const VZ={error:"UNKNOWN_ERROR"};function UZ(n){return ov.encodeString(JSON.stringify(n),!1)}function df(n){return PE.apply(this,arguments)}function PE(){return(PE=g(function*(n,e=!1){const t=n.app;CE(t);const r=Qe(t);let s,i=r.token;if(i&&!Aa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Aa(u)?i=u:yield xE(t,void 0))}if(!e&&i&&Aa(i))return{token:i.token};let a,o=!1;if(kE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cf(cO(t,yield NE()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield xE(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Qe(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Mc.warn(u.message):Mc.error(u),s=u}return i?s?a=Aa(i)?{token:i.token,internalError:s}:_O(s):(a={token:i.token},r.token=i,yield xE(t,i)):a=_O(s),o&&yO(t,a),a})).apply(this,arguments)}function OE(){return(OE=g(function*(n){const e=n.app;CE(e);const{provider:t}=Qe(e);if(kE()){const r=yield NE(),{token:i}=yield cf(cO(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function LE(n,e){const t=Qe(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function mO(n){const{app:e}=n,t=Qe(e);let r=t.tokenRefresher;r||(r=function BZ(n){const{app:e}=n;return new DZ(g(function*(){let r;if(r=Qe(e).token?yield df(n,!0):yield df(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Qe(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function yO(n,e){const t=Qe(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Aa(n){return n.expireTimeMillis-Date.now()>0}function _O(n){return{token:UZ(VZ),error:n}}class jZ{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Qe(this.app);for(const t of e)LE(this.app,t.next);return Promise.resolve()}}const TO="app-check-internal";!function tee(){pn(new Jt("app-check",n=>function $Z(n,e){return new jZ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TO).initialize()})),pn(new Jt(TO,n=>function HZ(n){return{getToken:e=>df(n,e),getLimitedUseToken:()=>function gO(n){return OE.apply(this,arguments)}(n),addTokenListener:e=>function FE(n,e,t,r){const{app:i}=n,s=Qe(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Aa(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),mO(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mO(n))}(n,"INTERNAL",e),removeTokenListener:e=>LE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ke("@firebase/app-check","0.8.0")}();class jE{constructor(){return yE("app-check")}}"undefined"!=typeof window&&window;const oee=function SO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xO=new Or("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ff=new wa("@firebase/auth");function pf(n,...e){ff.logLevel<=de.ERROR&&ff.error(`Auth (${Gs}): ${n}`,...e)}function bn(n,...e){throw HE(n,...e)}function Vr(n,...e){return HE(n,...e)}function MO(n,e,t){const r=Object.assign(Object.assign({},oee()),{[e]:t});return new Or("auth","Firebase",r).create(e,{appName:n.name})}function HE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xO.create(n,...e)}function A(n,e,...t){if(!n)throw HE(e,...t)}function Ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pf(e),new Error(e)}function zi(n,e){n||Ur(e)}function kc(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function kO(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=function GK(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}()||function zK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function uee(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function GE(){return"http:"===kO()||"https:"===kO()}()||av()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qE(n,e){zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class NO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dee=new Nc(3e4,6e4);function je(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ye(n,e,t,r){return zE.apply(this,arguments)}function zE(){return(zE=g(function*(n,e,t,r,i={}){return RO(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Qh(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),NO.fetch()(PO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function RO(n,e,t){return WE.apply(this,arguments)}function WE(){return(WE=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lee),e);try{const i=new hee(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Rc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Rc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Rc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Rc(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw MO(n,l,c);bn(n,l)}}catch(i){if(i instanceof Zn)throw i;bn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function yi(n,e,t,r){return KE.apply(this,arguments)}function KE(){return(KE=g(function*(n,e,t,r,i={}){const s=yield Ye(n,e,t,r,i);return"mfaPendingCredential"in s&&bn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function PO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?qE(n.config,i):`${n.config.apiScheme}://${i}`}class hee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),dee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Vr(n,e,r);return i.customData._tokenResponse=t,i}function QE(){return(QE=g(function*(n,e){return Ye(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function gee(n,e){return JE.apply(this,arguments)}function JE(){return(JE=g(function*(n,e){return Ye(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function XE(){return(XE=g(function*(n,e=!1){const t=Cn(n),r=yield t.getIdToken(e),i=gf(r);A(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pc(ZE(i.auth_time)),issuedAtTime:Pc(ZE(i.iat)),expirationTime:Pc(ZE(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function ZE(n){return 1e3*Number(n)}function gf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gh(t);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function _i(n,e){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Zn&&_ee(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function _ee({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class vee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class OO{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oc(n){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield _i(n,gee(t,{idToken:r}));A(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Iee(s.providerUserInfo):[],a=Eee(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new OO(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})).apply(this,arguments)}function nI(){return(nI=g(function*(n){const e=Cn(n);yield Oc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Eee(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Iee(n){return n.map(e=>{var{providerId:t}=e,r=Ig(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function rI(){return(rI=g(function*(n,e){const t=yield RO(n,{},g(function*(){const r=Qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=PO(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function yee(n){const e=gf(n);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Cee(n,e){return rI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Fc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Wi(n,e){A("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Js{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield _i(t,t.stsTokenManager.getToken(t.auth,e));return A(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function mee(n){return XE.apply(this,arguments)}(this,e)}reload(){return function wee(n){return nI.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Oc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield _i(e,function fee(n,e){return QE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,_=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:I,emailVerified:P,isAnonymous:V,providerData:Y,stsTokenManager:Re}=t;A(I&&Re,e,"internal-error");const $n=Fc.fromJSON(this.name,Re);A("string"==typeof I,e,"internal-error"),Wi(d,e.name),Wi(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),Wi(f,e.name),Wi(p,e.name),Wi(m,e.name),Wi(y,e.name),Wi(v,e.name),Wi(_,e.name);const Qr=new Js({uid:I,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:$n,createdAt:v,lastLoginAt:_});return Y&&Array.isArray(Y)&&(Qr.providerData=Y.map(ed=>Object.assign({},ed))),y&&(Qr._redirectEventId=y),Qr}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Fc;i.updateFromServerResponse(t);const s=new Js({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Oc(s),s})()}}const FO=new Map;function vi(n){zi(n instanceof Function,"Expected a class definition");let e=FO.get(n);return e?(zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,FO.set(n,e),e)}const LO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function mf(n,e,t){return`firebase:${n}:${e}:${t}`}class xa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=mf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Js._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new xa(vi(LO),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||vi(LO);const o=mf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Js._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new xa(s,e,r)):new xa(s,e,r)})()}}function VO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HO(e))return"Blackberry";if(GO(e))return"Webos";if(iI(e))return"Safari";if((e.includes("chrome/")||BO(e))&&!e.includes("edge/"))return"Chrome";if($O(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function UO(n=Tt()){return/firefox\//i.test(n)}function iI(n=Tt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BO(n=Tt()){return/crios\//i.test(n)}function jO(n=Tt()){return/iemobile/i.test(n)}function $O(n=Tt()){return/android/i.test(n)}function HO(n=Tt()){return/blackberry/i.test(n)}function GO(n=Tt()){return/webos/i.test(n)}function yf(n=Tt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qO(n=Tt()){return yf(n)||$O(n)||GO(n)||HO(n)||/windows phone/i.test(n)||jO(n)}function zO(n,e=[]){let t;switch(n){case"Browser":t=VO(Tt());break;case"Worker":t=`${VO(Tt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gs}/${r}`}function WO(n,e){return oI.apply(this,arguments)}function oI(){return(oI=g(function*(n,e){return Ye(n,"GET","/v2/recaptchaConfig",je(n,e))})).apply(this,arguments)}function QO(n){return void 0!==n&&void 0!==n.enterprise}class YO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function aI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Vr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function See(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function JO(n){return`__${n}${Math.floor(1e6*Math.random())}`}class XO{constructor(e){this.type="recaptcha-enterprise",this.auth=St(e)}verify(e="verify",t=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){WO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new YO(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;QO(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&QO(window.grecaptcha))o(c,a,u);else{if("undefined"==typeof window)return void u(new Error("RecaptchaVerifier is only supported in browser"));aI("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Nee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class Ree{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZO(this),this.idTokenSubscription=new ZO(this),this.beforeStateQueue=new Nee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield xa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return A(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Oc(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cee(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?Cn(e):null;return r&&A(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(vi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield WO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new YO(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new XO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&vi(e)||t._popupRedirectResolver;A(r,t,"argument-error"),t.redirectPersistenceManager=yield xa.create(t,[vi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return(null==r?void 0:r.error)&&function aee(n,...e){ff.logLevel<=de.WARN&&ff.warn(`Auth (${Gs}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function St(n){return Cn(n)}class ZO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function XK(n,e){const t=new ZK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eF(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tF(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wi(n,e){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(n,e){return yi(n,"POST","/v1/accounts:signInWithIdp",je(n,e))})).apply(this,arguments)}class Qi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zee extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield Js._fromIdTokenResponse(e,r,i),o=sF(r);return new er({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=sF(r);return new er({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function sF(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class If extends Zn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new If(e,t,r,i)}}function oF(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?If._fromErrorAndOperation(n,s,e,r):s})}function RI(n,e){return PI.apply(this,arguments)}function PI(){return(PI=g(function*(n,e,t=!1){const r=yield _i(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return er._forOperation(n,"link",r)})).apply(this,arguments)}function FI(){return(FI=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield _i(n,oF(r,i,e,n),t);A(s.idToken,r,"internal-error");const o=gf(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(n.uid===a,r,"user-mismatch"),er._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&bn(r,"user-mismatch"),s}})).apply(this,arguments)}function LI(){return(LI=g(function*(n,e,t=!1){const r="signIn",i=yield oF(n,r,e),s=yield er._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Df="__sak";class dF{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ite=(()=>{class n extends dF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vte(){const n=Tt();return iI(n)||yf(n)}()&&function Tee(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=qO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function bee(){return function WK(){const n=Tt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),hF=(()=>{class n extends dF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Dte=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Cte(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function fC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class bte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=fC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ct(){return window}function pC(){return void 0!==ct().WorkerGlobalScope&&"function"==typeof ct().importScripts}function gC(){return(gC=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const fF="firebaseLocalStorageDb",bf="firebaseLocalStorage",pF="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tf(n,e){return n.transaction([bf],e?"readwrite":"readonly").objectStore(bf)}function mC(){const n=indexedDB.open(fF,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bf,{keyPath:pF})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(bf)?e(r):(r.close(),yield function kte(){const n=indexedDB.deleteDatabase(fF);return new Bc(n).toPromise()}(),e(yield mC()))}))})}function gF(n,e,t){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(n,e,t){const r=Tf(n,!0).put({[pF]:e,value:t});return new Bc(r).toPromise()})).apply(this,arguments)}function _C(){return(_C=g(function*(n,e){const t=Tf(n,!1).get(e),r=yield new Bc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function mF(n,e){const t=Tf(n,!0).delete(e);return new Bc(t).toPromise()}const Ote=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield mC()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return pC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=Dte._getInstance(function xte(){return pC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function Ate(){return gC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new bte(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Ste(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield mC();return yield gF(t,Df,"1"),yield mF(t,Df),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>gF(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Nte(n,e){return _C.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>mF(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=Tf(o,!1).getAll();return new Bc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Zs(n,e){return e?vi(e):(A(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}JO("rcb"),new Nc(3e4,6e4);class AC extends class Uee{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jte(n){return function cF(n,e){return LI.apply(this,arguments)}(n.auth,new AC(n),n.bypassAuthState)}function Xte(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),function uF(n,e){return FI.apply(this,arguments)}(t,new AC(n),n.bypassAuthState)}function Zte(n){return SC.apply(this,arguments)}function SC(){return(SC=g(function*(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),RI(t,new AC(n),n.bypassAuthState)})).apply(this,arguments)}new Nc(2e3,1e4);const jc=new Map;class nne extends class ene{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jte;case"linkViaPopup":case"linkViaRedirect":return Zte;case"reauthViaPopup":case"reauthViaRedirect":return Xte;default:bn(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=jc.get(t.auth._key());if(!r){try{const s=(yield function rne(n,e){return RC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}jc.set(t.auth._key(),r)}return t.bypassAuthState||jc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function RC(){return(RC=g(function*(n,e){const t=vF(e),r=_F(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function ine(n,e){jc.set(n._key(),e)}function _F(n){return vi(n._redirectPersistence)}function vF(n){return mf("pendingRedirect",n.config.apiKey,n.name)}function wF(n,e){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(n,e,t=!1){const r=St(n),i=Zs(r,e),o=yield new nne(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class cne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function lne(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CF(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!CF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Vr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(IF(e))}saveEventToCache(e){this.cachedEventUids.add(IF(e)),this.lastProcessedEventTime=Date.now()}}function IF(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CF({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function dne(n){return $C.apply(this,arguments)}function $C(){return($C=g(function*(n,e={}){return Ye(n,"GET","/v1/projects",e)})).apply(this,arguments)}const hne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fne=/^https?/;function HC(){return(HC=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield dne(n);for(const t of e)try{if(gne(t))return}catch(r){}bn(n,"unauthorized-domain")})).apply(this,arguments)}function gne(n){const e=kc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!fne.test(t))return!1;if(hne.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const mne=new Nc(3e4,6e4);function DF(){const n=ct().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Sf=null;function _ne(n){return Sf=Sf||function yne(n){return new Promise((e,t)=>{var r,i,s;function o(){DF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DF(),t(Vr(n,"network-request-failed"))},timeout:mne.get()})}if(null===(i=null===(r=ct().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ct().gapi)||void 0===s?void 0:s.load)){const a=JO("iframefcb");return ct()[a]=()=>{gapi.load?o():t(Vr(n,"network-request-failed"))},aI(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Sf=null,e})}(n),Sf}const vne=new Nc(5e3,15e3),Ine={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dne(n){const e=n.config;A(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qE(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Gs},i=Cne.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Qh(r).slice(1)}`}function GC(){return GC=g(function*(n){const e=yield _ne(n),t=ct().gapi;return A(t,n,"internal-error"),e.open({where:document.body,url:Dne(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ine,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Vr(n,"network-request-failed"),u=ct().setTimeout(()=>{o(a)},vne.get());function c(){ct().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),GC.apply(this,arguments)}const Tne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const One=encodeURIComponent("fac");function TF(n,e,t,r,i,s){return qC.apply(this,arguments)}function qC(){return(qC=g(function*(n,e,t,r,i,s){A(n.config.authDomain,n,"auth-domain-config-required"),A(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Gs,eventId:i};if(e instanceof Qi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",JK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Zee){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${One}=${encodeURIComponent(u)}`:"";return`${Fne(n)}?${Qh(a).slice(1)}${c}`})).apply(this,arguments)}function Fne({config:n}){return n.emulator?qE(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const zC="webStorageSupport",Vne=class Lne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hF,this._completeRedirectFn=wF,this._overrideRedirectResult=ine}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;zi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield TF(e,t,r,kc(),i);return function kne(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Tne),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Tt().toLowerCase();t&&(a=BO(c)?"_blank":t),UO(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Dee(n=Tt()){var e;return yf(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function Nne(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new bF(null);const d=window.open(e||"",a,l);A(d,n,"popup-blocked");try{d.focus()}catch(h){}return new bF(d)}(e,a,fC())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Tte(n){ct().location.href=n}(yield TF(e,t,r,kc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(zi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function bne(n){return GC.apply(this,arguments)}(e),i=new cne(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zC,{type:zC},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[zC];void 0!==o&&t(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function pne(n){return HC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qO()||iI()||yf()}};var xF="@firebase/auth";class Une{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hne=$R("authIdTokenMaxAge")||300;let kF=null;const Gne=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Hne)return;const s=null==r?void 0:r.token;kF!==s&&(kF=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function qne(n=wv()){const e=Ea(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Pee(n,e){const t=Ea(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Kh(t.getOptions(),null!=e?e:{}))return i;bn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Vne,persistence:[Ote,Ite,hF]}),r=$R("authTokenSyncURL");if(r){const s=Gne(r);(function pte(n,e,t){Cn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function fte(n,e,t,r){Cn(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=BR("auth");return i&&function Fee(n,e,t){const r=St(n);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==t?void 0:t.disableWarnings),s=eF(e),{host:o,port:a}=function Lee(n){const e=eF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:tF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Vee(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function jne(n){pn(new Jt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zO(n)},c=new Ree(r,i,s,u);return function Oee(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(vi);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pn(new Jt("auth-internal",e=>{const t=St(e.getProvider("auth").getImmediate());return new Une(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(xF,"0.23.2",function Bne(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ke(xF,"0.23.2","esm2017")}("Browser");class KC{constructor(e){return e}}class RF{constructor(){return yE("auth")}}const QC=new G("angularfire2.auth-instances");function Wne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new KC(r)}}const Kne={provide:RF,deps:[[new gt,QC]]},Qne={provide:KC,useFactory:function zne(n,e){const t=mE("auth",n,e);return t&&new KC(t)},deps:[[new gt,QC],Ta]};let Yne=(()=>{class n{constructor(){Ke("angularfire",sf.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[Qne,Kne]}),n})();function Jne(n,...e){return{ngModule:Yne,providers:[{provide:QC,useFactory:Wne(n),multi:!0,deps:[Ze,bt,_E,vE,[new gt,jE],...e]}]}}const Xne=mi(qne,!0);var M,Zne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},mr={},YC=YC||{},q=Zne||self;function Mf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $c(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JC="closure_uid_"+(1e9*Math.random()>>>0),tre=0;function nre(n,e,t){return n.call.apply(n.bind,arguments)}function rre(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xt(n,e,t){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nre:rre).apply(null,arguments)}function kf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yi(){this.s=this.s,this.o=this.o}Yi.prototype.s=!1,Yi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ere(n){Object.prototype.hasOwnProperty.call(n,JC)&&n[JC]||(n[JC]=++tre)}(this)},Yi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function XC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function OF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Mf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Zt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var sre=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{q.addEventListener("test",()=>{},e),q.removeEventListener("test",()=>{},e)}catch(t){}return n}();function Hc(n){return/^[\s\xa0]*$/.test(n)}function Nf(){var n=q.navigator;return n&&(n=n.userAgent)?n:""}function Br(n){return-1!=Nf().indexOf(n)}function ZC(n){return ZC[" "](n),n}ZC[" "]=function(){};var tD,n,are=Br("Opera"),ka=Br("Trident")||Br("MSIE"),FF=Br("Edge"),eD=FF||ka,LF=Br("Gecko")&&!(-1!=Nf().toLowerCase().indexOf("webkit")&&!Br("Edge"))&&!(Br("Trident")||Br("MSIE"))&&!Br("Edge"),ure=-1!=Nf().toLowerCase().indexOf("webkit")&&!Br("Edge");function VF(){var n=q.document;return n?n.documentMode:void 0}e:{var nD="",rD=(n=Nf(),LF?/rv:([^\);]+)(\)|;)/.exec(n):FF?/Edge\/([\d\.]+)/.exec(n):ka?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ure?/WebKit\/(\S+)/.exec(n):are?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rD&&(nD=rD?rD[1]:""),ka){var iD=VF();if(null!=iD&&iD>parseFloat(nD)){tD=String(iD);break e}}tD=nD}var cre=q.document&&ka&&(VF()||parseInt(tD,10))||void 0;function Gc(n,e){if(Zt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(LF){e:{try{ZC(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lre[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gc.$.h.call(this)}}xt(Gc,Zt);var lre={2:"touch",3:"pen",4:"mouse"};Gc.prototype.h=function(){Gc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qc="closure_listenable_"+(1e6*Math.random()|0),dre=0;function hre(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++dre,this.fa=this.ia=!1}function Rf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function oD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function BF(n){const e={};for(const t in n)e[t]=n[t];return e}const jF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $F(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<jF.length;s++)t=jF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Pf(n){this.src=n,this.g={},this.h=0}function aD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=PF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Pf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=uD(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new hre(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var cD="closure_lm_"+(1e6*Math.random()|0),lD={};function HF(n,e,t,r,i){if(r&&r.once)return qF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)HF(n,e[s],t,r,i);return null}return t=pD(t),n&&n[qc]?n.O(e,t,$c(r)?!!r.capture:!!r,i):GF(n,e,t,!1,r,i)}function GF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=$c(i)?!!i.capture:!!i,a=hD(n);if(a||(n[cD]=a=new Pf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function pre(){const e=gre;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sre||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(WF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qF(n,e[s],t,r,i);return null}return t=pD(t),n&&n[qc]?n.P(e,t,$c(r)?!!r.capture:!!r,i):GF(n,e,t,!0,r,i)}function zF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zF(n,e[s],t,r,i);else r=$c(r)?!!r.capture:!!r,t=pD(t),n&&n[qc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uD(s=n.g[e],t,r,i))&&(Rf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=hD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uD(e,t,r,i)),(t=-1<n?e[n]:null)&&dD(t))}function dD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[qc])aD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(WF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=hD(e))?(aD(t,n),0==t.h&&(t.src=null,e[cD]=null)):Rf(n)}}}function WF(n){return n in lD?lD[n]:lD[n]="on"+n}function gre(n,e){if(n.fa)n=!0;else{e=new Gc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&dD(n),n=t.call(r,e)}return n}function hD(n){return(n=n[cD])instanceof Pf?n:null}var fD="__closure_events_fn_"+(1e9*Math.random()>>>0);function pD(n){return"function"==typeof n?n:(n[fD]||(n[fD]=function(e){return n.handleEvent(e)}),n[fD])}function Mt(){Yi.call(this),this.i=new Pf(this),this.S=this,this.J=null}function jt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;$F(e=new Zt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Of(o,r,!0,e)&&i}if(i=Of(o=e.g=n,r,!0,e)&&i,i=Of(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Of(o=e.g=t[s],r,!1,e)&&i}function Of(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&aD(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(Mt,Yi),Mt.prototype[qc]=!0,Mt.prototype.removeEventListener=function(n,e,t,r){zF(this,n,e,t,r)},Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Rf(t[r]);delete n.g[e],n.h--}}this.J=null},Mt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Mt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var gD=q.JSON.stringify;function yre(){var n=mD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var KF=new class mre{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vre,n=>n.reset());class vre{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wre(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Ere(n){q.setTimeout(()=>{throw n},0)}let zc,Wc=!1,mD=new class _re{constructor(){this.h=this.g=null}add(e,t){const r=KF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},QF=()=>{const n=q.Promise.resolve(void 0);zc=()=>{n.then(Ire)}};var Ire=()=>{for(var n;n=yre();){try{n.h.call(n.g)}catch(t){Ere(t)}var e=KF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Wc=!1};function Ff(n,e){Mt.call(this),this.h=n||1,this.g=e||q,this.j=Xt(this.qb,this),this.l=Date.now()}function yD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function _D(n,e,t){if("function"==typeof n)t&&(n=Xt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xt(n.handleEvent,n)}return 2147483647<Number(e)?-1:q.setTimeout(n,e||0)}function YF(n){n.g=_D(()=>{n.g=null,n.i&&(n.i=!1,YF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xt(Ff,Mt),(M=Ff.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(yD(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){Ff.$.N.call(this),yD(this),delete this.g};class Cre extends Yi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YF(this)}N(){super.N(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kc(n){Yi.call(this),this.h=n,this.g={}}xt(Kc,Yi);var JF=[];function XF(n,e,t,r){Array.isArray(t)||(t&&(JF[0]=t.toString()),t=JF);for(var i=0;i<t.length;i++){var s=HF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function ZF(n){oD(n.g,function(e,t){this.g.hasOwnProperty(t)&&dD(e)},n),n.g={}}function Lf(){this.g=!0}function Na(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Are(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return gD(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Kc.prototype.N=function(){Kc.$.N.call(this),ZF(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lf.prototype.Ea=function(){this.g=!1},Lf.prototype.info=function(){};var eo={},eL=null;function Vf(){return eL=eL||new Mt}function tL(n){Zt.call(this,eo.Ta,n)}function Qc(n){const e=Vf();jt(e,new tL(e))}function nL(n,e){Zt.call(this,eo.STAT_EVENT,n),this.stat=e}function mn(n){const e=Vf();jt(e,new nL(e,n))}function rL(n,e){Zt.call(this,eo.Ua,n),this.size=e}function Yc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){n()},e)}eo.Ta="serverreachability",xt(tL,Zt),eo.STAT_EVENT="statevent",xt(nL,Zt),eo.Ua="timingevent",xt(rL,Zt);var Uf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vD(){}function oL(){}vD.prototype.h=null;var ID,Jc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wD(){Zt.call(this,"d")}function ED(){Zt.call(this,"c")}function Bf(){}function Xc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Kc(this),this.P=Sre,this.V=new Ff(n=eD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aL}function aL(){this.i=null,this.g="",this.h=!1}xt(wD,Zt),xt(ED,Zt),xt(Bf,vD),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},ID=new Bf;var Sre=45e3,CD={},jf={};function DD(n,e,t){n.L=1,n.v=qf(Ei(e)),n.s=t,n.S=!0,uL(n,null)}function uL(n,e){n.G=Date.now(),Zc(n),n.A=Ei(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),_L(t.i,"t",r),n.C=0,t=n.l.J,n.h=new aL,n.g=$L(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Cre(Xt(n.Pa,n,n.g),n.O)),XF(n.U,n.g,"readystatechange",n.nb),e=n.I?BF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Qc(),function Dre(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function cL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function lL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=xre(n,t),i==jf){4==e&&(n.o=4,mn(14),r=!1),Na(n.j,n.m,null,"[Incomplete Response]");break}if(i==CD){n.o=4,mn(15),Na(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Na(n.j,n.m,i,null),bD(n,i)}cL(n)&&i!=jf&&i!=CD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ND(e),e.M=!0,mn(11))):(Na(n.j,n.m,t,"[Invalid Chunked Response]"),to(n),el(n))}function xre(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?jf:(t=Number(e.substring(t,r)),isNaN(t)?CD:(r+=1)+t>e.length?jf:(e=e.slice(r,r+t),n.C=r+t,e))}function Zc(n){n.Y=Date.now()+n.P,dL(n,n.P)}function dL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yc(Xt(n.lb,n),e)}function $f(n){n.B&&(q.clearTimeout(n.B),n.B=null)}function el(n){0==n.l.H||n.J||VL(n.l,n)}function to(n){$f(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,yD(n.V),ZF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function bD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||TD(t.i,n)))if(!n.K&&TD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Yc(Xt(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<n.G))break e;Jf(t),Qf(t)}kD(t),mn(18)}if(1>=EL(t.i)&&t.oa){try{t.oa()}catch(c){}t.oa=void 0}}else ro(t,11)}else if((n.K||t.g==n)&&Jf(t),!Hc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(AD(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,xe(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=jL(r,r.J?r.pa:null,r.Y),o.K){IL(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&($f(a),Zc(a)),r.g=o}else FL(r);0<t.j.length&&Yf(t)}else"stop"!=c[0]&&"close"!=c[0]||ro(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ro(t,7):MD(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Qc()}catch(c){}}function hL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Mf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function kre(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(Mf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Mre(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Mf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(M=Xc.prototype).setTimeout=function(n){this.P=n},M.nb=function(n){n=n.target;const e=this.M;e&&3==jr(n)?e.l():this.Pa(n)},M.Pa=function(n){try{if(n==this.g)e:{const l=jr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||eD||this.g&&(this.h.h||this.g.ja()||ML(this.g)))){this.J||4!=l||7==e||Qc(),$f(this);var t=this.g.da();this.ca=t;t:if(cL(this)){var r=ML(this.g);n="";var i=r.length,s=4==jr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){to(this),el(this);var o="";break t}this.h.i=new q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function bre(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hc(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,mn(12),to(this),el(this);break e}Na(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bD(this,t)}this.S?(lL(this,l,o),eD&&this.i&&3==l&&(XF(this.U,this.V,"tick",this.mb),this.V.start())):(Na(this.j,this.m,o,null),bD(this,o)),4==l&&to(this),this.i&&!this.J&&(4==l?VL(this.l,this):(this.i=!1,Zc(this)))}else(function Qre(n){const e={};n=(n.g&&2<=jr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Hc(n[r]))continue;var t=wre(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function fre(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),to(this),el(this)}}}catch(l){}},M.mb=function(){if(this.g){var n=jr(this.g),e=this.g.ja();this.C<e.length&&($f(this),lL(this,n,e),this.i&&4!=n&&Zc(this))}},M.cancel=function(){this.J=!0,to(this)},M.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Tre(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qc(),mn(17)),to(this),this.o=2,el(this)):dL(this,this.Y-n)};var fL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof no){this.h=n.h,Hf(this,n.j),this.s=n.s,this.g=n.g,Gf(this,n.m),this.l=n.l;var e=n.i,t=new rl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),pL(this,t),this.o=n.o}else n&&(e=String(n).match(fL))?(this.h=!1,Hf(this,e[1]||"",!0),this.s=tl(e[2]||""),this.g=tl(e[3]||"",!0),Gf(this,e[4]),this.l=tl(e[5]||"",!0),pL(this,e[6]||"",!0),this.o=tl(e[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}function Ei(n){return new no(n)}function Hf(n,e,t){n.j=t?tl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pL(n,e,t){e instanceof rl?(n.i=e,function Vre(n,e){e&&!n.j&&(Ji(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(mL(this,r),_L(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=nl(e,Fre)),n.i=new rl(e,n.h))}function xe(n,e,t){n.i.set(e,t)}function qf(n){return xe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Rre),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Rre(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}no.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nl(e,gL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nl(e,gL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(nl(t,"/"==t.charAt(0)?Ore:Pre,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nl(t,Lre)),n.join("")};var gL=/[#\/\?@]/g,Pre=/[#\?:]/g,Ore=/[#\?]/g,Fre=/[#\?@]/g,Lre=/#/g;function rl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ji(n){n.g||(n.g=new Map,n.h=0,n.i&&function Nre(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mL(n,e){Ji(n),e=Ra(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yL(n,e){return Ji(n),e=Ra(n,e),n.g.has(e)}function _L(n,e,t){mL(n,e),0<t.length&&(n.i=null,n.g.set(Ra(n,e),XC(t)),n.h+=t.length)}function Ra(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vL(n){this.l=n||Bre,n=q.PerformanceNavigationTiming?0<(n=q.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(q.g&&q.g.Ka&&q.g.Ka()&&q.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=rl.prototype).add=function(n,e){Ji(this),this.i=null,n=Ra(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},M.forEach=function(n,e){Ji(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},M.ta=function(){Ji(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},M.Z=function(n){Ji(this);let e=[];if("string"==typeof n)yL(this,n)&&(e=e.concat(this.g.get(Ra(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},M.set=function(n,e){return Ji(this),this.i=null,yL(this,n=Ra(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},M.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Bre=10;function wL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EL(n){return n.h?1:n.g?n.g.size:0}function TD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function AD(n,e){n.g?n.g.add(e):n.h=e}function IL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function CL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return XC(n.i)}function $re(){this.g=new class{stringify(n){return q.JSON.stringify(n,void 0)}parse(n){return q.JSON.parse(n,void 0)}}}function Hre(n,e,t){const r=t||"";try{hL(n,function(i,s){let o=i;$c(i)&&(o=gD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function il(n){this.l=n.fc||null,this.j=n.ob||!1}function Wf(n,e){Mt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=SD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vL.prototype.cancel=function(){if(this.i=CL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xt(il,vD),il.prototype.g=function(){return new Wf(this.l,this.j)},il.prototype.i=function(n){return function(){return n}}({}),xt(Wf,Mt);var SD=0;function DL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ol(n)}function ol(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(M=Wf.prototype).open=function(n,e){if(this.readyState!=SD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ol(this)},M.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sl(this)),this.readyState=SD},M.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==q.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sl(this):ol(this),3==this.readyState&&DL(this)}},M.Za=function(n){this.g&&(this.response=this.responseText=n,sl(this))},M.Ya=function(n){this.g&&(this.response=n,sl(this))},M.ka=function(){this.g&&sl(this)},M.setRequestHeader=function(n,e){this.v.append(n,e)},M.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qre=q.JSON.parse;function Je(n){Mt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bL,this.L=this.M=!1}xt(Je,Mt);var bL="",zre=/^https?$/i,Wre=["POST","PUT"];function TL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,AL(n),Kf(n)}function AL(n){n.F||(n.F=!0,jt(n,"complete"),jt(n,"error"))}function SL(n){if(n.h&&void 0!==YC&&(!n.C[1]||4!=jr(n)||2!=n.da()))if(n.v&&4==jr(n))_D(n.La,0,n);else if(jt(n,"readystatechange"),4==jr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(fL)[1]||null;!i&&q.self&&q.self.location&&(i=q.self.location.protocol.slice(0,-1)),r=!zre.test(i?i.toLowerCase():"")}t=r}if(t)jt(n,"complete"),jt(n,"success");else{n.m=6;try{var s=2<jr(n)?n.g.statusText:""}catch(a){s=""}n.j=s+" ["+n.da()+"]",AL(n)}}finally{Kf(n)}}}function Kf(n,e){if(n.g){xL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||jt(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function xL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(q.clearTimeout(n.A),n.A=null)}function jr(n){return n.g?n.g.readyState:0}function ML(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case bL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function kL(n){let e="";return oD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function xD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=kL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xe(n,e,t))}function al(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NL(n){this.Ga=0,this.j=[],this.l=new Lf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=al("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=al("baseRetryDelayMs",5e3,n),this.hb=al("retryDelaySeedMs",1e4,n),this.eb=al("forwardChannelMaxRetries",2,n),this.xa=al("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new vL(n&&n.concurrentRequestLimit),this.Ja=new $re,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function MD(n){if(RL(n),3==n.H){var e=n.W++,t=Ei(n.I);if(xe(t,"SID",n.K),xe(t,"RID",e),xe(t,"TYPE","terminate"),ul(n,t),(e=new Xc(n,n.l,e)).L=2,e.v=qf(Ei(t)),t=!1,q.navigator&&q.navigator.sendBeacon)try{t=q.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!t&&q.Image&&((new Image).src=e.v,t=!0),t||(e.g=$L(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zc(e)}BL(n)}function Qf(n){n.g&&(ND(n),n.g.cancel(),n.g=null)}function RL(n){Qf(n),n.u&&(q.clearTimeout(n.u),n.u=null),Jf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&q.clearTimeout(n.m),n.m=null)}function Yf(n){if(!wL(n.i)&&!n.m){n.m=!0;var e=n.Na;zc||QF(),Wc||(zc(),Wc=!0),mD.add(e,n),n.C=0}}function PL(n,e){var t;t=e?e.m:n.W++;const r=Ei(n.I);xe(r,"SID",n.K),xe(r,"RID",t),xe(r,"AID",n.V),ul(n,r),n.o&&n.s&&xD(r,n.o,n.s),t=new Xc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=OL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),AD(n.i,t),DD(t,r,e)}function ul(n,e){n.na&&oD(n.na,function(t,r){xe(e,r,t)}),n.h&&hL({},function(t,r){xe(e,r,t)})}function OL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Xt(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Hre(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function FL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;zc||QF(),Wc||(zc(),Wc=!0),mD.add(e,n),n.A=0}}function kD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Yc(Xt(n.Ma,n),UL(n,n.A)),n.A++,0))}function ND(n){null!=n.B&&(q.clearTimeout(n.B),n.B=null)}function LL(n){n.g=new Xc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ei(n.wa);xe(e,"RID","rpc"),xe(e,"SID",n.K),xe(e,"AID",n.V),xe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&xe(e,"TO",n.qa),xe(e,"TYPE","xmlhttp"),ul(n,e),n.o&&n.s&&xD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=qf(Ei(e)),t.s=null,t.S=!0,uL(t,n)}function Jf(n){null!=n.v&&(q.clearTimeout(n.v),n.v=null)}function VL(n,e){var t=null;if(n.g==e){Jf(n),ND(n),n.g=null;var r=2}else{if(!TD(n.i,e))return;t=e.F,IL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;jt(r=Vf(),new rL(r,t)),Yf(n)}else FL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Yre(n,e){return!(EL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Yc(Xt(n.Na,n,e),UL(n,n.C)),n.C++,0)))}(n,e)||2==r&&kD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ro(n,5);break;case 4:ro(n,10);break;case 3:ro(n,6);break;default:ro(n,2)}}function UL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ro(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Xt(n.pb,n);t||(t=new no("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Hf(t,"https"),qf(t)),function Gre(n,e){const t=new Lf;if(q.Image){const r=new Image;r.onload=kf(zf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=kf(zf,t,r,"TestLoadImage: error",!1,e),r.onabort=kf(zf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=kf(zf,t,r,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mn(2);n.H=0,n.h&&n.h.za(e),BL(n),RL(n)}function BL(n){if(n.H=0,n.ma=[],n.h){const e=CL(n.i);(0!=e.length||0!=n.j.length)&&(OF(n.ma,e),OF(n.ma,n.j),n.i.i.length=0,XC(n.j),n.j.length=0),n.h.ya()}}function jL(n,e,t){var r=t instanceof no?Ei(t):new no(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Gf(r,r.m);else{var i=q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new no(null);r&&Hf(s,r),e&&(s.g=e),i&&Gf(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&xe(r,t,e),xe(r,"VER",n.ra),ul(n,r),r}function $L(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(t&&n.Ha&&!n.va?new il({ob:!0}):n.va)).Oa(n.J),e}function HL(){}function Xf(){if(ka&&!(10<=Number(cre)))throw Error("Environmental error: no available transport.")}function Un(n,e){Mt.call(this),this.g=new NL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Pa(this)}function GL(n){wD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qL(){ED.call(this),this.status=1}function Pa(n){this.g=n}function yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function RD(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function we(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(M=Je.prototype).Oa=function(n){this.M=n},M.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ID.g(),this.C=function sL(n){return n.h||(n.h=n.i())}(this.u?this.u:ID),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void TL(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=q.FormData&&n instanceof q.FormData,!(0<=PF(Wre,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xL(this),0<this.B&&((this.L=function Kre(n){return ka&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=_D(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){TL(this,s)}},M.ua=function(){void 0!==YC&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},M.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jt(this,"complete"),jt(this,"abort"),Kf(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kf(this,!0)),Je.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?SL(this):this.kb())},M.kb=function(){SL(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<jr(this)?this.g.status:-1}catch(n){return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},M.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qre(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=NL.prototype).ra=8,M.H=1,M.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Xc(this,this.l,n);let s=this.s;if(this.U&&(s?(s=BF(s),$F(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=OL(this,i,e),xe(t=Ei(this.I),"RID",n),xe(t,"CVER",22),this.F&&xe(t,"X-HTTP-Session-Id",this.F),ul(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(kL(s)))+"&"+e:this.o&&xD(t,this.o,s)),AD(this.i,i),this.bb&&xe(t,"TYPE","init"),this.P?(xe(t,"$req",e),xe(t,"SID","null"),i.aa=!0,DD(i,t,null)):DD(i,t,e),this.H=2}}else 3==this.H&&(n?PL(this,n):0==this.j.length||wL(this.i)||PL(this))},M.Ma=function(){if(this.u=null,LL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Yc(Xt(this.jb,this),n)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),Qf(this),LL(this))},M.ib=function(){null!=this.v&&(this.v=null,Qf(this),kD(this),mn(19))},M.pb=function(n){n?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=HL.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},Xf.prototype.g=function(n,e){return new Un(n,e)},xt(Un,Mt),Un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;mn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=jL(n,null,n.Y),Yf(n)},Un.prototype.close=function(){MD(this.g)},Un.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=gD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Yf(e)},Un.prototype.N=function(){this.g.h=null,delete this.j,MD(this.g),delete this.g,Un.$.N.call(this)},xt(GL,wD),xt(qL,ED),xt(Pa,HL),Pa.prototype.Ba=function(){jt(this.g,"a")},Pa.prototype.Aa=function(n){jt(this.g,new GL(n))},Pa.prototype.za=function(n){jt(this.g,new qL)},Pa.prototype.ya=function(){jt(this.g,"b")},xt(yr,function Jre(){this.blockSize=-1}),yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)RD(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){RD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){RD(this,r),i=0;break}}this.h=i,this.i+=e},yr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Xre={};function PD(n){return-128<=n&&128>n?function ore(n,e){var t=Xre;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new we([0|e],0>e?-1:0)}):new we([0|n],0>n?-1:0)}function $r(n){if(isNaN(n)||!isFinite(n))return Oa;if(0>n)return $t($r(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=OD;return new we(e,0)}var OD=4294967296,Oa=PD(0),FD=PD(1),WL=PD(16777216);function Ii(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function tr(n){return-1==n.h}function $t(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new we(t,~n.h).add(FD)}function Zf(n,e){return n.add($t(e))}function ep(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function cl(n,e){this.g=n,this.h=e}function tp(n,e){if(Ii(e))throw Error("division by zero");if(Ii(n))return new cl(Oa,Oa);if(tr(n))return e=tp($t(n),e),new cl($t(e.g),$t(e.h));if(tr(e))return e=tp(n,$t(e)),new cl($t(e.g),e.h);if(30<n.g.length){if(tr(n)||tr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=FD,r=e;0>=r.X(n);)t=KL(t),r=KL(r);var i=Fa(t,1),s=Fa(r,1);for(r=Fa(r,2),t=Fa(t,2);!Ii(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Fa(r,1),t=Fa(t,1)}return e=Zf(n,i.R(e)),new cl(i,e)}for(i=Oa;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=$r(t)).R(e);tr(o)||0<o.X(n);)o=(s=$r(t-=r)).R(e);Ii(s)&&(s=FD),i=i.add(s),n=Zf(n,o)}return new cl(i,n)}function KL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new we(t,n.h)}function Fa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new we(i,n.h)}(M=we.prototype).ea=function(){if(tr(this))return-$t(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:OD+r)*e,e*=OD}return n},M.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ii(this))return"0";if(tr(this))return"-"+$t(this).toString(n);for(var e=$r(Math.pow(n,6)),t=this,r="";;){var i=tp(t,e).g,s=((0<(t=Zf(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ii(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},M.X=function(n){return tr(n=Zf(this,n))?-1:Ii(n)?0:1},M.abs=function(){return tr(this)?$t(this):this},M.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new we(t,-2147483648&t[t.length-1]?-1:0)},M.R=function(n){if(Ii(this)||Ii(n))return Oa;if(tr(this))return tr(n)?$t(this).R($t(n)):$t($t(this).R(n));if(tr(n))return $t(this.R($t(n)));if(0>this.X(WL)&&0>n.X(WL))return $r(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,ep(t,2*r+2*i),t[2*r+2*i+1]+=s*u,ep(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,ep(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,ep(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new we(t,0)},M.gb=function(n){return tp(this,n).h},M.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new we(t,this.h&n.h)},M.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new we(t,this.h|n.h)},M.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new we(t,this.h^n.h)},Xf.prototype.createWebChannel=Xf.prototype.g,Un.prototype.send=Un.prototype.u,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,Uf.NO_ERROR=0,Uf.TIMEOUT=8,Uf.HTTP_ERROR=6,iL.COMPLETE="complete",oL.EventType=Jc,Jc.OPEN="a",Jc.CLOSE="b",Jc.ERROR="c",Jc.MESSAGE="d",Mt.prototype.listen=Mt.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,yr.prototype.digest=yr.prototype.l,yr.prototype.reset=yr.prototype.reset,yr.prototype.update=yr.prototype.j,we.prototype.add=we.prototype.add,we.prototype.multiply=we.prototype.R,we.prototype.modulo=we.prototype.gb,we.prototype.compare=we.prototype.X,we.prototype.toNumber=we.prototype.ea,we.prototype.toString=we.prototype.toString,we.prototype.getBits=we.prototype.D,we.fromNumber=$r,we.fromString=function zL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return $t(zL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=$r(Math.pow(e,8)),r=Oa,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=$r(Math.pow(e,s)),r=r.R(s).add($r(o))):r=(r=r.R(t)).add($r(o))}return r};var Zre=mr.createWebChannelTransport=function(){return new Xf},eie=mr.getStatEventTarget=function(){return Vf()},LD=mr.ErrorCode=Uf,tie=mr.EventType=iL,nie=mr.Event=eo,QL=mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rie=mr.FetchXmlHttpFactory=il,np=mr.WebChannel=oL,iie=mr.XhrIo=Je,sie=mr.Md5=yr,La=mr.Integer=we;const YL="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let Va="9.23.0";const Xi=new wa("@firebase/firestore");function VD(){return Xi.logLevel}function T(n,...e){if(Xi.logLevel<=de.DEBUG){const t=e.map(UD);Xi.debug(`Firestore (${Va}): ${n}`,...t)}}function tt(n,...e){if(Xi.logLevel<=de.ERROR){const t=e.map(UD);Xi.error(`Firestore (${Va}): ${n}`,...t)}}function _r(n,...e){if(Xi.logLevel<=de.WARN){const t=e.map(UD);Xi.warn(`Firestore (${Va}): ${n}`,...t)}}function UD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function R(n="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+n;throw tt(e),new Error(e)}function F(n,e){n||R()}function x(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class JL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kt.UNAUTHENTICATED))}shutdown(){}}class aie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uie{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _t,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _t)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(F("string"==typeof r.accessToken),new JL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return F(null===e||"string"==typeof e),new kt(e)}}class cie{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class lie{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new cie(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class die{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(F("string"==typeof t.token),this.T=t.token,new XL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hie(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ZL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function $(n,e){return n<e?-1:n>e?1:0}function Ua(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class $e{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $e(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$(this.nanoseconds,e.nanoseconds):$(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new $e(0,0))}static max(){return new L(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ll{constructor(e,t,r){void 0===t?t=0:t>e.length&&R(),void 0===r?r=e.length-t:r>e.length-t&&R(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ll.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pe extends ll{construct(e,t,r){return new pe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pe(t)}static emptyPath(){return new pe([])}}const fie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends ll{construct(e,t,r){return new nt(e,t,r)}static isValidIdentifier(e){return fie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(t)}static emptyPath(){return new nt([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(pe.fromString(e))}static fromName(e){return new S(pe.fromString(e).popFirst(5))}static empty(){return new S(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new pe(e.slice()))}}function nV(n){return new Bn(n.readTime,n.key,-1)}class Bn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bn(L.min(),S.empty(),-1)}static max(){return new Bn(L.max(),S.empty(),-1)}}function jD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=S.comparator(n.documentKey,e.documentKey),0!==t?t:$(n.largestBatchId,e.largestBatchId))}const rV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Zi(n){return $D.apply(this,arguments)}function $D(){return $D=g(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==rV)throw n;T("LocalStore","Unexpectedly lost primary lease")}),$D.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function es(n){return"IndexedDbTransactionError"===n.name}let jn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function fl(n){return null==n}function pl(n){return 0===n&&1/n==-1/0}function hV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Se{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new Se(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ap(this.root,e,this.comparator,!0)}}class ap{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Ht.RED,this.left=null!=i?i:Ht.EMPTY,this.right=null!=s?s:Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ht(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ht(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pV(this.data.getIterator())}getIteratorFrom(e){return new pV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Me(this.comparator);return t.data=e,t}}class pV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new Me(nt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw"undefined"!=typeof DOMException&&i instanceof DOMException?new gV("Invalid base64 string: "+i):i}}(e);return new vt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const Uie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(F(!!n),"string"==typeof n){let e=0;const t=Uie.exec(n);if(F(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(n.seconds),nanos:Xe(n.nanos)}}function Xe(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ci(n){return"string"==typeof n?vt.fromBase64String(n):vt.fromUint8Array(n)}function up(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cp(n){const e=n.mapValue.fields.__previous_value__;return up(e)?cp(e):e}function gl(n){const e=ns(n.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}class Bie{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class oo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oo&&e.projectId===this.projectId&&e.database===this.database}}const rs_mapValue={fields:{__type__:{stringValue:"__max__"}}};function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?up(n)?4:vV(n)?9007199254740991:10:R()}function Gr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gl(n).isEqual(gl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ns(r.timestampValue),o=ns(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ci(n.bytesValue).isEqual(Ci(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Xe(r.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xe(r.integerValue)===Xe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Xe(r.doubleValue),o=Xe(i.doubleValue);return s===o?pl(s)===pl(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ua(n.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(hV(s)!==hV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Gr(s[a],o[a])))return!1;return!0}(n,e);default:return R()}var i}function ml(n,e){return void 0!==(n.values||[]).find(t=>Gr(t,e))}function ss(n,e){if(n===e)return 0;const t=is(n),r=is(e);if(t!==r)return $(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Xe(i.integerValue||i.doubleValue),a=Xe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return mV(n.timestampValue,e.timestampValue);case 4:return mV(gl(n),gl(e));case 5:return $(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ci(i),a=Ci(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=$(o[u],a[u]);if(0!==c)return c}return $(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=$(Xe(i.latitude),Xe(s.latitude));return 0!==o?o:$(Xe(i.longitude),Xe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ss(o[u],a[u]);if(c)return c}return $(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===rs_mapValue&&s===rs_mapValue)return 0;if(i===rs_mapValue)return 1;if(s===rs_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=$(a[l],c[l]);if(0!==d)return d;const h=ss(o[a[l]],u[c[l]]);if(0!==h)return h}return $(a.length,c.length)}(n.mapValue,e.mapValue);default:throw R()}}function mV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $(n,e);const t=ns(n),r=ns(e),i=$(t.seconds,r.seconds);return 0!==i?i:$(t.nanos,r.nanos)}function ja(n){return qD(n)}function qD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ns(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ci(n.bytesValue).toBase64():"referenceValue"in n?S.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=qD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${qD(r.fields[a])}`;return s+"}"}(n.mapValue):R();var e}function zD(n){return!!n&&"integerValue"in n}function yl(n){return!!n&&"arrayValue"in n}function yV(n){return!!n&&"nullValue"in n}function _V(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hp(n){return!!n&&"mapValue"in n}function _l(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ts(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_l(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_l(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(t)}setAll(e){let t=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=_l(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());hp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ts(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(_l(this.value))}}function IV(n){const e=[];return ts(n.fields,(t,r)=>{const i=new nt([t]);if(hp(r)){const s=IV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Tn(e)}class ke{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ke(e,0,L.min(),L.min(),L.min(),Gt.empty(),0)}static newFoundDocument(e,t,r,i){return new ke(e,1,t,L.min(),r,i,0)}static newNoDocument(e,t){return new ke(e,2,t,L.min(),L.min(),Gt.empty(),0)}static newUnknownDocument(e,t){return new ke(e,3,t,L.min(),L.min(),Gt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(L.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class os{constructor(e,t){this.position=e,this.inclusive=t}}function CV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),t.key):ss(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gr(n.position[t],e.position[t]))return!1;return!0}class $a{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class bV{}class ae extends bV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Gie(e,t,r):"array-contains"===t?new Wie(e,r):"in"===t?new kV(e,r):"not-in"===t?new Kie(e,r):"array-contains-any"===t?new Qie(e,r):new ae(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new qie(e,r):new zie(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ss(t,this.value)):null!==t&&is(this.value)===is(t)&&this.matchesComparison(ss(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ee extends bV{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ee(e,t)}matches(e){return Ha(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ha(n){return"and"===n.op}function KD(n){return function TV(n){for(const e of n.filters)if(e instanceof Ee)return!1;return!0}(n)&&Ha(n)}function QD(n){if(n instanceof ae)return n.field.canonicalString()+n.op.toString()+ja(n.value);if(KD(n))return n.filters.map(e=>QD(e)).join(",");{const e=n.filters.map(t=>QD(t)).join(",");return`${n.op}(${e})`}}function AV(n,e){return n instanceof ae?(t=n,(r=e)instanceof ae&&t.op===r.op&&t.field.isEqual(r.field)&&Gr(t.value,r.value)):n instanceof Ee?function(t,r){return r instanceof Ee&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&AV(s,r.filters[o]),!0)}(n,e):void R();var t,r}function xV(n){return n instanceof ae?`${(e=n).field.canonicalString()} ${e.op} ${ja(e.value)}`:n instanceof Ee?function(e){return e.op.toString()+" {"+e.getFilters().map(xV).join(" ,")+"}"}(n):"Filter";var e}class Gie extends ae{constructor(e,t,r){super(e,t,r),this.key=S.fromName(r.referenceValue)}matches(e){const t=S.comparator(e.key,this.key);return this.matchesComparison(t)}}class qie extends ae{constructor(e,t){super(e,"in",t),this.keys=MV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zie extends ae{constructor(e,t){super(e,"not-in",t),this.keys=MV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function MV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>S.fromName(r.referenceValue))}class Wie extends ae{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yl(t)&&ml(t.arrayValue,this.value)}}class kV extends ae{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ml(this.value.arrayValue,t)}}class Kie extends ae{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ml(this.value.arrayValue,t)}}class Qie extends ae{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}class Yie{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function YD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Yie(n,e,t,r,i,s,o)}function uo(n){const e=x(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>QD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ja(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ja(r)).join(",")),e.dt=t}return e.dt}function vl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DV(n.startAt,e.startAt)&&DV(n.endAt,e.endAt)}function fp(n){return S.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Di{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Ga(n){return new Di(n)}function OV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function co(n){const e=x(n);if(null===e.wt){e.wt=[];const t=function gp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function JD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new $a(t)),e.wt.push(new $a(nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $a(nt.keyField(),s))}}}return e.wt}function yn(n){const e=x(n);if(!e._t)if("F"===e.limitType)e._t=YD(e.path,e.collectionGroup,co(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of co(e))t.push(new $a(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new os(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new os(e.startAt.position,e.startAt.inclusive):null;e._t=YD(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function mp(n,e,t){return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wl(n,e){return vl(yn(n),yn(e))&&n.limitType===e.limitType}function FV(n){return`${uo(yn(n))}|lt:${n.limitType}`}function eb(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>xV(r)).join(", ")}]`),fl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ja(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ja(r)).join(",")),`Target(${t})`}(yn(n))}; limitType=${n.limitType})`}function El(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):S.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of co(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=CV(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,co(t),r)||t.endAt&&!function(i,s,o){const a=CV(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,co(t),r)));var t,r}function VV(n){return(e,t)=>{let r=!1;for(const i of co(n)){const s=Jie(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Jie(n,e,t){const r=n.field.isKeyField()?S.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ss(a,u):R()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}class bi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fV(this.inner)}size(){return this.innerSize}}const Xie=new Se(S.comparator);function An(){return Xie}const UV=new Se(S.comparator);function Il(...n){let e=UV;for(const t of n)e=e.insert(t.key,t);return e}function BV(n){let e=UV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qr(){return Cl()}function jV(){return Cl()}function Cl(){return new bi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Zie=new Se(S.comparator),ese=new Me(S.comparator);function Z(...n){let e=ese;for(const t of n)e=e.add(t);return e}const tse=new Me($);function $V(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pl(e)?"-0":e}}function HV(n){return{integerValue:""+n}}function GV(n,e){return function sV(n){return"number"==typeof n&&Number.isInteger(n)&&!pl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?HV(e):$V(n,e)}class yp{constructor(){this._=void 0}}function nse(n,e,t){return n instanceof qa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&up(i)&&(i=cp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof lo?zV(n,e):n instanceof ho?WV(n,e):function(r,i){const s=qV(r,i),o=KV(s)+KV(r.gt);return zD(s)&&zD(r.gt)?HV(o):$V(r.serializer,o)}(n,e)}function rse(n,e,t){return n instanceof lo?zV(n,e):n instanceof ho?WV(n,e):t}function qV(n,e){return n instanceof za?zD(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class qa extends yp{}class lo extends yp{constructor(e){super(),this.elements=e}}function zV(n,e){const t=QV(e);for(const r of n.elements)t.some(i=>Gr(i,r))||t.push(r);return{arrayValue:{values:t}}}class ho extends yp{constructor(e){super(),this.elements=e}}function WV(n,e){let t=QV(e);for(const r of n.elements)t=t.filter(i=>!Gr(i,r));return{arrayValue:{values:t}}}class za extends yp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function KV(n){return Xe(n.integerValue||n.doubleValue)}function QV(n){return yl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sse{constructor(e,t){this.version=e,this.transformResults=t}}class Le{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Le}static exists(e){return new Le(void 0,e)}static updateTime(e){return new Le(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vp{}function YV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ka(n.key,Le.none()):new Wa(n.key,n.data,Le.none());{const t=n.data,r=Gt.empty();let i=new Me(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ti(n.key,r,new Tn(i.toArray()),Le.none())}}function ose(n,e,t){n instanceof Wa?function(r,i,s){const o=r.value.clone(),a=ZV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ti?function(r,i,s){if(!_p(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ZV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(XV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bl(n,e,t,r){return n instanceof Wa?function(i,s,o,a){if(!_p(i.precondition,s))return o;const u=i.value.clone(),c=e2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ti?function(i,s,o,a){if(!_p(i.precondition,s))return o;const u=e2(i.fieldTransforms,a,s),c=s.data;return c.setAll(XV(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,_p(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function ase(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=qV(r.transform,i||null);null!=s&&(null===t&&(t=Gt.empty()),t.set(r.field,s))}return t||null}function JV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ua(t,r,(i,s)=>function ise(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof lo&&r instanceof lo||t instanceof ho&&r instanceof ho?Ua(t.elements,r.elements,Gr):t instanceof za&&r instanceof za?Gr(t.gt,r.gt):t instanceof qa&&r instanceof qa);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Wa extends vp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ti extends vp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ZV(n,e,t){const r=new Map;F(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rse(o,a,t[i]))}return r}function e2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,nse(s,o,e))}return r}class Ka extends vp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nb extends vp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ose(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=YV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(L.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Z())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(t,r)=>JV(t,r))&&Ua(this.baseMutations,e.baseMutations,(t,r)=>JV(t,r))}}class ib{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){F(e.mutations.length===r.length);let i=Zie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ib(e,t,r,i)}}class sb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cse{constructor(e,t){this.count=e,this.unchangedNames=t}}var lt,ge;function t2(n){switch(n){default:return R();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function n2(n){if(void 0===n)return tt("GRPC error has no .code"),E.UNKNOWN;switch(n){case lt.OK:return E.OK;case lt.CANCELLED:return E.CANCELLED;case lt.UNKNOWN:return E.UNKNOWN;case lt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case lt.INTERNAL:return E.INTERNAL;case lt.UNAVAILABLE:return E.UNAVAILABLE;case lt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case lt.NOT_FOUND:return E.NOT_FOUND;case lt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case lt.ABORTED:return E.ABORTED;case lt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case lt.DATA_LOSS:return E.DATA_LOSS;default:return R()}}(ge=lt||(lt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";class ob{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wp}static getOrCreateInstance(){return null===wp&&(wp=new ob),wp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let wp=null;const lse=new La([4294967295,4294967295],0);function i2(n){const e=function r2(){return new TextEncoder}().encode(n),t=new sie;return t.update(e),new Uint8Array(t.digest())}function s2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new La([t,r],0),new La([i,s],0)]}class ab{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tl(`Invalid padding: ${t}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Tl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Tl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=La.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(La.fromNumber(r)));return 1===i.compare(lse)&&(i=new La([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=i2(e),[r,i]=s2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ab(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=i2(e),[r,i]=s2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Al{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Al(L.min(),i,new Se($),An(),Z())}}class Sl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sl(r,t,Z(),Z(),Z())}}class Ep{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class o2{constructor(e,t){this.targetId=e,this.Vt=t}}class a2{constructor(e,t,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class u2{constructor(){this.St=0,this.Dt=l2(),this.Ct=vt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Z(),t=Z(),r=Z();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:R()}}),new Sl(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=l2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class dse{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=An(),this.zt=c2(),this.Wt=new Se($)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:R()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(fp(o))if(0===i){const a=new S(o.path);this.Yt(r,a,ke.newNoDocument(a,L.min()))}else F(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ob.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},I=d.unchangedNames;return I&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=null==I?void 0:I.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=null==I?void 0:I.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=null==I?void 0:I.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ci(s).toUint8Array()}catch(l){if(l instanceof gV)return _r("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new ab(u,o,a)}catch(l){return _r(l instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&fp(a.target)){const u=new S(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,ke.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=Z();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Al(e,t,this.Wt,this.jt,r);return this.jt=An(),this.zt=c2(),this.Wt=new Se($),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new u2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Me($),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new u2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function c2(){return new Se(S.comparator)}function l2(){return new Se(S.comparator)}const hse={asc:"ASCENDING",desc:"DESCENDING"},fse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pse={and:"AND",or:"OR"};class gse{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ub(n,e){return n.useProto3Json||fl(e)?e:{value:e}}function Qa(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mse(n,e){return Qa(n,e.toTimestamp())}function rt(n){return F(!!n),L.fromTimestamp(function(e){const t=ns(e);return new $e(t.seconds,t.nanos)}(n))}function cb(n,e){return(t=n,new pe(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function h2(n){const e=pe.fromString(n);return F(E2(e)),e}function xl(n,e){return cb(n.databaseId,e.path)}function zr(n,e){const t=h2(e);if(t.get(1)!==n.databaseId.projectId)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new S(p2(t))}function lb(n,e){return cb(n.databaseId,e)}function Ml(n){return new pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function p2(n){return F(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function g2(n,e,t){return{name:xl(n,e),fields:t.value.mapValue.fields}}function y2(n,e){return{documents:[lb(n,e.path)]}}function hb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return w2(Ee.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:as((l=c).field),direction:Ese(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=ub(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function _2(n){let e=function f2(n){const e=h2(n);return 4===e.length?pe.emptyPath():p2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){F(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=v2(l);return d instanceof Ee&&KD(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new $a(Ya((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,fl(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new os((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new os(l.values||[],!l.before)}(t.endAt)),function PV(n,e,t,r,i,s,o,a){return new Di(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function v2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ya(e.unaryFilter.field);return ae.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ya(e.unaryFilter.field);return ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ya(e.unaryFilter.field);return ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ya(e.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return R()}}(n):void 0!==n.fieldFilter?ae.create(Ya((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ee.create(e.compositeFilter.filters.map(t=>v2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return R()}}(e.compositeFilter.op))}(n):R();var e}function Ese(n){return hse[n]}function Ise(n){return fse[n]}function Cse(n){return pse[n]}function as(n){return{fieldPath:n.canonicalString()}}function Ya(n){return nt.fromServerFormat(n.fieldPath)}function w2(n){return n instanceof ae?function(e){if("=="===e.op){if(_V(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NAN"}};if(yV(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_V(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NAN"}};if(yV(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(e.field),op:Ise(e.op),value:e.value}}}(n):n instanceof Ee?function(e){const t=e.getFilters().map(r=>w2(r));return 1===t.length?t[0]:{compositeFilter:{op:Cse(e.op),filters:t}}}(n):R()}function Dse(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ai{constructor(e,t,r,i,s=L.min(),o=L.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I2{constructor(e){this.fe=e}}function fb(n){const e=_2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mp(e,e.limit,"L"):e}class mo{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),pl(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ci(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?vV(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):R()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),S.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}mo.Ve=new mo;class Rse{constructor(){this.rn=new vb}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Bn.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class vb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Me(pe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(pe.comparator)).toArray()}}new Uint8Array(0);class tn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class _o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _o(0)}static Mn(){return new _o(-1)}}class $se{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class K2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&bl(r.mutation,i,Tn.empty(),$e.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Z()){const i=qr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Il();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=qr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Z()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=An();const o=Cl(),a=Cl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ti)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),bl(l.mutation,c,l.mutation.getFieldMask(),$e.now())):o.set(c.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new $se(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Cl();let i=new Se((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Tn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=jV();l.forEach(h=>{if(!s.has(h)){const f=YV(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return S.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function XD(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(qr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:BV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new S(t)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Il();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=t,l=a.child(i),new Di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,ke.newInvalidDocument(c)))});let o=Il();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&bl(c.mutation,u,Tn.empty(),$e.now()),El(t,u)&&(o=o.insert(a,u))}),o})}}class Hse{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:rt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:fb(r.bundledQuery),readTime:rt(r.readTime)}),w.resolve();var r}}class Gse{constructor(){this.overlays=new Se(S.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qr();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=qr(),s=t.length+1,o=new S(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Se((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=qr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=qr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sb(t,r));let s=this.ls.get(t);void 0===s&&(s=Z(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class wb{constructor(){this.fs=new Me(Rt.ds),this.ws=new Me(Rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Rt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new S(new pe([])),r=new Rt(t,e),i=new Rt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new S(new pe([])),r=new Rt(t,e),i=new Rt(t,e+1);let s=Z();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Rt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return S.comparator(e.key,t.key)||$(e.As,t.As)}static _s(e,t){return $(e.As,t.As)||S.comparator(e.key,t.key)}}class qse{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Me(Rt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new rb(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Me($);return t.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new S(s),0);let a=new Me($);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){F(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const s=new Rt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Rt(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zse{constructor(e){this.Ds=e,this.docs=new Se(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():ke.newInvalidDocument(t))}getEntries(e,t){let r=An();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ke.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=An();const o=t.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jD(nV(l),r)<=0||(i.has(l.key)||El(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){R()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wse(this)}getSize(e){return w.resolve(this.size)}}class Wse extends class Use{constructor(){this.changes=new bi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Kse{constructor(e){this.persistence=e,this.xs=new bi(t=>uo(t),vl),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wb,this.targetCount=0,this.Ms=_o.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class Eb{constructor(e,t){this.$s={},this.overlays={},this.Os=new jn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Kse(this),this.indexManager=new Rse,this.remoteDocumentCache=new zse(r=>this.referenceDelegate.Ls(r)),this.serializer=new I2(t),this.qs=new Hse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gse,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new qse(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new Qse(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Qse extends class mie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Qs=new wb,this.js=null}static zs(e){return new Mp(e)}get Ws(){if(this.js)return this.js;throw R()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=S.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,L.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class bb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Z(),i=Z();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bb(e,t.fromCache,r,i)}}class Y2{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(OV(t))return w.resolve(null);let r=yn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=mp(t,null,"F"),r=yn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(t,a);return this.zi(t,c,o,u.readTime)?this.Ki(e,mp(t,null,"F")):this.Wi(e,c,t,u)}))})))}Gi(e,t,r,i){return OV(t)||i.isEqual(L.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(VD()<=de.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eb(t)),this.Wi(e,o,t,function tV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=L.fromTimestamp(1e9===r?new $e(t+1,0):new $e(t,r));return new Bn(i,S.empty(),e)}(i,-1)))})}ji(e,t){let r=new Me(VV(e));return t.forEach((i,s)=>{El(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return VD()<=de.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",eb(t)),this.Ui.getDocumentsMatchingQuery(e,t,Bn.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Jse{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Se($),this.Yi=new bi(s=>uo(s),vl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function X2(n,e){return Tb.apply(this,arguments)}function Tb(){return Tb=g(function*(n,e){const t=x(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Z();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),Tb.apply(this,arguments)}function Xse(n,e){const t=x(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);F(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Z();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Z2(n){const e=x(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Zse(n,e){const t=x(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(vt.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=An(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function eU(n,e,t){let r=Z(),i=Z();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=An();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(L.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(L.min())){const l=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ji=i,s))}function eoe(n,e){const t=x(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Za(n,e){const t=x(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function eu(n,e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=g(function*(n,e,t){const r=x(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!es(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Ab.apply(this,arguments)}function Rp(n,e,t){const r=x(n);let i=L.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:L.min(),t?s:Z())).next(a=>(function rU(n,e,t){let r=n.Xi.get(e)||L.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function LV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class Nb{constructor(){this.activeTargetIds=function tb(){return tse}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oU{constructor(){this.Hr=new Nb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Nb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class roe{Yr(e){}shutdown(){}}class aU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fp=null;function Pb(){return null===Fp?Fp=268435456+Math.round(2147483648*Math.random()):Fp++,"0x"+Fp.toString(16)}const ioe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class soe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const nn="WebChannelConnection";class ooe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=Pb(),a=this.To(e,t);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw _r("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Va,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${ioe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=Pb();return new Promise((o,a)=>{const u=new iie;u.setWithCredentials(!0),u.listenOnce(tie.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case LD.NO_ERROR:const l=u.getResponseJson();T(nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case LD.TIMEOUT:T(nn,`RPC '${e}' ${s} timed out`),a(new C(E.DEADLINE_EXCEEDED,"Request time out"));break;case LD.HTTP_ERROR:const d=u.getStatus();if(T(nn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null==h?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(y)>=0?y:E.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(E.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{T(nn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(nn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=Pb(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zre(),a=eie(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new rie({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(nn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new soe({ro:y=>{f?T(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(nn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(nn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,I=>{try{_(I)}catch(P){setTimeout(()=>{throw P},0)}})};return m(d,np.EventType.OPEN,()=>{f||T(nn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,np.EventType.CLOSE,()=>{f||(f=!0,T(nn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,np.EventType.ERROR,y=>{f||(f=!0,_r(nn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(E.UNAVAILABLE,"The operation could not be completed")))}),m(d,np.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];F(!!_);const I=_,P=I.error||(null===(v=I[0])||void 0===v?void 0:v.error);if(P){T(nn,`RPC '${e}' stream ${i} received error:`,P);const V=P.status;let Y=function($n){const Qr=lt[$n];if(void 0!==Qr)return n2(Qr)}(V),Re=P.message;void 0===Y&&(Y=E.INTERNAL,Re="Unknown error status: "+V+" with message "+P.message),f=!0,p.wo(new C(Y,Re)),d.close()}else T(nn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,nie.STAT_EVENT,y=>{y.stat===QL.PROXY?T(nn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===QL.NOPROXY&&T(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Lp(){return"undefined"!=typeof document?document:null}function Bl(n){return new gse(n,!0)}class Ob{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class cU{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ob(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(tt(t.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new C(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aoe extends cU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function _se(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(F(void 0===c||"string"==typeof c),vt.fromBase64String(c||"")):(F(void 0===c||c instanceof Uint8Array),vt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:n2(u.code);return new C(c,u.message||"")}(o);t=new a2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=zr(n,r.document.name),s=rt(r.document.updateTime),o=r.document.createTime?rt(r.document.createTime):L.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=ke.newFoundDocument(i,s,o,a);t=new Ep(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=zr(n,r.document),s=r.readTime?rt(r.readTime):L.min(),o=ke.newNoDocument(i,s);t=new Ep([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=zr(n,r.document);t=new Ep([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new cse(i,s);t=new o2(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return L.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?L.min():s.readTime?rt(s.readTime):L.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Ml(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=fp(a)?{documents:y2(i,a)}:{query:hb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=d2(i,s.resumeToken);const u=ub(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(L.min())>0){o.readTime=Qa(i,s.snapshotVersion.toTimestamp());const u=ub(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function wse(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Ml(this.serializer),t.removeTarget=e,this.Wo(t)}}class uoe extends cU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(F(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function vse(n,e){return n&&n.length>0?(F(void 0!==e),n.map(t=>function(r,i){let s=rt(r.updateTime?r.updateTime:i);return s.isEqual(L.min())&&(s=rt(i)),new sse(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=rt(e.commitTime);return this.listener.cu(r,t)}return F(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ml(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function kl(n,e){let t;if(e instanceof Wa)t={update:g2(n,e.key,e.value)};else if(e instanceof Ka)t={delete:xl(n,e.key)};else if(e instanceof Ti)t={update:g2(n,e.key,e.data),updateMask:Dse(e.fieldMask)};else{if(!(e instanceof nb))return R();t={verify:xl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof qa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ho)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof za)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw R()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:mse(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),t;var i}(this.serializer,r))};this.Wo(t)}}class coe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(E.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class doe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(tt(t),this.mu=!1):T("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hoe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;ds(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield tu(l),l.bu.set("Unknown"),l.vu.delete(4),yield jl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new doe(r,i)}}function jl(n){return Lb.apply(this,arguments)}function Lb(){return Lb=g(function*(n){if(ds(n))for(const e of n.Ru)yield e(!0)}),Lb.apply(this,arguments)}function tu(n){return Vb.apply(this,arguments)}function Vb(){return Vb=g(function*(n){for(const e of n.Ru)yield e(!1)}),Vb.apply(this,arguments)}function Vp(n,e){const t=x(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),jb(t)?Bb(t):ru(t).Ko()&&Ub(t,e))}function $l(n,e){const t=x(n),r=ru(t);t.Au.delete(e),r.Ko()&&lU(t,e),0===t.Au.size&&(r.Ko()?r.jo():ds(t)&&t.bu.set("Unknown"))}function Ub(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(L.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ru(n).su(e)}function lU(n,e){n.Vu.qt(e),ru(n).iu(e)}function Bb(n){n.Vu=new dse({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ru(n).start(),n.bu.gu()}function jb(n){return ds(n)&&!ru(n).Uo()&&n.Au.size>0}function ds(n){return 0===x(n).vu.size}function dU(n){n.Vu=void 0}function foe(n){return $b.apply(this,arguments)}function $b(){return $b=g(function*(n){n.Au.forEach((e,t)=>{Ub(n,e)})}),$b.apply(this,arguments)}function poe(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=g(function*(n,e){dU(n),jb(n)?(n.bu.Iu(e),Bb(n)):n.bu.set("Unknown")}),Hb.apply(this,arguments)}function goe(n,e,t){return Gb.apply(this,arguments)}function Gb(){return Gb=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof a2&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Up(n,r)}else if(e instanceof Ep?n.Vu.Ht(e):e instanceof o2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(L.min()))try{const r=yield Z2(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(vt.EMPTY_BYTE_STRING,c.snapshotVersion)),lU(i,a);const l=new Ai(c.target,a,u,c.sequenceNumber);Ub(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Up(n,r)}var r}),Gb.apply(this,arguments)}function Up(n,e,t){return qb.apply(this,arguments)}function qb(){return qb=g(function*(n,e,t){if(!es(e))throw e;n.vu.add(1),yield tu(n),n.bu.set("Offline"),t||(t=()=>Z2(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield jl(n)}))}),qb.apply(this,arguments)}function hU(n,e){return e().catch(t=>Up(n,t,e))}function nu(n){return zb.apply(this,arguments)}function zb(){return zb=g(function*(n){const e=x(n),t=hs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;moe(e);)try{const i=yield eoe(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,yoe(e,i)}catch(i){yield Up(e,i)}fU(e)&&pU(e)}),zb.apply(this,arguments)}function moe(n){return ds(n)&&n.Eu.length<10}function yoe(n,e){n.Eu.push(e);const t=hs(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function fU(n){return ds(n)&&!hs(n).Uo()&&n.Eu.length>0}function pU(n){hs(n).start()}function _oe(n){return Wb.apply(this,arguments)}function Wb(){return Wb=g(function*(n){hs(n).hu()}),Wb.apply(this,arguments)}function voe(n){return Kb.apply(this,arguments)}function Kb(){return Kb=g(function*(n){const e=hs(n);for(const t of n.Eu)e.uu(t.mutations)}),Kb.apply(this,arguments)}function woe(n,e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=g(function*(n,e,t){const r=n.Eu.shift(),i=ib.from(r,e,t);yield hU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield nu(n)}),Qb.apply(this,arguments)}function Eoe(n,e){return Yb.apply(this,arguments)}function Yb(){return Yb=g(function*(n,e){var t;e&&hs(n).ou&&(yield(t=g(function*(r,i){if(t2(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();hs(r).Qo(),yield hU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield nu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),fU(n)&&pU(n)}),Yb.apply(this,arguments)}function gU(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=g(function*(n,e){const t=x(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=ds(t);t.vu.add(3),yield tu(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield jl(t)}),Jb.apply(this,arguments)}function Zb(){return Zb=g(function*(n,e){const t=x(n);e?(t.vu.delete(2),yield jl(t)):e||(t.vu.add(2),yield tu(t),t.bu.set("Unknown"))}),Zb.apply(this,arguments)}function ru(n){return n.Su||(n.Su=function(e,t,r){const i=x(e);return i.fu(),new aoe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:foe.bind(null,n),ao:poe.bind(null,n),nu:goe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),jb(n)?Bb(n):n.bu.set("Unknown")):(yield n.Su.stop(),dU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function hs(n){return n.Du||(n.Du=function(e,t,r){const i=x(e);return i.fu(),new uoe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:_oe.bind(null,n),ao:Eoe.bind(null,n),au:voe.bind(null,n),cu:woe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield nu(n)):(yield n.Du.stop(),n.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class e0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new e0(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iu(n,e){if(tt("AsyncQueue",`${e}: ${n}`),es(n))return new C(E.UNAVAILABLE,`${e}: ${n}`);throw n}class su{constructor(e){this.comparator=e?(t,r)=>e(t,r)||S.comparator(t.key,r.key):(t,r)=>S.comparator(t.key,r.key),this.keyedMap=Il(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mU{constructor(){this.Cu=new Se(S.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):R():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ou{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new ou(e,t,su.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ioe{constructor(){this.Nu=void 0,this.listeners=[]}}class Coe{constructor(){this.queries=new bi(e=>FV(e),wl),this.onlineState="Unknown",this.ku=new Set}}function n0(){return n0=g(function*(n,e){const t=x(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Ioe),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=iu(o,`Initialization of query '${eb(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&o0(t)}),n0.apply(this,arguments)}function s0(){return s0=g(function*(n,e){const t=x(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),s0.apply(this,arguments)}function Doe(n,e){const t=x(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&o0(t)}function boe(n,e,t){const r=x(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function o0(n){n.ku.forEach(e=>{e.next()})}class a0{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class vU{constructor(e){this.key=e}}class wU{constructor(e){this.key=e}}class EU{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Z(),this.mutatedKeys=Z(),this.tc=VV(e),this.ec=new su(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new mU,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=El(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new ou(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new mU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Z(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new wU(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new vU(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Z();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ou.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Soe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xoe{constructor(e){this.key=e,this.fc=!1}}class Moe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new bi(a=>FV(a),wl),this._c=new Map,this.mc=new Set,this.gc=new Se(S.comparator),this.yc=new Map,this.Ic=new wb,this.Tc={},this.Ec=new Map,this.Ac=_o.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function koe(n,e){return u0.apply(this,arguments)}function u0(){return u0=g(function*(n,e){const t=k0(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield Za(t.localStore,yn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield c0(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Vp(t.remoteStore,o)}return i}),u0.apply(this,arguments)}function c0(n,e,t,r,i){return l0.apply(this,arguments)}function l0(){return l0=g(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let I=y.view.sc(v);I.zi&&(I=yield Rp(m.localStore,y.query,!1).then(({documents:Y})=>y.view.sc(Y,I)));const P=_&&_.targetChanges.get(y.targetId),V=y.view.applyChanges(I,m.isPrimaryClient,P);return w0(m,y.targetId,V.cc),V.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Rp(n.localStore,e,!0),o=new EU(e,s.ir),a=o.sc(s.documents),u=Sl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);w0(n,t,c.cc);const l=new Soe(e,t,o);return n.wc.set(e,l),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),l0.apply(this,arguments)}function Noe(n,e){return d0.apply(this,arguments)}function d0(){return d0=g(function*(n,e){const t=x(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!wl(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield eu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$l(t.remoteStore,r.targetId),au(t,r.targetId)}).catch(Zi))):(au(t,r.targetId),yield eu(t.localStore,r.targetId,!0))}),d0.apply(this,arguments)}function h0(){return h0=g(function*(n,e,t){const r=N0(n);try{const i=yield function(s,o){const a=x(s),u=$e.now(),c=o.reduce((h,f)=>h.add(f.key),Z());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=An(),p=Z();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,v)=>{v.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const v of o){const _=ase(v,l.get(v.key).overlayedDocument);null!=_&&y.push(new Ti(v.key,_,IV(_.value.mapValue),Le.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:BV(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Se($)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Si(r,i.changes),yield nu(r.remoteStore)}catch(i){const s=iu(i,"Failed to persist write");t.reject(s)}}),h0.apply(this,arguments)}function IU(n,e){return f0.apply(this,arguments)}function f0(){return f0=g(function*(n,e){const t=x(n);try{const r=yield Zse(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(F(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?F(o.fc):i.removedDocuments.size>0&&(F(o.fc),o.fc=!1))}),yield Si(t,r,e)}catch(r){yield Zi(r)}}),f0.apply(this,arguments)}function CU(n,e,t){const r=x(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&o0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Poe(n,e,t){return p0.apply(this,arguments)}function p0(){return p0=g(function*(n,e,t){const r=x(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Se(S.comparator);o=o.insert(s,ke.newNoDocument(s,L.min()));const a=Z().add(s),u=new Al(L.min(),new Map,new Se($),o,a);yield IU(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),E0(r)}else yield eu(r.localStore,e,!1).then(()=>au(r,e,t)).catch(Zi)}),p0.apply(this,arguments)}function Ooe(n,e){return g0.apply(this,arguments)}function g0(){return g0=g(function*(n,e){const t=x(n),r=e.batch.batchId;try{const i=yield Xse(t.localStore,e);v0(t,r,null),_0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Si(t,i)}catch(i){yield Zi(i)}}),g0.apply(this,arguments)}function Foe(n,e,t){return m0.apply(this,arguments)}function m0(){return m0=g(function*(n,e,t){const r=x(n);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(F(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);v0(r,e,t),_0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Si(r,i)}catch(i){yield Zi(i)}}),m0.apply(this,arguments)}function _0(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function v0(n,e,t){const r=x(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function au(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||DU(n,r)})}function DU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&($l(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),E0(n))}function w0(n,e,t){for(const r of t)r instanceof vU?(n.Ic.addReference(r.key,e),Voe(n,r)):r instanceof wU?(T("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||DU(n,r.key)):R()}function Voe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.mc.add(r),E0(n))}function E0(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new S(pe.fromString(e)),r=n.Ac.next();n.yc.set(r,new xoe(t)),n.gc=n.gc.insert(t,r),Vp(n.remoteStore,new Ai(yn(Ga(t.path)),r,"TargetPurposeLimboResolution",jn.ct))}}function Si(n,e,t){return I0.apply(this,arguments)}function I0(){return I0=g(function*(n,e,t){const r=x(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const l=bb.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!es(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),I0.apply(this,arguments)}function Uoe(n,e){return C0.apply(this,arguments)}function C0(){return C0=g(function*(n,e){const t=x(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield X2(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Si(t,r.er)}var i}),C0.apply(this,arguments)}function Boe(n,e){const t=x(n),r=t.yc.get(e);if(r&&r.fc)return Z().add(r.key);{let i=Z();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function k0(n){const e=x(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Boe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Poe.bind(null,e),e.dc.nu=Doe.bind(null,e.eventManager),e.dc.Pc=boe.bind(null,e.eventManager),e}function N0(n){const e=x(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ooe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Foe.bind(null,e),e}class Bp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=Bl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function J2(n,e,t,r){return new Jse(n,e,t,r)}(this.persistence,new Y2,e.initialUser,this.serializer)}createPersistence(e){return new Eb(Mp.zs,this.serializer)}createSharedClientState(e){return new oU}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uu{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>CU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Uoe.bind(null,r.syncEngine),yield function Xb(n,e){return Zb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Coe}createDatastore(e){const t=Bl(e.databaseInfo.databaseId),r=new ooe(e.databaseInfo);return new coe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>CU(this.syncEngine,a,0),o=aU.D()?new aU:new roe,new hoe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new Moe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=x(t);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield tu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class jp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Zoe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=ZL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=iu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $p(n,e){return R0.apply(this,arguments)}function R0(){return R0=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield X2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),R0.apply(this,arguments)}function P0(n,e){return O0.apply(this,arguments)}function O0(){return O0=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield F0(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>gU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>gU(e.remoteStore,s)),n._onlineComponents=e}),O0.apply(this,arguments)}function MU(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function F0(n){return L0.apply(this,arguments)}function L0(){return L0=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $p(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!MU(t))throw t;_r("Error using user provided cache. Falling back to memory cache: "+t),yield $p(n,new Bp)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield $p(n,new Bp);return n._offlineComponents}),L0.apply(this,arguments)}function Hp(n){return V0.apply(this,arguments)}function V0(){return V0=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield P0(n,n._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield P0(n,new uu))),n._onlineComponents}),V0.apply(this,arguments)}function cu(n){return B0.apply(this,arguments)}function B0(){return B0=g(function*(n){const e=yield Hp(n),t=e.eventManager;return t.onListen=koe.bind(null,e.syncEngine),t.onUnlisten=Noe.bind(null,e.syncEngine),t}),B0.apply(this,arguments)}function FU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const LU=new Map;function j0(n,e,t){if(!t)throw new C(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VU(n){if(!S.isDocumentKey(n))throw new C(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UU(n){if(S.isDocumentKey(n))throw new C(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":R()}function he(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qp(n);throw new C(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class jU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function uae(n,e,t,r){if(!0===e&&!0===r)throw new C(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=FU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hl{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oie;switch(t.type){case"firstParty":return new lie(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new C(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LU.get(e);t&&(T("ComponentProvider","Removing Datastore"),LU.delete(e),t.terminate())}(this),Promise.resolve()}}class it{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}}class qt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Wr extends qt{constructor(e,t,r){super(e,t,Ga(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new S(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function lae(n,e,...t){if(n=Cn(n),j0("collection","path",e),n instanceof Hl){const r=pe.fromString(e,...t);return UU(r),new Wr(n,null,r)}{if(!(n instanceof it||n instanceof Wr))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pe.fromString(e,...t));return UU(r),new Wr(n.firestore,null,r)}}function $U(n,e,...t){if(n=Cn(n),1===arguments.length&&(e=ZL.A()),j0("doc","path",e),n instanceof Hl){const r=pe.fromString(e,...t);return VU(r),new it(n,null,new S(r))}{if(!(n instanceof it||n instanceof Wr))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pe.fromString(e,...t));return VU(r),new it(n.firestore,n instanceof Wr?n.converter:null,new S(r))}}class dae{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ob(this,"async_queue_retry"),this.Xc=()=>{const t=Lp();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Lp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Lp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new _t;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!es(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=e0.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&R()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function $0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Ne extends Hl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dae,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GU(this),this._firestoreClient.terminate()}}function fae(n,e){const r="string"==typeof n?n:e||"(default)",i=Ea("object"==typeof n?n:wv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=BR("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function cae(n,e,t,r={}){var i;const s=(n=he(n,Hl))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=kt.MOCK_USER;else{a=function HK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hh(JSON.stringify({alg:"none",type:"JWT"})),Hh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(c)}n._authCredentials=new aie(new JL(a,u))}}(i,...s)}return i}function dt(n){return n._firestoreClient||GU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GU(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Bie(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FU(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new Zoe(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(vt.fromBase64String(e))}catch(t){throw new C(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wo(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class WU{constructor(e){this._methodName=e}}class H0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $(this._lat,e._lat)||$(this._long,e._long)}}const gae=/^__.*__$/;class mae{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wa(e,this.data,t,this.fieldTransforms)}}function QU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class zp{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(QU(this.ca)&&gae.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yae{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bl(e)}ya(e,t,r,i=!1){return new zp({ca:e,methodName:t,ga:r,path:nt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function du(n){const e=n._freezeSettings(),t=Bl(n._databaseId);return new yae(n._databaseId,!!e.ignoreUndefinedProperties,t)}function G0(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);z0("Data must be an object, but it was:",o,r);const a=eB(r,o);let u,c;if(s.merge)u=new Tn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=zl(e,d,t);if(!o.contains(h))throw new C(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);nB(l,h)||l.push(h)}u=new Tn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new mae(new Gt(a),u,c)}function Eo(n,e){if(tB(n=Cn(n)))return z0("Unsupported field value:",e,n),eB(n,e);if(n instanceof WU)return function(t,r){if(!QU(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Eo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Cn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return GV(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=$e.fromDate(t);return{timestampValue:Qa(r.serializer,i)}}if(t instanceof $e){const i=new $e(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qa(r.serializer,i)}}if(t instanceof H0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wo)return{bytesValue:d2(r.serializer,t._byteString)};if(t instanceof it){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${qp(t)}`)}(n,e)}function eB(n,e){const t={};return fV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(n,(r,i)=>{const s=Eo(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function tB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $e||n instanceof H0||n instanceof wo||n instanceof it||n instanceof WU)}function z0(n,e,t){if(!tB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=qp(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function zl(n,e,t){if((e=Cn(e))instanceof lu)return e._internalPath;if("string"==typeof e)return Wp(n,e);throw Kp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Eae=new RegExp("[~\\*/\\[\\]]");function Wp(n,e,t){if(e.search(Eae)>=0)throw Kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lu(...e.split("."))._internalPath}catch(r){throw Kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kp(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(E.INVALID_ARGUMENT,a+n+u)}function nB(n,e){return n.some(t=>t.isEqual(e))}class W0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Iae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Iae extends W0{data(){return super.data()}}function Qp(n,e){return"string"==typeof e?Wp(n,e):e instanceof lu?e._internalPath:e._delegate._internalPath}function Q0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Io{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends W0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Qp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Zp extends fu{data(e={}){return super.data(e)}}class pu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Zp(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Io(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Io(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Tae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Tae(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class fs extends class Dae{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw R()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ts(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new H0(Xe(e.latitude),Xe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new $e(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pe.fromString(e);F(E2(r));const i=new oo(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(t)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,t)}}function Aae(n,e,t){n=he(n,it);const r=he(n.firestore,Ne),i=Q0(n.converter,e,t);return Kl(r,[G0(du(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Le.none())])}function Sae(n){return Kl(he(n.firestore,Ne),[new Ka(n._key,Le.none())])}function xae(n,e){const t=he(n.firestore,Ne),r=$U(n),i=Q0(n.converter,e);return Kl(t,[G0(du(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Le.exists(!1))]).then(()=>r)}function Kl(n,e){return function(t,r){const i=new _t;return t.asyncQueue.enqueueAndForget(g(function*(){return function Roe(n,e,t){return h0.apply(this,arguments)}(yield function U0(n){return Hp(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(dt(n),e)}!function(n,e=!0){Va="9.23.0",pn(new Jt("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Ne(new uie(t.getProvider("auth-internal")),new die(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ke(YL,"3.13.0",n),Ke(YL,"3.13.0","esm2017")}();var tg=function(){return tg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},tg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var $ae={includeMetadataChanges:!1};function X0(n,e){return void 0===e&&(e=$ae),new Pe(function(t){var r=function Mae(n,...e){var t,r,i;n=Cn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||$0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($0(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(n instanceof it)c=he(n.firestore,Ne),l=Ga(n._key.path),u={next:d=>{e[o]&&e[o](function Y0(n,e,t){const r=t.docs.get(e._key),i=new fs(n);return new fu(n,i,e._key,r,new Io(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=he(n,qt);c=he(d.firestore,Ne),l=d._query;const h=new fs(c);u={next:f=>{e[o]&&e[o](new pu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function rB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new C(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new jp(p),y=new a0(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function t0(n,e){return n0.apply(this,arguments)}(yield cu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function r0(n,e){return s0.apply(this,arguments)}(yield cu(d),y)}))}}(dt(c),l,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Qae(n,e){return void 0===e&&(e={}),function Kae(n){return X0(n,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}(n).pipe(me(function(t){return t.map(function(r){return function dB(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?tg(tg({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class ng{constructor(e){return e}}const gB="firestore",tT=new G("angularfire2.firestore-instances");function Zae(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ng(r)}}const eue={provide:class Jae{constructor(){return yE(gB)}},deps:[[new gt,tT]]},tue={provide:ng,useFactory:function Xae(n,e){const t=mE(gB,n,e);return t&&new ng(t)},deps:[[new gt,tT],Ta]};let nue=(()=>{class n{constructor(){Ke("angularfire",sf.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[tue,eue]}),n})();function rue(n,...e){return{ngModule:nue,providers:[{provide:tT,useFactory:Zae(n),multi:!0,deps:[Ze,bt,_E,vE,[new gt,RF],[new gt,jE],...e]}]}}const iue=mi(Qae,!0),sue=mi(xae,!0),oue=mi(lae,!0),aue=mi(Sae,!0),nT=mi($U,!0),uue=mi(fae,!0),mB=mi(Aae,!0);let yB=(()=>{class n{constructor(t){this.firestore=t}getList(t){const r=oue(this.firestore,t);return this.item$=iue(r),this.item$}includeDoc(t,r){sue(t,r)}insertDoc(t,r,i){var s=this;return g(function*(){yield mB(nT(s.firestore,t,r),i)})()}updateDoc(t,r,i){var s=this;return g(function*(){yield mB(nT(s.firestore,t,r),i)})()}delete(t,r){var i=this;return g(function*(){yield aue(nT(i.firestore,t,r))})()}}return n.\u0275fac=function(t){return new(t||n)(O(ng))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_B=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(si),b(Ln))},n.\u0275dir=j({type:n}),n})(),Co=(()=>{class n extends _B{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kt(n)))(r||n)}}(),n.\u0275dir=j({type:n,features:[ve]}),n})();const Kr=new G("NgValueAccessor"),due={provide:Kr,useExisting:be(()=>rg),multi:!0},fue=new G("CompositionEventMode");let rg=(()=>{class n extends _B{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hue(){const n=Nr()?Nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(si),b(Ln),b(fue,8))},n.\u0275dir=j({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&qe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Fe([due]),ve]}),n})();const rn=new G("NgValidators"),gs=new G("NgAsyncValidators");function xB(n){return null!=n}function MB(n){const e=Qu(n)?Ot(n):n;return vy(e),e}function kB(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function NB(n,e){return e.map(t=>t(n))}function RB(n){return n.map(e=>function gue(n){return!n.validate}(e)?e:t=>e.validate(t))}function rT(n){return null!=n?function PB(n){if(!n)return null;const e=n.filter(xB);return 0==e.length?null:function(t){return kB(NB(t,e))}}(RB(n)):null}function iT(n){return null!=n?function OB(n){if(!n)return null;const e=n.filter(xB);return 0==e.length?null:function(t){return function cue(...n){const e=cA(n),{args:t,keys:r}=TN(n),i=new Pe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;nr(t[l]).subscribe(Et(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?SN(r,a):a),s.complete())}))}});return e?i.pipe(AN(e)):i}(NB(t,e).map(MB)).pipe(me(kB))}}(RB(n)):null}function FB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sT(n){return n?Array.isArray(n)?n:[n]:[]}function sg(n,e){return Array.isArray(n)?n.includes(e):n===e}function UB(n,e){const t=sT(e);return sT(n).forEach(i=>{sg(t,i)||t.push(i)}),t}function BB(n,e){return sT(e).filter(t=>!sg(n,t))}class jB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ms extends jB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _n extends jB{get formDirective(){return null}get path(){return null}}let HB=(()=>{class n extends class $B{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(ms,2))},n.\u0275dir=j({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Yd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ve]}),n})();function Ql(n,e){(function uT(n,e){const t=function LB(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(FB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function VB(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(FB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cg(e._rawValidators,i),cg(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function Due(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qB(n,e)})}(n,e),function Tue(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bue(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Cue(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Yl="VALID",dg="INVALID",gu="PENDING",Jl="DISABLED";function fT(n){return(hg(n)?n.validators:n)||null}function QB(n){return Array.isArray(n)?rT(n):n||null}function pT(n,e){return(hg(e)?e.asyncValidators:n)||null}function YB(n){return Array.isArray(n)?iT(n):n||null}function hg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const gT=n=>n instanceof yT;function XB(n){return(n=>n instanceof tj)(n)?n.value:n.getRawValue()}function ZB(n,e){const t=gT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new ue(1e3,"");if(!r[e])throw new ue(1001,"")}function ej(n,e){gT(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new ue(1002,"")})}class mT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=QB(this._rawValidators),this._composedAsyncValidatorFn=YB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yl}get invalid(){return this.status===dg}get pending(){return this.status==gu}get disabled(){return this.status===Jl}get enabled(){return this.status!==Jl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=QB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=YB(e)}addValidators(e){this.setValidators(UB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BB(e,this._rawAsyncValidators))}hasValidator(e){return sg(this._rawValidators,e)}hasAsyncValidator(e){return sg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yl,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yl||this.status===gu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jl:Yl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gu,this._hasOwnPendingAsyncValidator=!0;const t=MB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Mue(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=gT(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Nue)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Jl:this.errors?dg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gu)?gu:this._anyControlsHaveStatus(dg)?dg:Yl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tj extends mT{constructor(e=null,t,r){super(fT(t),pT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hg(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class yT extends mT{constructor(e,t,r){super(fT(t),pT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ej(this,e),Object.keys(e).forEach(r=>{ZB(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=XB(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Nue extends mT{constructor(e,t,r){super(fT(t),pT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ej(this,e),e.forEach((r,i)=>{ZB(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>XB(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Oue={provide:ms,useExisting:be(()=>vT)},ij=(()=>Promise.resolve(null))();let vT=(()=>{class n extends ms{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new tj,this._registered=!1,this.update=new We,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===rg?t=s:function xue(n){return Object.getPrototypeOf(n.constructor)===Co}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function cT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ql(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ij.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;ij.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function ag(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(b(_n,9),b(rn,10),b(gs,10),b(Kr,10),b(ch,8))},n.\u0275dir=j({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fe([Oue]),ve,qn]}),n})();const Lue={provide:Kr,useExisting:be(()=>wT),multi:!0};let wT=(()=>{class n extends Co{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kt(n)))(r||n)}}(),n.\u0275dir=j({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&qe("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Fe([Lue]),ve]}),n})(),sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({}),n})();const zue={provide:Kr,useExisting:be(()=>fg),multi:!0};function hj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fg=(()=>{class n extends Co{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=hj(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Wue(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kt(n)))(r||n)}}(),n.\u0275dir=j({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&qe("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fe([zue]),ve]}),n})(),fj=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(hj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(Ln),b(si),b(fg,9))},n.\u0275dir=j({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Kue={provide:Kr,useExisting:be(()=>DT),multi:!0};function pj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let DT=(()=>{class n extends Co{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Que(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Kt(n)))(r||n)}}(),n.\u0275dir=j({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&qe("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fe([Kue]),ve]}),n})(),gj=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(pj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(Ln),b(si),b(DT,9))},n.\u0275dir=j({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),sce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({imports:[[sj]]}),n})(),oce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({imports:[sce]}),n})();function ace(n,e){if(1&n){const t=Qd();ce(0,"li")(1,"div",2)(2,"label"),Ue(3),le(),ce(4,"label"),Ue(5),le(),ce(6,"label"),Ue(7),le(),ce(8,"button",12),qe("click",function(){gd(t);const i=Qn().$implicit;return Qn().pay(i.id,i.entidade,i.valor,i.vencimento,i.recorrente)}),Ue(9,"paguei"),le()()()}if(2&n){const t=Qn().$implicit;Dt(3),Ju(t.entidade),Dt(2),Xd("R$ ",t.valor,""),Dt(2),Ju(t.vencimento)}}function uce(n,e){if(1&n&&(ce(0,"ul"),xs(1,ace,10,3,"li",14),le()),2&n){const t=e.$implicit;Dt(1),dn("ngIf",0==t.paga)}}function cce(n,e){1&n&&(ce(0,"p",15),Ue(1,"favor preencher os campos"),le())}const lce=[{path:"",component:FR},{path:"pagar",component:(()=>{class n{constructor(t){this.fire=t,this.collection="conta",this.recurrent=!1,this.require=!1}ngOnInit(){this.item$=this.fire.getList("conta")}ngOnDestroy(){throw new Error("Method not implemented.")}addAccount(){if(!this.entidade||!this.valor||null==this.vencimento)return void(this.require=!0);let t={entidade:this.entidade,valor:this.valor,vencimento:this.vencimento,paga:!1,recorrente:this.recurrent,id:this.returnId(this.entidade)};this.fire.insertDoc(this.collection,this.returnId(this.entidade),t),this.entidade="",this.valor=void 0,this.vencimento=void 0,this.recurrent=!1}returnId(t){const r=new Date;return t+(r.getDate().toString().padStart(2,"0")+(r.getMonth()+1).toString().padStart(2,"0")+r.getFullYear().toString())}pay(t,r,i,s,o){this.fire.updateDoc("conta",t,{entidade:r,valor:i,vencimento:s,recorrente:o,id:t,paga:!0})}}return n.\u0275fac=function(t){return new(t||n)(b(yB))},n.\u0275cmp=Er({type:n,selectors:[["app-payable"]],decls:42,vars:10,consts:[[1,"all"],[1,"box"],[1,"flex-rw"],["for",""],[4,"ngFor","ngForOf"],[1,"box","min-heigth","flex-cl"],[1,"input","flex-rw"],["type","text",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["type","date",3,"ngModel","ngModelChange"],["name","recorrente","id","",3,"ngModel","ngModelChange"],[3,"value"],[3,"click"],["class","warning",4,"ngIf"],[4,"ngIf"],[1,"warning"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"h3"),Ue(2,"Contas \xe0 pagar"),le(),ce(3,"div",1)(4,"div",2)(5,"label",3),Ue(6,"Entidade"),le(),ce(7,"label",3),Ue(8,"Valor"),le(),ce(9,"label",3),Ue(10,"Validade"),le(),ce(11,"label",3),Ue(12,"A\xe7\xe3o"),le()(),Bi(13,"hr"),xs(14,uce,2,1,"ul",4),function Kk(n,e){const t=fe();let r;const i=n+20;t.firstCreatePass?(r=function F6(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=bs(r.type)),o=ki(b);try{const a=Dd(!1),u=s();return Dd(a),function tq(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{ki(o)}}(15,"async"),le(),ce(16,"h3"),Ue(17,"Adicionar conta"),le(),ce(18,"div",5)(19,"div",6)(20,"label"),Ue(21,"Entidade"),le(),ce(22,"input",7),qe("ngModelChange",function(s){return r.entidade=s}),le()(),ce(23,"div",6)(24,"label"),Ue(25,"Valor R$"),le(),ce(26,"input",8),qe("ngModelChange",function(s){return r.valor=s}),le()(),ce(27,"div",6)(28,"label"),Ue(29,"Vencimento"),le(),ce(30,"input",9),qe("ngModelChange",function(s){return r.vencimento=s}),le()(),ce(31,"div",6)(32,"label"),Ue(33,"\xc9 recorrente?"),le(),ce(34,"select",10),qe("ngModelChange",function(s){return r.recurrent=s}),ce(35,"option",11),Ue(36,"Sim"),le(),ce(37,"option",11),Ue(38,"N\xe3o"),le()()(),ce(39,"button",12),qe("click",function(){return r.addAccount()}),Ue(40,"Adicionar"),le()(),xs(41,cce,2,0,"p",13),le()),2&t&&(Dt(14),dn("ngForOf",Qk(15,8,r.item$)),Dt(8),dn("ngModel",r.entidade),Dt(4),dn("ngModel",r.valor),Dt(4),dn("ngModel",r.vencimento),Dt(4),dn("ngModel",r.recurrent),Dt(1),dn("value",!0),Dt(2),dn("value",!1),Dt(4),dn("ngIf",r.require))},directives:[I_,C_,rg,HB,vT,wT,fg,fj,gj],pipes:[uN],styles:[".all[_ngcontent-%COMP%]{margin:8px}.all[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:260px;border:1px solid #000;padding:4px}.all[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.min-heigth[_ngcontent-%COMP%]{min-height:40px}.flex-cl[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.flex-rw[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.warning[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),n})()},{path:"pagas",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Er({type:n,selectors:[["app-paid"]],decls:2,vars:0,template:function(t,r){1&t&&(ce(0,"p"),Ue(1,"paid works!"),le())},styles:[""]}),n})()},{path:"historico",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Er({type:n,selectors:[["app-historic"]],decls:2,vars:0,template:function(t,r){1&t&&(ce(0,"p"),Ue(1,"historic works!"),le())},styles:[""]}),n})()},{path:"checklist",component:FR}];let dce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({imports:[[RR.forRoot(lce)],RR]}),n})();function hce(n,e){if(1&n){const t=Qd();ce(0,"li",7),qe("click",function(){gd(t);const i=Qn().$implicit;return Qn().navigateTo(i.link)}),Ue(1),le()}if(2&n){const t=Qn().$implicit;Dt(1),Ju(t.label)}}function fce(n,e){if(1&n){const t=Qd();ce(0,"li",7),qe("click",function(){gd(t);const i=Qn().$implicit;return Qn().navigateTo(i.link)}),Bi(1,"div",8),le()}if(2&n){const t=Qn().$implicit,r=Qn();Dt(1),dn("innerHTML",r.returnIcon(t.icon),qS)}}function pce(n,e){if(1&n&&(ce(0,"ul",5),xs(1,hce,2,1,"li",6),xs(2,fce,2,1,"li",6),le()),2&n){const t=Qn();Dt(1),dn("ngIf",t.toggle),Dt(1),dn("ngIf",!t.toggle)}}let gce=(()=>{class n{constructor(t){this.route=t,this.icon="<>",this.toggle=!1,this.menu=[{label:"Contas \xe0 pagar",link:"pagar",icon:"cash-register"},{label:"Contas pagas",link:"pagas",icon:"receipt"},{label:"Checklist contas",link:"checklist",icon:"comments-dollar"},{label:"Hist\xf3rico",link:"historico",icon:"clock-rotate-left"}]}ngOnInit(){}navigateTo(t){this.route.navigate(["/"+t])}toggleSideBar(){this.toggle=!this.toggle}returnIcon(t){return`<i class="fa-solid fa-${t}"></i>`}}return n.\u0275fac=function(t){return new(t||n)(b(In))},n.\u0275cmp=Er({type:n,selectors:[["app-sidebar"]],decls:5,vars:2,consts:[[3,"ngClass"],[1,"box-list"],["class","list",4,"ngFor","ngForOf"],[1,"button",3,"click"],[1,"fa-solid","fa-arrows-left-right-to-line","fa-lg"],[1,"list"],[3,"click",4,"ngIf"],[3,"click"],[3,"innerHTML"]],template:function(t,r){1&t&&(ce(0,"div",0)(1,"div",1),xs(2,pce,3,2,"ul",2),ce(3,"button",3),qe("click",function(){return r.toggleSideBar()}),Bi(4,"i",4),le()()()),2&t&&(Ey("ngClass",0==r.toggle?"all-hide":"all"),Dt(2),dn("ngForOf",r.menu))},directives:[iN,I_,C_],styles:['@charset "UTF-8";.all[_ngcontent-%COMP%], .all-hide[_ngcontent-%COMP%]{width:220px;height:100vh;background-color:#40e0d0;margin-top:-16px;font-weight:700;font-size:20px;font-family:monospace;transition:width .5s}.all-hide[_ngcontent-%COMP%]{width:60px}.box-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:14px;height:90%}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px;list-style:none;padding:0}.list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.button[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-color:transparent;border:none;padding:0;margin:auto 0 0;cursor:pointer;display:flex;justify-content:center}']}),n})(),mce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Er({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,r){1&t&&Bi(0,"router-outlet")},directives:[Y_],styles:[""]}),n})(),yce=(()=>{class n{constructor(){this.title="contas"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Er({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"all"]],template:function(t,r){1&t&&(ce(0,"div",0),Bi(1,"app-sidebar")(2,"app-home"),le())},directives:[gce,mce],styles:[".all[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:start}"]}),n})();class bj{}class Tj{}class xi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof xi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new xi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof xi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _ce{encodeKey(e){return Aj(e)}encodeValue(e){return Aj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const wce=/%(\d[a-f0-9])/gi,Ece={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Aj(n){return encodeURIComponent(n).replace(wce,(e,t)=>{var r;return null!==(r=Ece[t])&&void 0!==r?r:e})}function Sj(n){return`${n}`}class ys{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _ce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vce(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ys({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Sj(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Sj(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ice{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function xj(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Mj(n){return"undefined"!=typeof Blob&&n instanceof Blob}function kj(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Zl{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Cce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new xi),this.context||(this.context=new Ice),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ys,this.urlWithParams=t}serializeBody(){return null===this.body?null:xj(this.body)||Mj(this.body)||kj(this.body)||function Dce(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ys?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kj(this.body)?null:Mj(this.body)?this.body.type||null:xj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ys?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new Zl(r,i,o,{params:l,headers:c,context:d,reportProgress:u,responseType:s,withCredentials:a})}}var ht=(()=>((ht=ht||{})[ht.Sent=0]="Sent",ht[ht.UploadProgress=1]="UploadProgress",ht[ht.ResponseHeader=2]="ResponseHeader",ht[ht.DownloadProgress=3]="DownloadProgress",ht[ht.Response=4]="Response",ht[ht.User=5]="User",ht))();class TT{constructor(e,t=200,r="OK"){this.headers=e.headers||new xi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class AT extends TT{constructor(e={}){super(e),this.type=ht.ResponseHeader}clone(e={}){return new AT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pg extends TT{constructor(e={}){super(e),this.type=ht.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new pg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Nj extends TT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ST(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let bce=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Zl)s=t;else{let u,c;u=i.headers instanceof xi?i.headers:new xi(i.headers),i.params&&(c=i.params instanceof ys?i.params:new ys({fromObject:i.params})),s=new Zl(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=X(s).pipe(pa(u=>this.handler.handle(u)));if(t instanceof Zl||"events"===i.observe)return o;const a=o.pipe(Os(u=>u instanceof pg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(me(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(me(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ys).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ST(i,r))}post(t,r,i={}){return this.request("POST",t,ST(i,r))}put(t,r,i={}){return this.request("PUT",t,ST(i,r))}}return n.\u0275fac=function(t){return new(t||n)(O(bj))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();class Rj{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Pj=new G("HTTP_INTERCEPTORS");let Tce=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const Ace=/^\)\]\}',?\n/;let Oj=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new xi(i.getAllResponseHeaders()),m=function Sce(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new AT({headers:p,status:i.status,statusText:f,url:m}),o},u=()=>{let{headers:f,status:p,statusText:m,url:y}=a(),v=null;204!==p&&(v=void 0===i.response?i.responseText:i.response),0===p&&(p=v?200:0);let _=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const I=v;v=v.replace(Ace,"");try{v=""!==v?JSON.parse(v):null}catch(P){v=I,_&&(_=!1,v={error:P,text:v})}}_?(r.next(new pg({body:v,headers:f,status:p,statusText:m,url:y||void 0})),r.complete()):r.error(new Nj({error:v,headers:f,status:p,statusText:m,url:y||void 0}))},c=f=>{const{url:p}=a(),m=new Nj({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:ht.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:ht.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:ht.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(O(fN))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();const xT=new G("XSRF_COOKIE_NAME"),MT=new G("XSRF_HEADER_NAME");class Fj{}let xce=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=rN(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(O(Vn),O(uc),O(xT))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),kT=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Fj),O(MT))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),Mce=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Pj,[]);this.chain=r.reduceRight((i,s)=>new Rj(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Tj),O(bt))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),kce=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:kT,useClass:Tce}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:xT,useValue:t.cookieName}:[],t.headerName?{provide:MT,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[kT,{provide:Pj,useExisting:kT,multi:!0},{provide:Fj,useClass:xce},{provide:xT,useValue:"XSRF-TOKEN"},{provide:MT,useValue:"X-XSRF-TOKEN"}]}),n})(),Nce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=zt({providers:[bce,{provide:bj,useClass:Mce},Oj,{provide:Tj,useExisting:Oj}],imports:[[kce.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Rce={apiKey:"AIzaSyD89o0qg29MiWVWO7Sebdi3C1L03BWIwTo",authDomain:"contas-b9187.firebaseapp.com",projectId:"contas-b9187",storageBucket:"contas-b9187.appspot.com",messagingSenderId:"1011071984258",appId:"1:1011071984258:web:343dfbf40c40c98c33ca9b"};let Pce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n,bootstrap:[yce]}),n.\u0275inj=zt({providers:[yB,Nce],imports:[[t7,dce,lN,oce,mZ(()=>yZ(Rce)),Jne(()=>Xne()),rue(()=>uue())]]}),n})();(function $W(){R1=!1})(),Z5().bootstrapModule(Pce).catch(n=>console.error(n))}},se=>{se(se.s=507)}]);